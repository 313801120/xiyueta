/*! xiyueta v1.0.9 | Author xiyueta Adream | MIT License By http://xiyueta.com/  */
function XiyuetaCommon(){}XiyuetaCommon.prototype.copyStr=function(e,r){var l="";for(let t=1;t<=r;t++)l+=e;return l},XiyuetaCommon.prototype.bystesLength=function(t){for(var e=0,r=0;r<t.length;r++)255<t.charCodeAt(r)?e+=2:e++;return e},XiyuetaCommon.prototype.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},function(){var n=new(window._XIYUETA=function(t){"use strict";this.htmlSource=t=null==t?"":t,this.htmlArr=[],this.common=new XiyuetaCommon,this.config={version:"1.0.8",httpurl:"",serverurl:"/api/downWeb/default.asp",jsdir:"js/",cssdir:"css/",imagesdir:"images/"},this.htmlParse=function(t){null!=t&&(this.htmlSource=t,this.htmlArr=[]);for(var e="",r="",l="",n="",i=!1,s=!1,a=!1,h=!1,o=!1,u=0,m=0;m<=this.htmlSource.length-1;m++){var f,e=this.htmlSource.substr(m,1);i?(l+=e,h?">"==e&&"--\x3e"==l.substr(-3,3)&&(a=i=h=!1,this.htmlArr.push({lv:u+1,label:"!--",upHtml:n,html:l,tagpair:1}),n=l=""):s&&"\x3c!--"==l?h=!0:o?">"==e&&"%>"==l.substr(-2,2)&&(a=i=o=!1,this.htmlArr.push({lv:u+1,label:"<%",upHtml:n,html:l,tagpair:1}),n=l=""):s&&"<%"==l?o=!0:" "==e&&s?s=!1:">"==e&&(i=s=!1,f=2,"/"==r.substr(0,1)?a=!0:(u++,"/"!=r.substr(-1,1)&&-1=="|br|hr|img|link|meta|param|input|!doctype|".indexOf("|"+r.toLowerCase()+"|")||(a=!0,f=1,r=r.replace(/\//g,"").trim())),this.htmlArr.push({lv:u,label:r.toLowerCase(),upHtml:n,html:l,tagpair:f}),n=l="",a&&(u--,a=!1),"script"==r.toLowerCase()&&(f=this.htmlSource.substr(m+1).toLowerCase().indexOf("<\/script>"),l=this.htmlSource.substr(m+1,f),m+=f)),s&&(r+=e)):"<"==e?(n=l,l=e,a=!(s=i=!0),r=""):l+=e}""!=l&&this.htmlArr.push({lv:u,label:"",upHtml:"",html:l})},this.handleLeLabelParam=function(r,t,l){if(null==l&&null!=r[t])return r[t];for(var e=!1,n="",i="",s=!1,a="",h=!1,o=!0,u=0,m=r.label.length+1;m<=r.html.length-1;m++){var f=r.html.substr(m,1);if(s)if(h)if(f==a||">"==f){if(r[n=n.toLowerCase()]=i,h=s=!1,a="",t==n){if(null==l)return i;{let t=u,e=u+i.length;o&&(t++,e++);var c=r.html.substr(0,t),p=r.html.substr(e);return r.html=c+l+p,r[n]=l,r}}if(">"==f&&null!=l)return r.html=r.html.substr(0,r.html.length-1)+" "+t+'="'+l+'">',r[t]=l,!0}else i+=f;else'"'==f||"'"==f?(a=f,u=m,o=h=!0):" "!=f&&(a=" ",u=m,i=f,o=!(h=!0));else if(">"==f){if(null!=l)return r.html=r.html.substr(0,r.html.length-1)+" "+t+'="'+l+'">',r[t]=l,!0}else e?"="==f?(s=!(e=!1),a=i=""):" "!=f&&(n+=f):" "!=f&&(e=!0,n=f)}return""},this.getDocument=function(t,e,r,l){if(null==t||""==t)return"";null==e&&(e=0),null==r&&(r=0),null==l&&(l=this.htmlArr.length-1);var n,i,s=!1,a="",h=0,o=0,u="",m=-1,f=!1,c="",p="",g="",b="",d=!1;-1!=t.indexOf(" ")&&(t=(n=t.split(" "))[0],c=n[1]),-1!=t.indexOf(":eq(")?(u=(i=t.split(":eq("))[0],""!=c&&(f=!0,u+=" "+c),""!=(m=i[1].substr(0,i[1].indexOf(")")).trim())&&(m=parseInt(m))):-1!=t.indexOf("[")?(u=(i=t.split("["))[0],""!=c&&(f=!0,u+=" "+c),p=(i=(x=i[1].substr(0,i[1].indexOf("]")).trim()).split("="))[0],g=i[1],-1!=p.indexOf("|")&&(p=(i=p.split("|"))[0],b=i[1])):u=t;for(var v=r;v<=l;v++){var L,A,x,C=this.htmlArr[v];if(null!=C)if(0==f)if(s&&C.label=="/"+u&&h==C.lv){if(d&&(a+="|"+v),e==m)return a;d=s=!1,e++,a+=this.getDocument(t,e,o+1,v)}else C.label==u&&0==s&&(1!=C.tagpair&&(s=!0,h=C.lv),o=v,""==c&&(""!=p?(x=this.handleLeLabelParam(C,p),(x="NOUL"==b?x.toLowerCase():x)==g&&(a+=","+v,2==C.tagpair?d=!0:e++)):e==m||-1==m?(a+=","+v,2==C.tagpair?d=!0:e++):1==C.tagpair&&e++));else s&&C.label=="/"+u.substr(0,C.label.length-1)&&h==C.lv?(s=!1,A=d?(L=c,0):(L=t,""!=c&&(L+=" "+c),e+1),a+=this.getDocument(L,A,o+1,v)):C.label==u.substr(0,C.label.length)&&0==s&&(1!=C.tagpair&&(s=!0,h=C.lv),o=v,""!=p?(x=this.handleLeLabelParam(C,p),(x="NOUL"==b?x.toLowerCase():x)==g&&(d=!0)):e!=m&&-1!=m||(d=!0))}return a},this.each=function(t,e){var r=[];t=t.trim();for(var l,n,i=this.getDocument(t),s=i.split(","),a=1;a<=s.length-1;a++)-1!=(i=s[a]).indexOf("|")?(l=i.split("|"),n=this.htmlArr[l[0]],this.handleLeLabelParam(n,"NO&.NO"),n.innerHTML=this.getLabelHtml(parseInt(l[0]),parseInt(l[1]))):(n=this.htmlArr[i],this.handleLeLabelParam(n,"NO&.NO")),r.push(n);if(Array.isArray(r))for(var a=0,h=r.length;a<h&&0!=e.call(null,a,r[a]);a++);},this.getItem=function(t,e){null==e&&(e="");var r=[];t=t.trim();for(var l=(o=this.getDocument(t)).split(","),n=1;n<=l.length-1;n++)if(-1!=(o=l[n]).indexOf("|")){var i=o.split("|"),s=this.htmlArr[i[0]];if(""!=e)""!==(o=this.handleLeLabelParam(s,e))&&r.push(o);else{for(var a=s.html,h=parseInt(i[0])+1;h<=i[1];h++)a+=(s=this.htmlArr[h]).upHtml+s.html;""!=a&&r.push(a)}}else{var o,s=this.htmlArr[o];""!=e?""!==(o=this.handleLeLabelParam(s,e))&&r.push(o):r.push(s.html)}return r},this.attr=function(t,e,r){if(""==(e=(e=null==e?"":e).trim()))return"";if("object"==typeof t)return null==r?this.handleLeLabelParam(t,e):this.handleLeLabelParam(t,e,r);t=t.trim();var l=(s=this.getDocument(t)).split(",");if(null==r){var n=(s=l[1]).split("|"),i=this.htmlArr[n[0]];return s=this.handleLeLabelParam(i,e)}for(var s,a=1;a<=l.length-1;a++)i=-1!=(s=l[a]).indexOf("|")?(n=s.split("|"),this.htmlArr[n[0]]):this.htmlArr[s],this.handleLeLabelParam(i,e,r);return""},this.getText=function(t){t=t.trim();for(var e="",r=this.getDocument(t),l=r.split(","),n=1;n<=l.length-1;n++)if(-1!=(r=l[n]).indexOf("|"))for(var i=r.split("|"),s=parseInt(i[0])+1;s<=i[1];s++)e+=this.htmlArr[s].upHtml;return e},this.getHtml=function(t,e){t=t.trim();var r="",l=this.getDocument(t),t=l.split(",");if(t.length<2)return"";if(-1!=(l=t[1]).indexOf("|"))for(var t=l.split("|"),n=parseInt(t[0]),i=parseInt(t[1]),s=n;s<=i;s++){var a=this.htmlArr[s];a&&(n<s&&(r+=a.upHtml),("all"==e||n<s&&s<i)&&(r+=a.html))}else""!=l&&"all"==e&&(r=this.htmlArr[l].html);return r},this.setHtml=function(t,e,r){t=t.trim();for(var l=this.getDocument(t),n=l.split(","),i=1;i<=n.length-1;i++)if(-1!=(l=n[i]).indexOf("|"))for(var s=l.split("|"),a=parseInt(s[0]),h=parseInt(s[1]),o=a;o<=h;o++){var u=this.htmlArr[o];u&&(o==a?"all"==r&&(u.html=""):o<h?delete this.htmlArr[o]:o==h&&(u.upHtml=e,"all"==r&&(u.html="")))}},this.labelSwap=function(t,e){if(null==t||null==e)return!1;t=this.getDocument(t),e=this.getDocument(e);if(""==t||""==e)return!1;if(t=t.replace(/,/,""),e=e.replace(/,/,""),-1==t.indexOf("|"))var r=this.htmlArr[t];else{for(var l=t.split("|"),r=this.htmlArr[l[0]],n="",i=parseInt(l[0])+1;i<=l[1];i++)null!=(a=this.htmlArr[i])&&(n+=a.upHtml+a.html,delete this.htmlArr[i]);r.html+=n}if(-1==e.indexOf("|"))var s=this.htmlArr[e];else{for(var a,l=e.split("|"),s=this.htmlArr[l[0]],n="",i=parseInt(l[0])+1;i<=l[1];i++)null!=(a=this.htmlArr[i])&&(n+=a.upHtml+a.html,delete this.htmlArr[i]);s.html+=n}e=r.html;return r.html=s.html,s.html=e,!0},this.deleteDoc=function(t){if(t=t.trim(),""==(l=this.getDocument(t)))return!1;for(var e=l.split(","),r=1;r<=e.length-1;r++){var l=e[r];if(-1!=l.indexOf("|"))for(var n,i=l.split("|"),s=parseInt(i[0]),a=parseInt(i[1]),h=s;h<=a;h++)(n=this.htmlArr[h])&&(h==s?(n.html="",n.label=""):delete this.htmlArr[h]);else(n=this.htmlArr[l])&&(n.html="",n.label="")}return!0},this.setConfig=function(t){if(null==t)return this.config;null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir)},this.printHtml=function(t){for(var e="",r=-1,l=-1,n=0;n<=this.htmlArr.length-1;n++){var i,s,a=this.htmlArr[n];a&&("format"==t?(i=a.upHtml.trim(),s=a.html.trim(),l=a.lv,""!=s&&("/"==a.label.substr(0,1)&&a.lv==r||2==a.tagpair&&(s="\n"+this.common.copyStr("    ",a.lv-1)+s,a.lv!=r&&""!=i&&(l=a.lv,"/"!=a.label.substr(0,1)&&l--,i="\n"+this.common.copyStr("    ",l)+i))),e+=i+s):e+="zip"==t?a.upHtml.trim()+a.html.trim():a.upHtml+a.html,2==a.tagpair&&(r=a.lv))}return e},this.debug=function(t){console.log(this.htmlArr)}});console.log("%c XiYueTa %c v"+n.config.version+" 加载完成 ","font-size:18px;color:#00bbee","color:#000"),window.xiyueta=function(l){return{text:function(t){return t?n.setHtml(l,t):n.getText(l)},html:function(t,e){return t?n.setHtml(l,t,e):n.getHtml(l,e)},attr:function(t,e){return n.attr(l,t,e)},item:function(t){return n.getItem(l,t)},each:function(t){return n.each(l,t)},remove:function(){return n.deleteDoc(l)},handle:function(t,e,r){return n.handleLabelParam(l,t,e,r)},clear:function(t){return n.removeNotNeededLabel(t)},charset:function(t){return n.handleWebCharset(t)},fullurl:function(t){return n.common.fullHttpUrl(l,t)},config:function(t){return n.setConfig(t)},swap:function(t){return n.labelSwap(l,t)},scan:function(t){return n.scan(t)},cutlabel:function(t){return n.cutLabel(l,t)},parse:function(){return n.htmlParse(l)},print:function(t){return n.printHtml(t)},debug:function(t){return n.debug(t)},author:function(){alert("作者：小云\nQQ313801120\n官网:xiyueta.com")}}}}(),function(){var l=new(window._XIYUETACSS=function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.config={parentdir:"../",imagesdir:"images/"},this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);for(var e,r="",l="",n="",i="",s=!1,a=!1,h=!1,o=!1,u=0;u<=this.cssSource.length-1;u++)e=r,r=this.cssSource.substr(u,1),s?(n+=r,h?"/"==r&&"*"==e&&(s=h=!1,this.cssArr.push({lv:0,label:"/*",upHtml:i,html:n}),i=n=""):a&&"*"==r&&"/"==e?h=!0:o?" "==r&&a?a=!1:";"!=r&&"\n"!=r||(s=a=o=!1,this.cssArr.push({lv:0,label:l.toLowerCase().trim(),upHtml:i,html:n}),i=n=""):"{"==r&&a?a=!1:"}"==r&&(s=a=!1,this.cssArr.push({lv:0,label:l.toLowerCase().trim(),upHtml:i,html:n}),i=n=""),a&&(" "!=r||" "!=e&&","!=e)&&(l+=r)):" "!=r&&";"!=r&&"\n"!=r?(i=n,a=s=!0,"@"==(l=n=r)&&(o=!0)):n+=r;""!=n&&this.cssArr.push({lv:0,label:"",upHtml:"",html:n})},this.handleLeLabelParam=function(r,t,l){if(null==l&&null!=r[t])return r[t];for(var e=!1,n="",i="",s=!1,a="",h=!1,o=!0,u=0,m=r.html.indexOf("{")+1;m<=r.html.length-1;m++){var f=r.html.substr(m,1);if(s)if(h)if(f==a||"}"==f){if(r[n=n.toLowerCase().trim()]=i,h=s=!1,a="",t==n){if(null==l)return i;{let t=u,e=u+i.length;o&&(t++,e++);var c=r.html.substr(0,t),p=r.html.substr(e);return r.html=c+l+p,r[n]=l,r}}}else i+=f;else" "!=f&&(a=";",u=m,o=!(h=!0),i=f);else e?":"==f?(s=!(e=!1),a=i=""):" "!=f&&(n+=f):" "!=f&&(e=!0,n=f)}return""},this.getSetCss=function(t,e,r){for(var l=0;l<=this.cssArr.length-1;l++){var n=this.cssArr[l];if(null!=n&&t==n.label)return null==e?n.html:this.handleLeLabelParam(n,e,r)}},this.getSetAllCss=function(t,e,r){for(var l=","+t+",",n=","+t+" ",i="",s=0;s<=this.cssArr.length-1;s++){var a=this.cssArr[s];if(null!=a){var h=","+a.label+",",o=","+a.label+" ";if(-1!=h.indexOf(l)||-1!=o.indexOf(n)){if(null!=e)return this.handleLeLabelParam(a,e,r);""!=i&&(i+="\n"),i+=a.html}}}return i},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var r=this.cssArr[e];if(null!=r)if("@charset"==r.label)return null!=t?(r.html='@charset "'+t+'";',""):r.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.handleCssBackGround=function(t,e=""){for(var r,l="",n=!1,i=0;i<=this.cssArr.length-1;i++){var s,a,h,o,u=this.cssArr[i],m=u.html.toLowerCase();null!=u&&-1!=m.indexOf("background")&&(n=!1,(n=-1!=this.handleLeLabelParam(u,"background").trim().toLowerCase().indexOf("url(")||-1!=this.handleLeLabelParam(u,"background-image").trim().toLowerCase().indexOf("url(")?!0:n)&&(s=u.html.indexOf("("),m=u.html.indexOf(")"),-1!=s&&-1!=m&&(a=u.html.substr(0,s+1),h=u.html.substr(m),-1!=(o=(o=u.html.substr(s+1,m-s-1)).replace(/"/g,"").replace(/'/g,"")).indexOf("data:image/")&&(o="")),-1!=("|"+t+"|").indexOf("clean")&&""!=o?(s=o=this.common.fullHttpUrl(e,o),-1!=("|"+t+"|").indexOf("web")?(""!=(o=this.common.getUrlFileName(o,u.label))&&(r=this.config.imagesdir+o,o=this.config.parentdir+this.config.imagesdir+o),""!=o&&(-1!=("|"+t+"|").indexOf("down")?(""!=l&&(l+="[,]"),l+=s+"[|]"+r):(""!=l&&(l+="[,]"),l+=r)),u.html=a+o+h):""!=o&&(""!=l&&(l+="[,]"),l+=o,u.html=a+o+h)):""!=o&&(""!=l&&(l+="[,]"),l+=o)))}return l},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir){this.config.imagesdir=t.imagesdir;for(var e=t.cssdir.split("/"),r="",l=0;l<=e.length-2;l++)r+="../";this.config.parentdir=r}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(){for(var t="",e=0;e<=this.cssArr.length-1;e++){var r=this.cssArr[e];null!=r&&(t+=r.upHtml+r.html)}return t},this.debug=function(){console.log(this.cssArr)}});window.xiyuetaCSS=function(r){return{css:function(t,e){return l.getSetCss(r,t,e)},allcss:function(t,e){return l.getSetAllCss(r,t,e)},handlecssimg:function(t,e){return l.handleCssBackGround(t,e)},charset:function(t){return l.handleCssCharset(t)},parse:function(){return l.cssParse(r)},config:function(t){return l.setConfig(t)},print:function(){return l.printCss()},debug:function(t){return l.debug(t)}}}}(),XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",r=t.indexOf("://");for(-1!=r&&(e=t.substr(0,r+3),t=t.substr(r+3));-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var l=[],n=0,i=t.split("/"),s=0;s<=i.length-1;s++)".."==(a=i[s])?(0==n?n=s-1:--n,0<=n&&delete l[n]):(l.push(a),n=0);for(t="",s=0;s<=l.length-1;s++){var a=l[s];null!=l[s]&&(""!=t&&(t+="/"),t+=l[s])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){if(null==e)return"";if(""==(e=e.replace(/\\/g,"/").toLowerCase())||""==e||"./"==e)return"";var r="",l="",n="",i=t.indexOf("://");return-1!=i&&(r=t.substr(0,i+3),i=(t=t.substr(i+3)).lastIndexOf("/"),n=r+t.substr(0,i+1),i=t.indexOf("/"),l=r+t.substr(0,i+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?l+e:n+e),this.handleFileUrl(e)},XiyuetaCommon.prototype.getUrlFileName=function(t,e){if(""==t||null==t)return"";var r=(t=t.replace(/\\/g,"/").trim()).split("/"),l=r[r.length-1],n="",t="";return-1!=(l=-1!=l.indexOf("?")?this.setFileName(l):l).indexOf(".")&&(r=l.lastIndexOf("."),n=l.substr(0,r),t=l.substr(r+1).toLowerCase()),"img"==e?""==t?l+=".jpg":-1=="|jpg|bmp|jpeg|png|".indexOf("|"+t+"|")&&(l=n+".jpg"):"css"==e?""==t?l+=".css":-1=="|css|".indexOf("|"+t+"|")&&(l=n+".css"):"js"==e&&(""==t?l+=".js":-1=="|js|".indexOf("|"+t+"|")&&(l=n+".js")),l},XiyuetaCommon.prototype.setFileName=function(e){arrA=new Array("\\","/",":","*","?",'"',"<",">","|",".",","),arrB=new Array("撇","揦","：","星","？","“","左","右","横","。","，");for(let t=0;t<=arrA.length-1;t++)e=e.replace(/newarrA[i]/g,arrB[t]);return e=(e=(e=e.replace(/&nbsp;/g," ")).replace(/&quot;/g,"双")).replace(/\n/g,"")},_XIYUETA.prototype.handleLabelParam=function(t,e,r,l){for(var n="",i=!0,s=0;s<=this.htmlArr.length-1;s++){var a,h,o,u=this.htmlArr[s];null!=u&&-1!=("|"+t+"|").indexOf("|"+u.label+"|")&&(a=this.handleLeLabelParam(u,e),"link"==u.label&&("dns-prefetch"!=(h=this.handleLeLabelParam(u,"rel").trim().toLowerCase())&&"alternate"!=h||(a="")),-1!=("|"+r+"|").indexOf("clean")?(i=!0,""!=a&&-1==a.indexOf("apps.bdimg.com/")&&(o=a=this.common.fullHttpUrl(l,a),-1!=("|"+r+"|").indexOf("web")&&""!=(a=this.common.getUrlFileName(a,u.label))&&("img"==u.label?a=this.config.imagesdir+a:"script"==u.label?a=this.config.jsdir+a:"link"==u.label?-1!=(h=this.handleLeLabelParam(u,"rel").trim().toLowerCase()).indexOf("shortcut icon")?a=this.config.imagesdir+a:-1!=h.indexOf("stylesheet")?a=this.config.cssdir+a:(a="",i=!1):(i=!1,a="")),i&&""!=a&&(-1!=("|"+r+"|").indexOf("down")?(""!=n&&(n+="[,]"),n+=o+"[|]"+a):(""!=n&&(n+="[,]"),n+=a)),this.handleLeLabelParam(u,e,a))):""!=a&&(""!=n&&(n+="[,]"),n+=a))}return n},_XIYUETA.prototype.handleWebCharset=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var r=this.htmlArr[e];if(null!=r)if("meta"==r.label)if(-1!=r.html.toLowerCase().indexOf("charset=")){var l=this.handleLeLabelParam(r,"charset").toLowerCase().trim();if(""!=l)return null!=t&&this.handleLeLabelParam(r,"charset",t),l;if(-1!=(l=this.handleLeLabelParam(r,"content").toLowerCase().trim()).indexOf("utf-8"))return null!=t?(this.handleLeLabelParam(r,"content","text/html; charset="+t),""):"utf-8";if(-1!=l.indexOf("gb2312"))return null!=t?(this.handleLeLabelParam(r,"content","text/html; charset="+t),""):"gb2312"}}return""},_XIYUETA.prototype.removeNotNeededLabel=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var r=this.htmlArr[e];null!=r&&"/script"==r.label&&-1!=r.upHtml.indexOf("hm.baidu.com/h.js")&&(r.upHtml="")}},_XIYUETA.prototype.scan=function(t){var e,r,l=0,n=[],i=!1,s="",a="",h="",o=0,u=[];s+="网页编码："+this.handleWebCharset()+"\n",s+="网页大小："+this.common.getFileSize(this.common.bystesLength(this.htmlSource))+"\n";for(let t=0;t<=this.htmlArr.length-1;t++)(b=this.htmlArr[t])&&(2==b.tagpair&&("/"==b.label.substr(0,1)?(r=(e=b.label.substr(1)).length,e==a.substr(-1*r,r)?a=a.substr(0,a.length-r-1):(o++,b.upHtml+="\x3c!--xiyueta_tip：标签块超出"+b.html+"--\x3e",b.html="")):a+="|"+b.label),"/"!=b.label.substr(0,1)&&""!=b.label&&(-1==("|"+h+"|").indexOf("|"+b.label+"|")?(""!=h&&(h+="|"),h+=b.label,u[b.label]=1):u[b.label]++));if(""!=a){for(var m=a.split("|"),f="",c=1;c<=m.length-1;c++)f+="\x3c!--xiyueta_tip：缺少标签</"+m[c]+">--\x3e";(b=this.htmlArr[this.htmlArr.length-1])&&(b.html+=f),o+=m.length-1}var m=h.split("|"),p="";for(let t=0;t<=m.length-1;t++){var g=m[t];p+=g+"="+u[g]+","}s+="网页标签错误 "+o+"\n",s+="网页标签类型 "+m.length+"种 "+p+"\n";for(var b,d,v=this.getItem("link[rel|NOUL=stylesheet]","href"),L=this.getItem("script","src"),c=0;c<=this.htmlArr.length-1;c++)null!=(b=this.htmlArr[c])&&("body"==b.label?(l=b.lv,i=!0):0==i&&-1!="|div|span|table|ul|".indexOf("|"+b.label+"|")?(n.push(b.html),b.class=this.handleLeLabelParam(b,"class").trim().toLowerCase(),b.id=this.handleLeLabelParam(b,"id").trim().toLowerCase(),i=!0):i&&b.lv-l==1&&2==b.tagpair&&"/"!=b.label.substr(0,1)&&"!--"!=b.label&&"script"!=b.label.substr(0,6)&&(n.push(b.html),b.class=this.handleLeLabelParam(b,"class").trim().toLowerCase(),b.id=this.handleLeLabelParam(b,"id").trim().toLowerCase()),"link"==b.label&&"stylesheet"==b.rel&&(d=this.common.fullHttpUrl(this.config.httpurl,b.href),this.getUrlStr(b,d)));if(s+="共有CSS文件 "+v.length+" 条\n",s+="共有JS文件 "+L.length+" 条\n",s+="一层标签共 "+n.length+" 条\n",s+="\n",""!=v){s+="CSS列表：\n";for(let t=0;t<=v.length-1;t++)s+=this.common.fullHttpUrl(this.config.httpurl,v[t])+"\n"}if(""!=L){s+="\n\nJS列表：\n";for(let t=0;t<=L.length-1;t++)s+=this.common.fullHttpUrl(this.config.httpurl,L[t])+"\n"}if(""!=n){s+="\n\n一层标签列表：\n";for(let t=0;t<=n.length-1;t++)s+=n[t]+"\n"}return s},_XIYUETA.prototype.cutLabel=function(t,e){for(var r="",l=0;l<=this.htmlArr.length-1;l++)null!=(f=this.htmlArr[l])&&("/style"==f.label?r+=f.upHtml:"link"==f.label&&"stylesheet"==f.rel&&(r+=f.content));if(""!=(p=this.getDocument(t))){g=-1!=(p=p.replace(/,/,"")).indexOf("|")?(a=p.split("|"),f=this.htmlArr[a[0]],this.labelStat(a[0],a[1])):(f=this.htmlArr[p],this.labelStat(p,p));var n=this.handleLeLabelParam(f,"id").toLowerCase(),i=this.handleLeLabelParam(f,"class").toLowerCase();xiyuetaCSS(r).parse();for(var s=xiyuetaCSS("*").allcss()+"\n"+xiyuetaCSS("body").allcss(),a=g.config.labelList.split("|"),l=0;l<=a.length-1;l++){var h=a[l];s+="\n"+xiyuetaCSS(h).allcss(),s+="\n"+xiyuetaCSS(h+":hover").allcss()}if(""!=n&&(s+="\n"+xiyuetaCSS("#"+n).allcss()),""!=i)for(var o=i.split(" "),u=0;u<=o.length-1;u++){var m=o[u];""!=m&&(s+="\n"+xiyuetaCSS("."+m).allcss())}if(-1!=p.indexOf("|"))for(l=(a=p.split("|"))[0];l<=parseInt(a[1])-1;l++){var f=this.htmlArr[l];if(null!=f&&""!=f.label.substr(0,1)){n=this.handleLeLabelParam(f,"id").toLowerCase(),i=this.handleLeLabelParam(f,"class").toLowerCase();if(""!=n&&(s+="\n"+xiyuetaCSS("#"+n).allcss()),""!=i)for(o=i.split(" "),u=0;u<=o.length-1;u++){var c=o[u];""!=c&&(s+="\n"+xiyuetaCSS("."+c).allcss())}}}for(var p,a=s.split("}"),s="",l=0;l<=a.length-1;l++)""!=(p=a[l]).trim()&&(p+="}",-1==s.indexOf(p)&&""!=p&&(s+=p));var g=(s=""!=s?"<style>"+s+"\n</style>\n":s)+this.getHtml(t,"all")}return g},_XIYUETA.prototype.getUrlStr=function(e,r){$.ajax({url:this.config.serverurl+"?act=getUrlStr&n="+Math.random(),type:"POST",data:{httpurl:r},error:function(t,e,r){},success:function(t){xiyuetaCSS(t).parse();xiyuetaCSS("").handlecssimg("clean",r);e.content=xiyuetaCSS().print()}})},_XIYUETA.prototype.labelStat=function(t,e){for(var r={config:{labelCount:0,lvCount:0,labelList:"",labelLitCount:0,bodyLv:0}},l=-1,n=t;n<=e;n++){var i=this.htmlArr[n];null!=i&&(r.config.labelCount++,"/"!=i.label.substr(0,1)&&(-1==l&&(l=i.lv-1),i.lv-l>r.config.lvCount&&(r.config.lvCount=i.lv-l),"body"==i.label&&(r.config.bodyLv=i.lv),-1==("|"+r.config.labelList+"|").indexOf("|"+i.label+"|")&&(""!=r.config.labelList&&(r.config.labelList+="|"),r.config.labelList+=i.label,r.config.labelLitCount++),null==r[i.label]?(r[i.label]=i.label,r[i.label+"Count"]=1):r[i.label+"Count"]++))}return r},_XIYUETA.prototype.getLabelHtml=function(t,e){for(var r="",l=t;l<=e;l++){var n=this.htmlArr[l];t<l&&(r+=n.upHtml),t<l&&l<e&&(r+=n.html)}return r},function(){var r=new(window._XIYUETATPL=function(t){"use strict";null==t&&(t=""),this.common=new XiyuetaCommon,this.nav=function(t,e){var r=new _XIYUETA;if(r.htmlParser(t),""!=(l=r.getDocument(e+":eq(0)"))){var l,t=l.substr(1,l.indexOf("|")-1),t=r.htmlArr[t];return console.log(t),r.attr("a:eq(0)","href",'?nav=<%=rs("columnName")%>'),r.setHtml("a:eq(0)",'<%=rs("columnName")%>'),l='<%rs.open "select * from " & db_PREFIX & "WebColumn where parentId=-1 order by sortRank asc" ,conn,1,1\nwhile not rs.eof\n%>\n'+(l=r.getHtml(e+":eq(0)","all")),t.upHtml+=l+="\n<%rs.movenext:wend:rs.close%>",r.deleteDoc(e),r.debug(),r.printHtml("format")}}});window.xiyuetaTPL=function(e){return{nav:function(t){return r.nav(e,t)}}}}();