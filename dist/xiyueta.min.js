/*! xiyueta v1.3.3 | Author xiyueta Adream http://xiyueta.com/ | Released under the MIT license  */
var _XIYUETA=function(){"use strict";this.version="1.3.4",this.htmlSource="",this.htmlArr=[],this.lv=0,this.isHtmlErr=!1,this.common=new XiyuetaCommon,this.config={httpurl:"",serverurl:"/api/downWeb/default.asp",jsdir:"js/",cssdir:"css/",imagesdir:"images/"},this.tplConfig={type:"xiyuetacms",minrow:4};for(var e={},t="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),i=0;i<=t.length-1;i++){var r=t[i];e["[object "+r+"]"]=r.toLowerCase()}this.toType=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e[Object.prototype.toString.call(t)]||"object":typeof t},this.parseHTML=function(t){this.htmlSource=t+="";var e="",i="",r="",s="",n=!(this.htmlArr=[]),l=!1,h=!1,o=!1,a=!1,u=!1,f=0,c=-1;this.isHtmlErr=!1;for(var m=0;m<=this.htmlSource.length-1;m++){var d,p,g,x,b,y=e,e=this.htmlSource.substr(m,1);n?(r+=e,o?">"==e&&"--\x3e"==r.substr(r.length-3,3)&&(h=n=o=!1,this.htmlArr.push({_index:++c,lv:f+1,label:"!--",upHtml:s,downHtml:"",html:r,tagpair:1}),s=r=""):l&&"\x3c!--"==r?o=!0:a?">"==e&&"%"==y&&(h=n=a=!1,r=s+r,s=""):l&&"<%"==r?a=!0:u?">"==e&&"?"==y&&(h=n=u=!1,r=s+r,s=""):l&&"<?"==r?u=!0:-1!=" \n\t".indexOf(e)&&l?l=!1:"<"==e?"%"==(b=this.htmlSource.substr(m+1,1).toLowerCase())?0<(d=this.htmlSource.substr(m+1).indexOf("%>"))&&(r+=this.htmlSource.substr(m+1).substr(0,d+2),m+=d+2):"?"==b?0<(d=this.htmlSource.substr(m+1).indexOf("?>"))&&(r+=this.htmlSource.substr(m+1).substr(0,d+2),m+=d+2):(n=l=!1,r=s,m--):">"==e&&(n=l=!1,p=2,"/"==i.substr(0,1)?h=!0:(f++,"/"!=i.substr(i.length-1,1)&&-1=="|br|hr|img|link|meta|param|input|!doctype|rect|line|col|".indexOf("|"+i.toLowerCase()+"|")||(h=!0,p=1,i=i.replace(/\//g,"").trim())),g=i.toLowerCase(),this.htmlArr.push({_index:++c,lv:f,label:g,upHtml:s,downHtml:"",html:r,tagpair:p}),f<1&&(this.isHtmlErr=!0),s=r="",h&&(f--,h=!1),"script"==g?(x=this.htmlSource.substr(m+1).toLowerCase().indexOf("<\/script>"),r=this.htmlSource.substr(m+1,x),m+=x):"style"==g?(x=this.htmlSource.substr(m+1).toLowerCase().indexOf("</style>"),r=this.htmlSource.substr(m+1,x),m+=x):"textarea"==g?(x=this.htmlSource.substr(m+1).toLowerCase().indexOf("</textarea>"),r=this.htmlSource.substr(m+1,x),m+=x):"pre"==g&&(x=this.htmlSource.substr(m+1).toLowerCase().indexOf("</pre>"),r=this.htmlSource.substr(m+1,x),m+=x)),l&&(i+=e)):"<"==e?(b=this.htmlSource.substr(m+1,1).toLowerCase(),-1!="abcdefghijklmnopqrstuvwxyz!/%?".indexOf(b)?(s=r,r=e,h=!(l=n=!0),i=""):r+=e):r+=e}""!=r&&this.htmlArr.push({_index:++c,lv:f,label:"",upHtml:s,html:r,downHtml:""}),this.lv=f},this.handleLabelParam=function(t,e,i){if(null==t)return"";if(null==i){if(null!=t[e])return t[e]}else i+="";for(var r=!1,s="",n="",l=!1,h="",o=!1,a=!0,u=0,f=0,c=!1,m=t.label.length+1;m<=t.html.length-1;m++){var d=t.html.substr(m,1);if(l)if(o)if(c)">"==d&&(c=!1),n+=d;else if(d==h||">"==d){var p,g,x,b,s=s.toLowerCase();if(t[s]=n,o=l=!1,h="",e==s)return null==i?n:(""==i?(x=t.html.substr(0,f-1).trim(),">"!=(b=t.html.substr(m+1).trim()).substr(0,1)&&(b=" "+b),t.html=x+b,t[s]=void 0):(g=(p=u)+n.length,a&&(p++,g++),x=t.html.substr(0,p),b=t.html.substr(g),t.html=x+i+b,t[s]=i),t);else if(">"==d&&null!=i)return""!=i&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+i+'">'),t[e]=i,t}else"<"==d&&(c=!0),n+=d;else'"'==d||"'"==d?(h=d,u=m,a=o=!0):" "!=d&&(h=" ",u=m,n=d,a=!(o=!0));else{if(">"==d&&0==r)return null==i?void 0:(""!=i&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+i+'">',t[e]=i),t);if(r)if("="==d)l=!(r=!1),h=n="";else if(""!=s&&-1!=" \t\n>".indexOf(d)){if(e==s)return null==i?"":(""==i?(x=t.html.substr(0,f).trim(),">"!=(b=t.html.substr(m).trim()).substr(0,1)&&(b=" "+b),t.html=x+b,t[s]=void 0):(g=f+s.length,x=t.html.substr(0,g),b=t.html.substr(g),t.html=x+'="'+i+'"'+b,t[s]=i),t);r=!1,s=""}else-1==" \t\n".indexOf(d)&&(s+=d);else-1==" \t\n".indexOf(d)&&(r=!0,s=d,f=m)}}},this.getDocument=function(t,e,i,r){if(null==t&&(t=""),null==r&&(r=!1),0==this.htmlArr.length)return console.log("%c 需要先解析一段html文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf(",")){for(var s=[],n=t.split(","),l=0;l<=n.length-1;l++){var h=this.getDocument(n[l],e,i,r);s=s.concat(h)}return s=this.delDomListDuplicate(s)}if(""==(t=t.trim()))return"";null==e&&(e=0),null==i&&(i=this.htmlArr.length-1);var o=-1.1,a=-1.1,u=-1.1,f=-1.1,c=-1.1,m="",d=!1,p="",g="",x="",b="",y="",v="";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var L=!1,v="",l=0;l<=t.length;l++){var w=t.substr(l,1);0!=L||"'"!=w&&'"'!=w&&"("!=w?1==L&&(" "==w?w="-Space-":"'"!=w&&'"'!=w&&")"!=w||(L=!1,"'"!=w&&'"'!=w||(w=""))):(L=!0,"'"!=w&&'"'!=w||(w="")),v+=w}t=v}var A,_,C,O,T=t.indexOf(" ");if(-1<T&&(p=t.substr(T+1).trim(),t=t.substr(0,T)),-1!=(T=t.indexOf(":"))&&(_=A="",C=(w=t.substr(T+1)).indexOf("("),O=w.indexOf(")"),-1!=C&&-1!=O?(A=w.substr(0,C).toLowerCase(),O=(_=w.substr(C+1)).indexOf(")"),_=_.substr(0,O).replace(/-Space-/g," ").trim()):A=w.toLowerCase(),"first"==A?o=0:"last"==A?o=-1:"even"==A?u=0:"odd"==A?u=1:"eq"==A?(o=0,(o=""!=_?parseInt(_):o)+""=="NaN"&&(o=-.1,t="")):"lv"==A?(a=1,(a=""!=_?parseInt(_):a)+""=="NaN"&&(a=-.1,t="")):"gt"==A?""!=_&&(f=parseInt(_)):"lt"==A?""!=_&&(c=parseInt(_)):"header"==A?d=!0:"contains"==A?m=_:console.log(t,"没有动作 "+A),""!=(t=t.substr(0,T))||-.1==o&&-.1==a||(t="*")),-1!=(T=t.indexOf("["))&&(O=(w=t.substr(T+1)).indexOf("]"),-1==(w=w.substr(0,O)).indexOf("=")?(g=w,x="*"):(g=(O=w.split("="))[0],x=O[1].replace(/-Space-/g," "),O=g.substr(g.length-1),-1!="!^$*~|".indexOf(O)&&(g=g.substr(0,g.length-1),b=O)),-1!=g.indexOf("|")&&(g=(H=g.split("|"))[0],"NOUL"==H[1]&&(x=x.toLowerCase(),y=H[1])),""==(t=t.substr(0,T))&&(t="*")),"#"==t.substr(0,1)){if(0<o)return"";o=0}var S,H={type:"",name:"",nFocus:-1.1};0<=(T=t.substr(1).lastIndexOf("."))?(t=(S=t).substr(0,T+1),H={type:".",name:S.substr(T+2).toLowerCase()}):0<=(T=t.substr(1).lastIndexOf("#"))&&(t=(S=t).substr(0,T+1),H={type:"#",name:S.substr(T+2).toLowerCase()});s=this.serchDocument(t,e,i,g,x,b,y,H);if(0<s.length)if(-1.1!=o)s=o<0?[s[s.length+o]]:[s[o]];else if(-1.1!=a){for(var I=[],l=0;l<s.length;l++)(j=this.htmlArr[s[l].x]).lv==a&&I.push(s[l]);s=I}else if(-1.1!=u){for(I=[],l=0;l<s.length;l++)l%2==u&&I.push(s[l]);s=I}else if(-1.1!=f){for(I=[],l=f+1;l<s.length;l++)I.push(s[l]);s=I}else if(-1.1!=c){c>this.arr.length&&(c=s.length);for(I=[],l=0;l<c;l++)I.push(s[l]);s=I}else if(""!=m){for(var j,I=[],l=0;l<s.length;l++)(j=s[l]).x!=j.y&&-1!=this.text(j).indexOf(m)&&I.push(s[l]);s=I}else if(d){for(I=[],n="h1,h2,h3,h4,h5,h6,,h7,h8,h9".split(","),l=0;l<s.length;l++)for(var e=s[l].x,i=s[l].y,h=this.getDocument(t+" "+n[l],e,i,r),U=0;U<h.length;U++)I.push(h[U]);s=I}if(""!=p&&0<s.length){for(I=[],l=0;l<s.length;l++)(e=s[l].x)!=(i=s[l].y)&&(h=this.getDocument(p,e+1,i-1,!0),I=I.concat(h));s=I}return s=0==r?this.delDomListDuplicate(s):s},this.delDomListDuplicate=function(t){for(var e="",i=-1,r=[],s=0;s<t.length;s++){var n,l=t[s];null!=l&&(n=l.x+"|"+l.y,-1==(","+e+",").indexOf(","+n+",")&&(e+=","+n,i++,l.index=i,r.push(l)))}return r},this.serchDocument=function(t,e,i,r,s,n,l,h){null==r&&(r=""),null==s&&(s=""),null==n&&(n=""),null==l&&(l="");for(var o=!1,a=[],u=0,f=0,c=!1,m=e;m<=i;m++){var d,p,g=this.htmlArr[m];if(null!=g)if(o&&this.checkEndSelector(g,t)&&u==g.lv){o=!1,c&&(a[a.length-1].y=m);for(var c=!1,x=this.serchDocument(t,f+1,m,r,s,n,l,h),b=0;b<x.length;b++)a.push(x[b])}else this.checkStartSelector(g,t,h)&&0==o&&(2==g.tagpair&&(o=!0,u=g.lv),f=m,d=!0,""!=r&&(p=this.handleLabelParam(g,r),"NOUL"==l&&null!=p&&(p=p.toLowerCase()),"^"==n?null!=p&&p.substr(0,s.length)==s||(d=!1):"|"==n?null!=p&&(p+"-").substr(0,s.length+1)==s+"-"||(d=!1):"$"==n?null!=p&&p.substr(-1*s.length)==s||(d=!1):"~"==n?null!=p&&-1!=(" "+p+" ").indexOf(" "+s+" ")||(d=!1):"*"==n?null!=p&&-1!=p.indexOf(s)||(d=!1):"!"==n?p==s&&(d=!1):null!=p&&"*"==s?d=!0:p!=s&&(d=!1)),d&&(a.push({index:a.length,x:m,y:m}),2==g.tagpair&&(c=!0)))}return a},this.checkStartSelector=function(t,e,i){if(""==t.label)return!1;var r=e+" ",s=t.label.substr(0,1),n=e.substr(0,1);if("/"==s)return!1;{if("*"==n)return"."!=i.type?"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+i.name+" ");if("#"==n){var l=e.substr(1,r.indexOf(" ")-1),s=this.handleLabelParam(t,"id");if(s==l)return""==i||("."!=i.type?"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+i.name+" "))}else if("."==n){var h,o,l=e.substr(1,r.indexOf(" ")-1).toLowerCase();if(null==(h=" "+this.handleLabelParam(t,"class")+" "))return!1;if(-1!=(h=h.toLowerCase()).indexOf(" "+l+" "))return""==i||("."!=i.type?"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+i.name+" "))}else if(t.label+" "==e.substr(0,t.label.length+1).toLowerCase()+" ")return"."!=i.type?"#"!=i.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==i.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+i.name+" ")}return!1},this.checkEndSelector=function(t,e){t.label.substr(0,1);var i=e.substr(0,1);return"*"==i||("#"==i||"."==i||t.label=="/"+e.substr(0,t.label.length-1).toLowerCase())},this.callToList=function(t,e){if("function"!=typeof e)return!1;for(var i=[],r=0;r<t.length;r++){var s=t[r],n=e.call(s,r,s);if("boolean"==typeof n&&0==n)break;s.value=n,i.push(s)}return i},this.find=function(t,e){if("object"==this.toType(t=null==t?[]:t)&&(t=[t]),"object"==this.toType(e)){for(var i=e.domList,r=[],s=0;s<i.length;s++)for(var n=i[s].x,l=i[s].y,h=0;h<t.length;h++){var o=t[h].x,a=t[h].y;o<=n&&n<=a&&r.push(i[s])}return this.delDomListDuplicate(r)}for(r=[],h=0;h<t.length;h++)if((n=t[h].x)!=(l=t[h].y))for(var u=this.getDocument(e,n,l),s=0;s<u.length;s++)r.push(u[s]);return this.delDomListDuplicate(r)},this.add=function(t,e){"object"==this.toType(t=null==t?[]:t)&&(t=[t]);var i=[];if("number"==typeof e||"function"==typeof e)return t;if(null==e)return t;if(""==(i="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument(e+="")))return t;for(var r="",s=[],n=0;n<t.length;n++){var l=t[n].x+"|"+t[n].y;-1==(","+r+",").indexOf(","+l+",")&&(r+=","+l,s.push(t[n]))}for(n=0;n<i.length;n++){l=i[n].x+"|"+i[n].y;-1==(","+r+",").indexOf(","+l+",")&&(r+=","+l,s.push(i[n]))}return this.domListAsc(s)},this.domListAsc=function(t){for(var e=[],i=-1,r=0;r<t.length;r++){for(var s,n=void 0,l=0;l<t.length;l++){var h=t[l];null!=h&&(null==n||h.x<n.x)&&(n=h,s=l)}i++,n.index=i,e.push(n),t[s]=void 0}return e},this.text=function(t,e){var i="get",i=this.handleTextHtml(t,e,"text",i=2<=arguments.length?"set":i);return i=null==i?"":i},this.html=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"html",i)},this.htmlwrap=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"htmlwrap",i)},this.handleTextHtml=function(t,e,i,r){var s=this.toType(e);if("function"==s){for(var n=this.callToList(t,e),l=0;l<n.length;l++)n[l]&&this.handleTextHtml(n[l],n[l].value,i,r);return!1}if(null!=t){if("object"==this.toType(t)&&(t=[t]),"set"==r){if("undefined"==s)return;null==e?e="":e+="","text"==i&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"))}for(var h="",l=0;l<t.length;l++)if(null!=t[l])for(var o=t[l].x,a=t[l].y,u=o;u<=a;u++){var f=this.htmlArr[u];if(f)if("text"==i)u==o?"get"==r&&(h+=f.downHtml):u<a?"set"==r?delete this.htmlArr[u]:h+=f.upHtml+f.downHtml:u==a&&("get"==r?h+=f.upHtml:f.upHtml=e);else if(u==o)"get"==r?("htmlwrap"==i&&(h+=f.html),h+=f.downHtml):"htmlwrap"==i&&(f.html="");else if(u<a)"set"==r?delete this.htmlArr[u]:h+=f.upHtml+f.html+f.downHtml;else if(u==a)if("get"==r){if(h+=f.upHtml,"htmlwrap"==i&&(h+=f.html),"get"==r)return h}else f.upHtml=e,"htmlwrap"==i&&(f.html="")}return"get"==r?h:void 0}},this.handleCssParam=function(t,e,i){if(null==i){var r="a{"+(s=null==(s=this.attr(t,"style"))?"":s)+"}";return $xytcss("a").parse(r).css(e)}var s;i=i.toString();var n=s=null==(s=this.attr(t,"style"))?"":s,r="a{"+s+"}",i=($xytcss("a").parse(r).css(e,i),(i=$xytcss().print()).substr(2,i.length-3).trim());n.trim()!=i&&(2<=i.split(";").length&&(i=i.replace(/ /g,"").replace(/:/g,": ").replace(/;/g,"; ").trim()),this.attr(t,"style",i))},this.css=function(t,e,i){var r=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,i,"css",r)},this.attr=function(t,e,i){var r=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,i,"attr",r)},this.prop=function(t,e,i){var r=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,i,"prop",r)},this.handleCssAttr=function(t,e,i,r,s){if("function"==this.toType(i)){for(var n=this.callToList(t,i),l=0;l<n.length;l++)n[l]&&this.handleCssAttr(n[l],e,n[l].value,r,s);return!1}if("object"==this.toType(e)){for(var h in e)this.handleCssAttr(t,h,e[h],r,s);return this}if(null!=t&&null!=e&&""!=(e=(e+="").trim())){"object"==this.toType(t)&&(t=[t]);for(l=0;l<t.length;l++){var o=t[l];if("attr"==r){if("get"==s)return this.handleLabelParam(this.htmlArr[o.x],e);this.handleLabelParam(this.htmlArr[o.x],e,i)}else if("prop"==r){var a=this.htmlArr[o.x],u=this.checkTagAttrExist(a.label,e);if("get"==s)return 0==u?void 0:this.handleLabelParam(a,e);u&&this.handleLabelParam(a,e,i)}else{if("get"==s)return this.handleCssParam(o,e);this.handleCssParam(o,e,i)}}}},this.removeAttr=function(t,e){if(null==t||null==e)return!1;if(""==e.trim())return!1;for(var i=e.split(" "),r=0;r<i.length;r++){var s=i[r];""!=s&&_xyt.attr(t,s,"")}return!0},this.val=function(t,e){if(null!=t){var i=this.toType(e);if("function"==i){for(var r=this.callToList(t,e),s=0;s<r.length;s++)r[s]&&this.val(r[s],r[s].value);return!1}"object"==this.toType(t)&&(t=[t]);var n="get";if(2<=arguments.length){if(n="set","undefined"==i)return;null==e?e="":e+=""}if("get"!=n){for(s=0;s<t.length;s++)if(null!=t[s]){var l,h=t[s].x,o=t[s].y;if(l=this.htmlArr[h])if(h!=o)if("textarea"==l.label)this.html(t[s],e);else if("select"==l.label)for(a=this.getDocument("option",h,o),c=0;c<a.length;c++)a[c].x!=a[c].y&&(this.attr(a[c],"value")==e?this.attr(a[c],"selected","selected"):this.attr(a[c],"selected",null));else this.attr(t[s],"value",e);else this.attr(t[s],"value",e)}}else if(l=0<t.length?this.htmlArr[t[0].x]:l){if("textarea"==l.label)return this.html(t[0]);if("select"!=l.label)return this.handleLabelParam(l,"value");for(var a,u,f=(a=this.getDocument("option",h,o)).length,c=0;c<f;c++)a[c].x!=a[c].y&&(null==this.attr(a[c],"selected")&&null!=u||(u=this.attr(a[c],"value")));return u}}},this.each=function(t,e){var i=[];if(null==t)return!1;for(var r=0;r<t.length;r++){var s=t[r].x,n=t[r].y,l=this.htmlArr[s],n={index:r,label:l.label,tagpair:l.tagpair,x:s,y:n};i.push(n)}if("object"==typeof i)for(r=0;r<i.length&&0!=e.call(i[r],r,i[r]);r++);},this.remove=function(t,e,i){var r,s,n,l="",h=!1;if(2==arguments.length?"string"==typeof e?l=e:"boolean"==typeof e&&(h=e):3==arguments.length&&("string"==typeof e&&(l=e),"boolean"==typeof i&&(h=i)),null!=t){if(null==(t="object"==this.toType(t)?[t]:t))return"";null==l||-1!=(n=l.indexOf(":"))&&(e=s="",l=(i=l.substr(n+1)).indexOf("("),n=i.indexOf(")"),-1!=l&&-1!=n?(s=i.substr(0,l).toLowerCase(),n=(e=i.substr(l+1)).indexOf(")"),("'"==(n=(e=e.substr(0,n).replace(/-Space-/g," ").trim()).trim()).substr(0,1)&&"'"==n.substr(n.length-1,1)||'"'==n.substr(0,1)&&'"'==n.substr(n.length-1,1))&&(e=n.substr(1,n.length-2))):s=i.toLowerCase(),"contains"==s&&(r=e));var o=[];if(null!=r){for(var a=0;a<t.length;a++)(u=t[a]).x!=u.y&&-1!=this.text(u).indexOf(r)&&o.push(u);t=o}for(a=0;a<t.length;a++)for(var u,f=t[a].x,c=t[a].y,m=f;m<=c;m++)(u=this.htmlArr[m])&&(m==f?(u.html="",u.label="",h&&(u.upHtml="")):delete this.htmlArr[m]);return t}},this.addClass=function(t,e){var i=this.toType(e);if("function"==i){for(var r=this.callToList(t,e),s=0;s<r.length;s++)r[s]&&this.addClass(r[s],r[s].value);return!1}if(null!=t){if("object"==this.toType(t)&&(t=[t]),"number"==i)return!1;if(null==t||null==e)return!1;if(this.common.isArray(e))var n=e;else{if(""==(e=(e+"").trim()))return!1;n=e.split(" ")}for(s=0;s<t.length;s++){for(var l=t[s],h=null!=(h=this.attr(l,"class"))?h.trim():"",o=0;o<=n.length-1;o++)""!=n[o]&&(""!=h&&(h+=" "),h+=n[o]);this.attr(l,"class",h)}}},this.hasClass=function(t,e){if("number"==typeof e)return!1;if(null==t||null==e)return!1;if(""==(e=e.trim()))return!1;if(null==t)return!1;"object"==this.toType(t)&&(t=[t]);for(var i=0;i<t.length;i++){var r=null!=(r=this.attr(t[i],"class"))?r.trim():"";if(""!=r&&-1!=(" "+r+" ").indexOf(" "+e+" "))return!0}return!1},this.removeClass=function(t,e){if("function"==this.toType(e)){for(var i=this.callToList(t,e),r=0;r<i.length;r++)i[r]&&this.removeClass(i[r],i[r].value);return!1}if(null!=t){if("object"==this.toType(t)&&(t=[t]),this.common.isArray(e))var s=e;else{if(null==t||null==e)return!1;if(""==(e=(e+"").trim()))return!1;s=e.split(" ")}for(r=0;r<t.length;r++){var n=t[r];if(null!=(l=this.attr(n,"class"))){for(var l=" "+(l=l.trim())+" ",h=0;h<=s.length-1;h++)""!=s[h]&&(l=l.replace(" "+s[h]+" "," "));this.attr(n,"class",l.trim())}}}},this.wrap=function(t,e,i){if(null!=t){"object"==this.toType(t)&&(t=[t]);for(var r=0;r<t.length;r++){var s=t[r].x,n=t[r].y;this.htmlArr[s].upHtml+=e,this.htmlArr[n].downHtml+=i}return this}},this.unwrap=function(t){if(null!=t){"object"==this.toType(t)&&(t=[t]);for(var e=0;e<t.length;e++){for(var i=t[e].x,r=t[e].y,s=this.htmlArr[i].lv-1,n=parseInt(i),l=parseInt(r),h=n;0<=h;h--){var o=this.htmlArr[h];if("object"==typeof o&&this.htmlArr[h].lv==s){o.html="";break}}for(h=l;h<=this.htmlArr.length-1;h++){o=this.htmlArr[h];if("object"==typeof o&&this.htmlArr[h].lv==s){o.html="";break}}}return this}},this.append=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.callToList(t,e),r=0;r<i.length;r++)i[r]&&this.append(i[r],i[r].value);return!1}"object"==this.toType(t)&&(t=[t]);for(r=0;r<t.length;r++){var s=t[r].x,n=t[r].y;s!=n?this.htmlArr[n].upHtml+=e:this.htmlArr[s].downHtml+=e}return this},this.prepend=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.callToList(t,e),r=0;r<i.length;r++)i[r]&&this.prepend(i[r],i[r].value);return!1}"object"==this.toType(t)&&(t=[t]);for(r=0;r<t.length;r++){var s=this.htmlArr[t[r].x];s.downHtml=e+s.downHtml}return this},this.after=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.callToList(t,e),r=0;r<i.length;r++)i[r]&&this.after(i[r],i[r].value);return!1}"object"==this.toType(t)&&(t=[t]);for(r=0;r<t.length;r++){var s=this.htmlArr[t[r].y];s.downHtml=e+s.downHtml}return this},this.before=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var i=this.callToList(t,e),r=0;r<i.length;r++)i[r]&&this.before(i[r],i[r].value);return!1}"object"==this.toType(t)&&(t=[t]);for(r=0;r<t.length;r++)this.htmlArr[t[r].x].upHtml+=e;return this},this.next=function(t){for(var e=0;e<t.length;e++)for(var i=this.htmlArr[t[e].x],r=-1,s=i._index+1;s<=this.htmlArr.length-1;s++){var n=this.htmlArr[s];if(n){if(n.lv<i.lv)break;if(-1!=r){if(i.lv==n.lv&&"/"==n.label.substr(0,1))return{index:0,x:r,y:n._index}}else if(i.lv==n.lv&&"/"!=n.label.substr(0,1)){if(1==n.tagpair)return{index:0,x:n._index,y:n._index};r=n._index}}}return[]},this.nextAll=function(t){for(var e=[],i=-1,r=0;r<t.length;r++)for(var s=this.htmlArr[t[r].x],n=-1,l=s._index+1;l<=this.htmlArr.length-1;l++){var h=this.htmlArr[l];if(h){if(h.lv<s.lv)break;-1!=n?s.lv==h.lv&&"/"==h.label.substr(0,1)&&(e.push({index:++i,x:n,y:h._index}),n=-1):s.lv==h.lv&&"/"!=h.label.substr(0,1)&&(1==h.tagpair?e.push({index:++i,x:h._index,y:h._index}):n=h._index)}}return e},this.prev=function(t){for(var e=0;e<t.length;e++)for(var i=this.htmlArr[t[e].x],r=-1,s=i._index-1;0<=s;s--){var n=this.htmlArr[s];if(n){if(n.lv<i.lv)break;if(-1!=r){if(i.lv==n.lv&&"/"!=n.label.substr(0,1))return{index:0,x:n._index,y:r}}else if(i.lv==n.lv&&"/"==n.label.substr(0,1)){if(1==n.tagpair)return{index:0,x:n._index,y:n._index};r=n._index}}}return[]},this.prevAll=function(t,e){null==e&&(e="desc");for(var i=[],r=0;r<t.length;r++)for(var s=this.htmlArr[t[r].x],n=-1,l=s._index-1;0<=l;l--){var h=this.htmlArr[l];if(h){if(h.lv<s.lv)break;-1!=n?s.lv==h.lv&&"/"!=h.label.substr(0,1)&&(i.push({index:0,x:h._index,y:n}),n=-1):s.lv==h.lv&&"/"==h.label.substr(0,1)&&(1==h.tagpair?i.push({x:h._index,y:h._index}):n=h._index)}}return i="asc"==e?this.domListAsc(i):i},this.parent=function(t){for(var e=[],i=0;i<t.length;i++){for(var r=this.htmlArr[t[i].x],s=-1,n=-1,l=r._index-1;0<=l;l--){var h=this.htmlArr[l];if(h&&r.lv-1==h.lv&&"/"!=h.label.substr(0,1)){s=h._index;break}}for(l=r._index+1;l<=this.htmlArr.length-1;l++){h=this.htmlArr[l];if(h&&r.lv-1==h.lv&&"/"==h.label.substr(0,1)){n=h._index;break}}-1!=s&&e.push({x:s,y:n})}return e},this.parents=function(t){for(var e=[],i=0;i<t.length;i++){for(var r=this.htmlArr[t[i].x],s=-1,n=-1,l=r._index-1;0<=l;l--){var h=this.htmlArr[l];if(h&&r.lv-1==h.lv&&"/"!=h.label.substr(0,1)){s=h._index;break}}for(l=r._index+1;l<=this.htmlArr.length-1;l++){h=this.htmlArr[l];if(h&&r.lv-1==h.lv&&"/"==h.label.substr(0,1)){n=h._index;break}}-1!=s&&(e.push({x:s,y:n}),e=e.concat(this.parents([{x:s,y:n}])))}return this.delDomListDuplicate(e)},this.children=function(t){for(var e,i=[],r=0,s=0;s<t.length;s++){var n=t[s].x,l=t[s].y;if(n!=l)for(var h=this.htmlArr[n],o=n+1;o<l;o++){var a=this.htmlArr[o];a.lv-h.lv==1&&(2!=a.tagpair||-1!=a.label.indexOf("/")?i.push({index:r++,x:e,y:a._index}):e=a._index)}}return i},this.closest=function(t,e){for(var i=[],r=0,s=0;s<t.length;s++){var n=t[s].x,l=(t[s].y,this.htmlArr[n]);if("string"==typeof e)for(var h=this.getDocument(e),o=h.length-1;0<=o;o--){var a=h[o].x,u=h[o].y;if(a!=u){var f=this.htmlArr[a];if(a<n&&f.lv-l.lv==-1){i.push({index:r++,x:a,y:u});break}}}}return i},this.filter=function(t,e){for(var i=[],r=0;r<t.length;r++){var s=t[r].x,n=t[r].y;this.htmlArr[s];"string"==typeof e&&(n=this.getDocument(e,s,n),i=i.concat(n))}return this.delDomListDuplicate(i)},this.eq=function(t,e){return null==e||""==e?e=0:(e=parseInt(e))+""=="NaN"&&(e=-1.1),-1.1!=e?(e=e<0?t.length+e:e)>t.length?"":[t[e]]:[]},this.slice=function(t,e,i){if(null==e&&null==i)return t;if(isNaN(e)?e=0:(e=parseInt(e))<0&&(e=t.length- -1*e),null==i?i=t.length:isNaN(i)?i=-1:(i=parseInt(i))<0&&(i=t.length- -1*i),e+""=="NaN"||i+""=="NaN")return t;for(var r=[],s=0;s<t.length;s++)e<=s&&s<i&&r.push(t[s]);return r},this.show=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.x!=i.y&&this.css(i,"display","")}return this},this.hide=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.x!=i.y&&this.css(i,"display","none")}return this},this.dom=function(t,e,i,r){1!=(i=null==i?-1:i)&&2!=i&&(i=-1),""!=e&&(e="|"+e+"|");var s=(r=null==r?"":r).split(" ");"object"==this.toType(t)&&(t=[t]);for(var n="",l=0;l<t.length&&!(0<l);l++){var h=t[l].x,o=t[l].y;if(h!=o)for(var a=h;a<=o;a++){var u=this.htmlArr[a];if(u){var f="";if(-1!=e.indexOf("label"))for(var c=0;c<=s.length-1;c++){var m,d=s[c];""==d||null!=(m=this.attr(u,d))&&(f+=" "+d+'="'+m+'"')}i!=u.tagpair&&-1!=i||(a==h||a==o?-1!=e.indexOf("all")&&(-1!=e.indexOf("label")?n+="<"+u.label+f+">":n+=u.html):a<o&&(-1!=e.indexOf("label")?n+="<"+u.label+f+">":n+=u.html))}}}return n},this.getlv=function(t){if(null!=t){t=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(",");if(2<=t.length){t=t[1].split("|");return this.htmlArr[t[0]].lv}}},this.getLabel=function(t){if(null!=t&&2<=(t="object"==this.toType(t)?[t]:t).length){t=this.htmlArr[t[0].x];if(t)return t.label}},this.printHTML=function(t){for(var e="",i=0,r=-1!=(t=","+(t=null==t?"":t).replace(/\|/g,",").replace(/\s/g,"")+",").indexOf(",color,")?"<br>":"\n",s=-1!=t.indexOf(",color,")?"&nbsp;&nbsp;&nbsp;&nbsp;":"    ",n=0;n<=this.htmlArr.length-1;n++){var l,h,o,a,u=this.htmlArr[n];u&&(u.id=n,-1!=t.indexOf(",format,")?(l=u.upHtml.trim(),h=u.downHtml.trim(),o=u.html.trim(),-1!=t.indexOf(",color,")&&(l=this.htmlColor(l),h=this.htmlColor(h),o=this.htmlColor(o)),"html"==u.label?i=-1:"head"!=u.label&&"body"!=u.label||(l+=r),""!=o&&(a=!0,2==u.tagpair?"/"==u.label.substr(0,1)&&(a=this.upCheckThisLabel(u)):-1!="|br|hr|rect|line|col|".indexOf("|"+u.label+"|")&&(a=!1),a&&(o=r+this.common.copyStr(s,u.lv-1+i)+o)),e+=l+o+h):-1!=t.indexOf(",zip,")?e+=u.upHtml.trim()+u.html.trim()+u.downHtml.trim():-1!=t.indexOf(",color,")?e+=this.htmlColor(u.upHtml)+this.htmlColor(u.html)+this.htmlColor(u.downHtml):e+=u.upHtml+u.html+u.downHtml)}return-1!=t.indexOf(",format,")&&(e=e.trim()),e=-1!=t.indexOf(",color,")?"<div style='font-family: Menlo, Monaco, Consolas, \"Courier New\", monospace;padding: 0.2em;margin: 0;font-size: 14px;'>"+e+"</div>":e},this.upCheckThisLabel=function(t){if("/head"==t.label||"/body"==t.label)return!0;for(var e=t.id-1;0<=e;e--){var i=this.htmlArr[e];if(i){if(i.lv==t.lv)return!1;if(2==i.tagpair||"img"==i.label)return!0;if(-1!=(i.upHtml+i.downHtml).indexOf("\n"))return!0}}return!1},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.htmlArr)},this.info=function(){console.log("%c xiyueta%c v"+_xyt.version+" website: www.xiyueta.com ","font-size:22px;color:#00bbee","color:#000")}},_xyt=new _XIYUETA;_xyt.info();var xiyueta=function(t,e,i){return new xiyueta.fn.init(t,e,i)};xiyueta.fn=xiyueta.prototype={length:0,selector:"",domList:void 0,x:null,y:null,domListIndex:0},xiyueta.extend=xiyueta.fn.extend=function(){var t,e,i,r=arguments[0]||{},s=1,n=arguments.length;for(s===n&&(r=this,s--);s<n;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&r!==i&&void 0!==i&&(r[e]=i);return r};var init=xiyueta.fn.init=function(t,e,i){this.length=0,this.selector=t,this.domList=void 0,this.x=e,this.y=i,this.domListArray=[],0<_xyt.htmlArr.length&&("string"==typeof t?(this.domList=_xyt.getDocument(t,e,i),this.length=this.domList.length):"object"==typeof t&&(this.domList=t,this.length=1,this.selector="",this.obj=t)),null==this.selector&&(this.selector="")};init.prototype=xiyueta.fn,($=$xyt=xiyueta).fn.extend({parse:function(t,e){return _xyt.parseHTML(t),1!=(e=null==e&&(0!=_xyt.lv||1==_xyt.isHtmlErr)?!0:e)||0<(e=this.repair(!1)).err&&""!=e.errList&&1==e.state&&(_xyt.parseHTML(this.print()),this.repairHTML=!0),0<_xyt.htmlArr.length&&"string"==typeof this.selector&&(this.domList=_xyt.getDocument(this.selector,this.x,this.y),this.length=this.domList.length),this},find:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.find(this.domList,t),this.length=this.domList.length,this.selector="",this},add:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.add(this.domList,t),this.length=this.domList.length,this.selector="",this},text:function(t){return 1<=arguments.length?(_xyt.text(this.domList,t),this):_xyt.text(this.domList)},html:function(t){return 1<=arguments.length?(_xyt.html(this.domList,t),this):_xyt.html(this.domList)},attr:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.attr(this.domList,t,e),this):""!=t.trim()?_xyt.attr(this.domList,t):void 0},prop:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.prop(this.domList,t,e),this):""!=t.trim()?_xyt.prop(this.domList,t):void 0},removeAttr:function(t){return _xyt.removeAttr(this.domList,t),this},val:function(t){return null==t?_xyt.val(this.domList):(_xyt.val(this.domList,t),this)},remove:function(t){t=_xyt.remove(this.domList,t);return t!=this.domList&&(this.domList=t,this.length=this.domList.length),this},each:function(t){return _xyt.each(this.domList,t),this},css:function(t,e){return null==e&&"object"!=typeof t?_xyt.css(this.domList,t):(_xyt.css(this.domList,t,e),this)},print:function(t){return _xyt.printHTML(t)},debug:function(t){return _xyt.debug(t),this}}),xiyueta.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,i=[],r=0;r<this.domList.length;r++)r%2==0&&((t=this.domList[r]).index=++e,i.push(t));return this.domList=i,this.length=i.length,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,i=[],r=0;r<this.domList.length;r++)r%2==1&&((t=this.domList[r]).index=++e,i.push(t));return this.domList=i,this.length=i.length,this},slice:function(t,e){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.slice(this.domList,t,e),this.length=this.domList.length,this},end:function(){var t;return this.domListArray.length<=0?(this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},addClass:function(t){return _xyt.addClass(this.domList,t),this},hasClass:function(t){return _xyt.hasClass(this.domList,t)},removeClass:function(t){return _xyt.removeClass(this.domList,t),this},wrap:function(t,e){if("function"==typeof t){for(var i=_xyt.callToList(this.domList,t),r=0;r<=i.length-1;r++)(u=i[r])&&this.wrap(u.value,u.domList);return this}var s=new _XIYUETA,n=0;s.parseHTML(t),s.repairHTML(!1);var l=s.printHTML();t!=l&&s.parseHTML(l);for(r=0;r<=s.htmlArr.length-1;r++)(u=s.htmlArr[r]).lv>n&&2==u.tagpair&&(n=u.lv);for(var h="",o="",a=!1,r=0;r<=s.htmlArr.length-1;r++){var u,f=(u=s.htmlArr[r]).upHtml;"/"==u.label.substr(0,1)&&u.lv==n&&(a=!0,h+=f,f=""),0==a?h+=f+u.html:o+=f+u.html}return null==e&&(e=this.domList),_xyt.wrap(e,h,o),this},unwrap:function(){return _xyt.unwrap(this.domList),this},append:function(t){return _xyt.append(this.domList,t),this},prepend:function(t){return _xyt.prepend(this.domList,t),this},after:function(t){return _xyt.after(this.domList,t),this},before:function(t){return _xyt.before(this.domList,t),this},show:function(){return _xyt.show(this.domList),this},hide:function(){return _xyt.hide(this.domList),this},next:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.next(this.domList),this.length=this.domList.length,this},nextAll:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.nextAll(this.domList),this.length=this.domList.length,this},prev:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prev(this.domList),this.length=this.domList.length,this},prevAll:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList),this.length=this.domList.length,this},siblings:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList,"asc").concat(_xyt.nextAll(this.domList)),this.length=this.domList.length,this},parent:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parent(this.domList),this.length=this.domList.length,this},parents:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parents(this.domList),this.length=this.domList.length,this},children:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.children(this.domList),this.length=this.domList.length,this},closest:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.closest(this.domList,t),this.length=this.domList.length,this},filter:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.filter(this.domList,t),this.length=this.domList.length,this},replaceWith:function(t){var e;return"object"==typeof(t=null==t?"":t)&&null!=t.domList&&(e=t.domList,t=_xyt.html(t.domList,void 0,"all"),_xyt.remove(e)),this.htmlwrap(t),this},index:function(){return null!=this.obj?this.obj.index:0},htmlwrap:function(t){return 1<=arguments.length?(_xyt.htmlwrap(this.domList,t),this):_xyt.htmlwrap(this.domList)},dom:function(t){return _xyt.dom(this.domList,"",t)},domwrap:function(t){return _xyt.dom(this.domList,"all",t)},domlabel:function(t,e){return _xyt.dom(this.domList,"label|",t,e)},domlabelwrap:function(t,e){return _xyt.dom(this.domList,"all|label",t,e)},getlabel:function(){return _xyt.getLabel(this.domList)},getlv:function(){return _xyt.getlv(this.domList)},findlv:function(t){return this.find(":lv("+t+")"),this}});var _XIYUETACSS=function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.lv=0,this.config={parentdir:"../",imagesdir:"images/"},this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);for(var e,i="",r="",s="",n="",l=!1,h=!1,o=!1,a=!1,u=!1,f=0,c=0;c<=this.cssSource.length-1;c++)e=i,i=this.cssSource.substr(c,1),l?(s+=i,o?"/"==i&&"*"==e&&(l=o=!1,this.cssArr.push({lv:1,label:"/*",upHtml:n,downHtml:"",html:s}),n=s=""):h&&"*"==i&&"/"==e?o=!0:a?!u||";"!=i&&"\n"!=i?" "==i&&h?"@charset "==s.toLowerCase()?h=!(u=!0):"@font-face "==s.toLowerCase()&&(a=!1):"{"==i&&("@font-face{"==s.toLowerCase()?a=!1:(a=l=h=!1,this.cssArr.push({lv:1,label:r.toLowerCase().replace(/ /g,"").trim(),upHtml:n,downHtml:"",html:s}),f++,n=s="")):(a=l=h=u=!1,this.cssArr.push({lv:1,label:r.toLowerCase().replace(/ /g,"").trim(),upHtml:n,downHtml:"",html:s}),n=s=""):"{"==i&&h?h=!1:"}"==i&&(l=h=!1,this.cssArr.push({lv:f+1,label:r.toLowerCase().replace(/ /g,"").trim(),upHtml:n,downHtml:"",html:s}),n=s=""),h&&(r+=i)):" "!=i&&";"!=i&&"\n"!=i&&"\t"!=i?"}"==i&&1==f?(this.cssArr.push({lv:f,label:"}",upHtml:n,downHtml:"",html:"}"}),n=s="",f--):(n=s,h=l=!0,"@"==(r=s=i)&&(a=!0)):s+=i;""!=s&&this.cssArr.push({lv:f,label:"",upHtml:"",downHtml:"",html:s}),this.lv=f},this.handleLabelParam=function(t,e,i){if(null==e&&(e="(all)"),null==i&&null!=t[e])return t[e];var r,s="";-1!=e.indexOf("|")&&(e=(r=e.split("|"))[0],s=r[1],""==e&&(e="(all)"));for(var n=!1,l="",h="",o=!1,a="",u=!1,f=!0,c=0,m=0,d=!1,p="",g=t.html.indexOf("{")+1;g<=t.html.length-1;g++){var x=t.html.substr(g,1);if(o)if(u){if(0!=(d=1==d&&")"==x?!1:d)||x!=a&&"}"!=x&&g!=t.html.length-1)h+=x,"("==x&&(d=!0);else if(t[l=l.toLowerCase().trim()]=h,u=o=!1,a="",e==l||"(all)"==e)if(null==i){if("url"!=s)return h;""!=(h=this.cssSrcUrl(h))&&(""!=p&&(p+="\n"),p+=h)}else{if(""==i){var b=t.html.substr(0,m),y=t.html.substr(g).indexOf(";");return L=-1<y?t.html.substr(g+y+1):t.html.substr(g),t.html=b+L,t}var v=c,y=c+h.length;f&&(v++,y++);var b=t.html.substr(0,v),L=t.html.substr(y);if("url"!=s){w=b+i+L;return t.html=w,t[l]=i,t}y=this.cssSrcUrl(h,i);if(""!=y){""!=p&&(p+="\n"),p+=y;var w=b+y+L;return t.html=w,g=(b+(t[l]=y)).length,t}}}else" "!=x&&(a=";",c=g,f=!(u=!0),h=x);else n?":"==x?(o=!(n=!1),a=h=""):" "!=x&&(l+=x):" "!=x&&(n=!0,l=x,m=g)}if(null!=i&&""!=i){for(var A=e+": "+i+";",_=t.html.length-1;0<=_;_--)if(" "!=(x=t.html.substr(_,1))&&"}"!=x){if(";"==x)break;if("{"==x)break;A="; "+A;break}t.html=t.html.replace("}",A+"}")}return p=""==p?void 0:p},this.getDocument=function(t,e,i){null==e&&(e=0),null==i&&(i=this.cssArr.length-1);var r=-1.1,s=-1.1,n=-1.1,l=-1.1,h="",o="",a="",u="",f="";if(t=(t=null==t?"":t).trim(),0==this.cssArr.length)return console.log("%c 需要先解析一段css文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var c=!1,m="",d=0;d<=t.length;d++){var p=t.substr(d,1);0!=c||"'"!=p&&'"'!=p&&"("!=p&&")"!=p?1==c?" "==p?p="-Space-":"'"!=p&&'"'!=p&&"("!=p&&")"!=p||(c=!1,"'"!=p&&'"'!=p||(p="")):" "==p&&(p=""):(c=!0,"'"!=p&&'"'!=p||(p="")),m+=p}t=m}var g,x,b,y,v,L=t.indexOf(":");-1!=L&&(x=g="",b=(p=t.substr(L+1)).indexOf("("),y=p.indexOf(")"),-1!=b&&-1!=y?(g=p.substr(0,b).toLowerCase(),y=(x=p.substr(b+1)).indexOf(")"),x=x.substr(0,y).replace(/-Space-/g," ").trim()):g=p.toLowerCase(),"first"==g?r=0:"last"==g?r=-1:"even"==g?s=1:"odd"==g?s=0:"eq"==g?(r=0,(r=""!=x?parseInt(x):r)+""=="NaN"&&(r=-.1,t="")):"gt"==g?""!=x&&(n=parseInt(x)):"lt"==g?""!=x&&(l=parseInt(x)):"contains"==g?h=x:console.log(t,"没有动作 "+g),""==(t=t.substr(0,L))&&-.1!=r&&(t="(all)")),-1!=(L=t.indexOf("["))&&(y=(p=t.substr(L+1)).indexOf("]"),-1==(p=p.substr(0,y)).indexOf("=")?(o=p,a="*"):(o=(v=p.split("="))[0],a=v[1].replace(/-Space-/g," "),v=o.substr(o.length-1),-1!="!^$*~|".indexOf(v)&&(o=o.substr(0,o.length-1),u=v)),-1!=o.indexOf("|")&&(o=(v=o.split("|"))[0],"NOUL"==v[1]&&(a=a.toLowerCase(),f=v[1])),""==(t=t.substr(0,L))&&(t="(all)")),t=t.replace(/ /g,"");for(m="",d=e;d<=i;d++){var w=this.cssArr[d];null!=w&&(t==w.label||"(all)"==t&&""!=w.label)&&(m+=","+d)}if(""!=m&&-1.1!=r){var A=m.split(",");""!=(m=r<0?A[A.length+r]:A[r+1])&&(m=","+m)}else if(""!=m&&-1.1!=s){A=m.split(",");m="";for(d=1;d<=A.length-1;d++)d%2==s&&(m+=","+A[d])}else if(""!=m&&-1.1!=n){A=m.split(",");m="";for(d=n+2;d<=A.length-1;d++)m+=","+A[d]}else if(""!=m&&-1.1!=l){A=m.split(",");m="",l>A.length-1&&(l=A.length-1);for(d=1;d<=l;d++)m+=","+A[d]}else if(""!=m&&""!=h){A=m.split(",");m="";for(d=1;d<=A.length-1;d++){p=A[d];-1!=this.text(","+p).indexOf(h)&&(m+=","+A[d])}}else if(""!=o){A=m.split(",");m="";for(d=1;d<=A.length-1;d++){var _=A[d],C=!0,p=this.css(domList=","+_);"NOUL"==f&&null!=p&&(p=p.toLowerCase()),"^"==u?null!=p&&p.substr(0,a.length)==a||(C=!1):"|"==u?null!=p&&(p+"-").substr(0,a.length+1)==a+"-"||(C=!1):"$"==u?null!=p&&p.substr(-1*a.length)==a||(C=!1):"~"==u?null!=p&&-1!=(" "+p+" ").indexOf(" "+a+" ")||(C=!1):"*"==u?null!=p&&-1!=p.indexOf(a)||(C=!1):"!"==u?p==a&&(C=!1):null!=p&&"*"==a?C=!0:p!=a&&(C=!1),C&&(m+=","+_)}}return m},this.callToList=function(t,e){if("function"!=typeof e)return!1;for(var i=[],r=t.split(","),s=1;s<=r.length-1;s++){var n={domList:","+r[s]},l=e.call(n,s-1,n);if("boolean"==typeof l&&0==l)break;n.value=l,i.push(n)}return i},this.text=function(t,e){var i="get",i=this.handleHtmlText(t,e,"text",i=2<=arguments.length?"set":i);return i=null==i?"":i},this.html=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleHtmlText(t,e,"html",i)},this.htmlwrap=function(t,e){var i=2<=arguments.length?"set":"get";return this.handleHtmlText(t,e,"htmlwrap",i)},this.getBackground=function(t,e){var i="get",i=this.handleHtmlText(t,e,"background",i=2<=arguments.length?"set":i);return i=null==i?"":i},this.handleHtmlText=function(t,e,i,r){var s=typeof e;if("function"==s){for(var n=this.callToList(t,e),l=0;l<=n.length-1;l++)(h=n[l])&&this.handleHtmlText(h.domList,h.value,i,r);return!1}if(null!=t){if("set"==r){if("undefined"==s)return;"object"==s||null==e?e="":e+=""}if(""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){for(var h,o="",n=t.split(","),l=1;l<=n.length-1;l++)if(null!=(h=this.cssArr[n[l]]))if("htmlwrap"==i){if("get"==r)return h.html;h.html=e}else if("background"==i){var a,u=this.css(","+n[l],"background");"get"==r?null!=u&&(a=this.cssSrcUrl(u),o+=this.handleClearBackground(a)):null!=u&&(a=u,"server="==e.substr(0,7)?(a=this.handleClearBackground(a),e=this.common.fullHttpUrl(e.substr(7),a)):"dir="==e.substr(0,4)&&(a=this.handleClearBackground(a),e=e.substr(4)+this.common.getUrlFileName(a)),e=this.cssSrcUrl(u,e),this.css(","+n[l],"background",e))}else{var f=h.html.indexOf("{"),u=h.html.indexOf("}");if("get"==r){if(-1!=f&&-1!=u&&(o+=h.html.substr(f+1,u-f-1)),"html"==i)return o}else h.html=h.html.substr(0,f+1)+e+"}"}return o}}},this.css=function(t,e,i){var r="get";3<=arguments.length&&(r="set");var s=typeof i;if("function"==s){for(var n=this.callToList(t,i),l=0;l<=n.length-1;l++)(h=n[l])&&this.css(h.domList,e,h.value);return!1}if(null!=t){if("set"==r){if("undefined"==s)return;"object"==s||null==i?i="":i+=""}if(""!=(t="object"==typeof t?","+t.x+"|"+t.y:t))for(var h,n=t.split(","),l=1;l<=n.length-1;l++)if(null!=(h=this.cssArr[n[l]])){if("get"==r)return this.handleLabelParam(h,e);this.handleLabelParam(h,e,i)}}},this.remove=function(t){if(null!=t&&""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){for(var e=t.split(","),i=1;i<=e.length-1;i++){var r=this.cssArr[e[i]];null!=r&&(r.html="",r.label="<del>")}return this}},this.getsrc=function(t,e){if(null!=t&&""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){for(var i="",r=t.split(","),s=1;s<=r.length-1;s++)if(null!=this.cssArr[r[s]]){var n=this.text(","+r[s]).replace(/;/g,","),l=this.cssSrcUrl(n),l=this.handleClearBackground(l);if(null!=e)for(var h=l.split(","),o=0;o<=h.length-1;o++)""!=(l=h[o])&&("server="==e.substr(0,7).toLowerCase()?l=this.common.fullHttpUrl(e.substr(7),l):"dir="==e.substr(0,4).toLowerCase()?l=e.substr(4)+this.common.getUrlFileName(l):"filename"==e.substr(0,8).toLowerCase()&&(l=this.common.getUrlFileName(l)),""!=i&&(i+=","),i+=l);else""!=l&&(""!=i&&(i+=","),i+=l)}return i}},this.setsrc=function(t,e){if(null!=t&&""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){null==e&&(e="");for(var i=t.split(","),r=1;r<=i.length-1;r++)if(null!=this.cssArr[i[r]]){for(var s="",n=this.text(","+i[r]),l=n.split(";"),h=0;h<=l.length-1;h++){var o=l[h];""!=s&&(s+=";"),s+=this.cssSrcUrl(o,e)}n!=s&&this.text(","+i[r],s)}return this}},this.handleClearBackground=function(t){var e=t.indexOf("(");if(-1==(t=-1!=(e=(t=-1!=e?t.substr(e+1):t).indexOf(")"))?t.substr(0,e):t).indexOf("'")&&-1==t.indexOf('"')&&-1==t.indexOf("("))return t;for(var i=!1,r="",s=0;s<=t.length;s++){var n=t.substr(s,1);0!=i||"'"!=n&&'"'!=n&&"("!=n&&")"!=n?1==i?"'"!=n&&'"'!=n&&"("!=n&&")"!=n||(i=!1,"'"!=n&&'"'!=n||(n="")):" "==n&&(n=""):(i=!0,"'"!=n&&'"'!=n||(n="")),r+=n}return r.trim()},this.cssSrcUrl=function(t,e){if(-1==t.indexOf(","))return this.handleCssSrcUrl(t,e);for(var i=t.split(","),r="",s=0;s<i.length;s++){var n=i[s];""!=(n=this.handleCssSrcUrl(n,e))&&(""!=r&&(r+=","),r+=n)}return r},this.handleCssSrcUrl=function(t,e){if(null==t)return"";if(null==e){if(-1==t.indexOf("(")||-1==t.indexOf(")"))return null==e||"dir="==e.substr(0,4)||"server="==e.substr(0,7)?"":t;if(-1==t.toLowerCase().indexOf("url"))return null==e||"dir="==e.substr(0,4)||"server="==e.substr(0,7)?"":t}for(var i="",r=!1,s=!1,n="",l=-1,h=0;h<=t.length-1;h++){var o=t.substr(h,1);if(r)if(s){if(n==o){var a=t.substr(l,h-l);if(null!=e)if("server="==e.substr(0,7)){if(-1!=a.indexOf("data:"))return t;a=t.substr(0,l)+this.common.fullHttpUrl(e.substr(7),a)+t.substr(h)}else if("dir="==e.substr(0,4)){if(-1!=a.indexOf("data:"))return t;a=t.substr(0,l)+e.substr(4)+this.common.getUrlFileName(a)+t.substr(h)}else-1==a.indexOf("data:")&&(a=t.substr(0,l)+e+t.substr(h));return a}}else""!=o&&('"'==o||"'"==o?(s=!0,n=o,-1==l&&(l=h+1)):" "!=o&&(s=!0,n=")",-1==l&&(l=h)));else if("("==o){a=i.trim().toLowerCase();if("url"==a.substr(a.length-3,3))r=!0;else if(null==e)return""}else i+=o}return t},this.after=function(t,e){if(null!=t&&""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){null==e&&(e="");for(var i=t.split(","),r=1;r<=i.length-1;r++){var s=this.cssArr[i[r]];null!=s&&null!=e&&(s.downHtml+=e)}return this}},this.before=function(t,e){if(null!=t&&""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){null==e&&(e="");for(var i=t.split(","),r=1;r<=i.length-1;r++){var s=this.cssArr[i[r]];null!=s&&null!=e&&(s.upHtml+=e)}return this}},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var i=this.cssArr[e];if(null!=i)if("@charset"==i.label)return null!=t?(i.html='@charset "'+t+'";',""):i.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir,null!=t.cssdir)){for(var e=t.cssdir.split("/"),i="",r=0;r<=e.length-2;r++)i+="../";this.config.parentdir=i}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(t){for(var e="",i=0;i<=this.cssArr.length-1;i++){var r,s=this.cssArr[i];null!=s&&(r=s.upHtml+s.html+s.downHtml,"zip"==t?r="/*"==s.label?"":r.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&(r=r.trim()+"\n"),""!=r&&(e+=r))}return e},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.cssArr)}},_xytcss=new _XIYUETACSS,xiyuetaCss=function(t,e,i){return new xiyuetaCss.fn.init(t,e,i)};function XiyuetaCommon(){this.copyStr=function(t,e){for(var i="",r=1;r<=e;r++)i+=t;return i},this.timeFormat=function(t,e){var i,r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return e},this.secondToDate=function(t){t=parseFloat(t)/1e3;return t=null!=t&&""!=t?60<t&&t<3600?parseInt(t/60)+" 分钟 "+parseInt(60*(parseFloat(t/60)-parseInt(t/60)))+" 秒 ":3600<=t&&t<86400?parseInt(t/3600)+" 小时 "+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+" 分钟 "+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))))+" 秒 ":parseInt(t)+" 秒 ":t},this.bystesLength=function(t){for(var e=0,i=0;i<t.length;i++)255<t.charCodeAt(i)?e+=2:e++;return e},this.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},this.renderSize=function(t){if(null==t||""==t)return"0 Bytes";var e=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),t=parseFloat(t),i=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,i)).toFixed(2)+e[i]},this.isArray=function(t){return"object"==typeof t&&t.constructor==Array}}xiyuetaCss.fn=xiyuetaCss.prototype={length:1,selector:"",docList:"",x:null,y:null},xiyuetaCss.extend=xiyuetaCss.fn.extend=function(){var t,e,i,r=arguments[0]||{},s=1,n=arguments.length;for(s===n&&(r=this,s--);s<n;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&r!==i&&void 0!==i&&(r[e]=i);return r},(init=xiyuetaCss.fn.init=function(t,e,i){if(this.length=0,this.selector=t,this.x=e,this.y=i,null==this.selector)return this.selector="",this;0<_xytcss.cssArr.length&&("string"==typeof t?(i=(e=_xytcss.getDocument(t,e,i)).split(","),this.length=i.length-1,this.domList=e):"#object"==typeof t&&(this.domList=","+t.x,this.selector=""))}).prototype=xiyuetaCss.fn,(xiyuetaCSS=$xytcss=$css=xiyuetaCss).fn.extend({parse:function(t){var e;return _xytcss.cssParse(t),0<_xytcss.cssArr.length&&"string"==typeof this.selector&&(t=(e=_xytcss.getDocument(this.selector,this.x,this.y)).split(","),this.length=t.length-1,_xytcss.domList=this.domList=e),this},text:function(t){return 1<=arguments.length?(_xytcss.text(this.domList,t),this):_xytcss.text(this.domList)},html:function(t){return 1<=arguments.length?(_xytcss.html(this.domList,t),this):_xytcss.html(this.domList)},htmlwrap:function(t){return 1<=arguments.length?(_xytcss.htmlwrap(this.domList,t),this):_xytcss.htmlwrap(this.domList)},css:function(t,e){return 2<=arguments.length?(_xytcss.css(this.domList,t,e),this):_xytcss.css(this.domList,t)},background:function(t){return 1<=arguments.length?(_xytcss.getBackground(this.domList,t),this):_xytcss.getBackground(this.domList)},remove:function(){return _xytcss.remove(this.domList),this},getsrc:function(t){return _xytcss.getsrc(this.domList,t)},setsrc:function(t){return _xytcss.setsrc(this.domList,t),this},after:function(t){return _xytcss.after(this.domList,t),this},before:function(t){return _xytcss.before(this.domList,t),this},print:function(t){return _xytcss.printCss(t)},debug:function(t){return _xytcss.debug(t)}}),xiyuetaCSS.fn.extend({eq:function(t){null==t||""==t?t=0:(t=parseInt(t))+""=="NaN"&&(t=-1.1);var e,i="";return-1.1==t?(this.selector="",this.length=0):(e=this.domList.split(","),0<=t?t++:t=e.length+t,i=e[t],this.length=1,(this.selector="")!=i&&(i=","+i)),_xytcss.domList=this.domList=i,this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){for(var t=this.domList.split(","),e="",i=1;i<=t.length-1;i++)i%2==1&&(e+=","+t[i]);return _xytcss.domList=this.domList=e,this},odd:function(){for(var t=this.domList.split(","),e="",i=1;i<=t.length-1;i++)i%2==0&&(e+=","+t[i]);return _xytcss.domList=this.domList=e,this},slice:function(t,e){return _xytcss.domList=this.domList=_xytcss.slice(this.domList,this.x,this.y,t,e),-1!=this.domList.indexOf(",")?(e=this.domList.split(","),this.length=e.length-1):this.length=0,this}}),xiyuetaCSS.debug=function(t){return xiyuetaCSS().debug(t)},xiyuetaCSS.load=function(t,e){return xiyuetaCSS().parse(t,e),this},xiyuetaCSS.html=function(t){return _xytcss.printCss(t)},xiyuetaCSS.charset=function(t){return _xytcss.handleCssCharset(t)},xiyuetaCSS.config=function(t){return _xytcss.setConfig(t)},xiyuetaCSS.lv=function(){return _xytcss.lv},_XIYUETA.prototype.checkTagAttrExist=function(t,e){null==this.tagNameAttrArr&&(this.tagNameAttrArr=[{name:"|a|",value:"|id|class|name|href|title|type|shape|coords|target|",count:1},{name:"|map|",value:"|id|class|name|title|",count:1},{name:"|area|",value:"|id|class|href|title|alt|shape|coords|target|",count:1},{name:"|img|",value:"|id|class|name|src|title|alt|width|height|border|",count:1},{name:"|audio|",value:"|id|class|src|title|loop|",count:1},{name:"|base|",value:"|id|class|href|title|target|",count:1},{name:"|body|",value:"|id|class|title|background|",count:1},{name:"|basefont|",value:"|id|class|title|color|size|",count:1},{name:"|button|",value:"|id|class|name|title|type|",count:1},{name:"|video|",value:"|id|class|src|title|loop|width|height|",count:1},{name:"|input|",value:"|id|class|name|src|title|alt|type|width|height|",count:1},{name:"|select|",value:"|id|class|name|title|size|",count:1},{name:"|form|",value:"|id|class|name|title|action|method|target|",count:1},{name:"|table|table|",value:"|id|class|title|width|border|",count:2},{name:"|ol|ul|li|",value:"|id|class|title|type|",count:3},{name:"|td|canvas|th|td|",value:"|id|class|title|width|height|",count:4},{name:"|abbr|acronym|address|div|span|b|p|br|tr|article|h1|h2|h3|h4|h5|h6|h7|h8|h9|aside|head|title|bdi|bdo|big|blockquote|caption|center|cite|em|strong|dfn|code|samp|kbd|var|wbr|",value:"|id|class|title|",count:37}]);for(var i=0;i<this.tagNameAttrArr.length;i++){var r=this.tagNameAttrArr[i];if(-1<r.name.indexOf("|"+t+"|")&&-1<r.value.indexOf("|"+e+"|"))return!0}return-1<"|id|class|title|".indexOf("|"+e+"|")},_XIYUETA.prototype.swap=function(t,e){if(null==t||null==e)return!1;var i=[],i="object"==this.toType(i)?null!=i.domList?i.domList:[i]:this.getDocument(e);if(0==t.length||0==i.length||t==i)return!1;var r=t[0],e=i[0],t=this.htmlwrap(r),i=this.htmlwrap(e);return this.htmlwrap(r,i),this.htmlwrap(e,t),!0},_XIYUETA.prototype.getItem=function(t,e){if(null==t)return"";null==e&&(e=""),"object"==this.toType(t)&&(t=[t]);for(var i=[],r=0;r<t.length;r++)obj=t[r],obj.val=""!=e?this.handleLabelParam(this.htmlArr[obj.x],e):this.htmlwrap(obj),i.push(obj);return i},_XIYUETA.prototype.setConfig=function(t){if(null==t)return this.config;null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir)},_XIYUETA.prototype.charset=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var i=this.htmlArr[e];if(null!=i)if("meta"==i.label)if(-1!=i.html.toLowerCase().indexOf("charset=")){var r=this.handleLabelParam(i,"charset");if(null!=(r=null!=r?r.toLowerCase().trim():r))return null!=t&&this.handleLabelParam(i,"charset",t),r;if(-1!=(r=null!=(r=this.handleLabelParam(i,"content"))?r.toLowerCase().trim():r).indexOf("utf-8"))return null!=t?(this.handleLabelParam(i,"content","text/html; charset="+t),""):"utf-8";if(-1!=r.indexOf("gb2312"))return null!=t?(this.handleLabelParam(i,"content","text/html; charset="+t),""):"gb2312"}}},_XIYUETA.prototype.getHandleSrc=function(t,e,i,r){for(var s="",n=!0,l=0;l<=this.htmlArr.length-1;l++){var h,o,a,u=this.htmlArr[l];null!=u&&-1!=("|"+t+"|").indexOf("|"+u.label+"|")&&(null==(h=this.handleLabelParam(u,e))&&(h=""),"link"==u.label&&("dns-prefetch"!=(o=(o=null==(o=this.handleLabelParam(u,"rel"))?"":o).trim().toLowerCase())&&"alternate"!=o||(h="")),-1!=("|"+i+"|").indexOf("clean")?(n=!0,""!=h&&-1==h.indexOf("apps.bdimg.com/")&&(a=h=this.common.fullHttpUrl(r,h),-1!=("|"+i+"|").indexOf("web")&&""!=(h=this.common.getUrlFileName(h,u.label))&&("img"==u.label?h=this.config.imagesdir+h:"script"==u.label?h=this.config.jsdir+h:"link"==u.label?-1!=(o=(o=null==(o=this.handleLabelParam(u,"rel"))?"":o).trim().toLowerCase()).indexOf("shortcut icon")?h=this.config.imagesdir+h:-1!=o.indexOf("stylesheet")?h=this.config.cssdir+h:(h="",n=!1):(n=!1,h="")),n&&""!=h&&(-1!=("|"+i+"|").indexOf("down")?(""!=s&&(s+="[,]"),s+=a+"[|]"+h):(""!=s&&(s+="[,]"),s+=h)),this.handleLabelParam(u,e,h))):""!=h&&(""!=s&&(s+="[,]"),s+=h))}return s},_XIYUETA.prototype.replace=function(t,e,i,r){for(var s,n=this.getDocument(t),l=n.split(","),h=1;h<=l.length-1;h++)s=-1!=(n=l[h]).indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n],""!=e&&(n=this.handleLabelParam(s,e))==i&&this.handleLabelParam(s,e,r)},_XIYUETA.prototype.repairHTML=function(t,e){var i;null==t&&(t=!1),null==e&&(e=0);var r=0,s=!1,n="",l=0,h=",";if(1<=this.htmlArr.length&&"no"==(o=this.htmlArr[0]).isFindDom)return!1;for(var o,a=0;a<=this.htmlArr.length-1;a++)(o=this.htmlArr[a])&&(o.nIndex=a,2==o.tagpair&&("/"==o.label.substr(0,1)?(f=o.label.substr(1),-1!=(","+h+",").indexOf(","+f+",")?h=h.replace(","+f+",",","):h+=o.label+","):h+=o.label+","));for(var u=h,a=0;a<=this.htmlArr.length-1;a++)if((o=this.htmlArr[a])&&2==o.tagpair&&"/"==o.label.substr(0,1)){var f=o.label.substr(1),s=!0;if(null!=(m=this.upFindSameLvObj(a,o))&&(o.label=="/"+m.label?(s=!1,this.setNoFindDom(m.nIndex,o.nIndex),1==e&&console.log(" 找(Lv1) "+o.label+" "+m.label+"("+o.nIndex+"-"+m.nIndex+")")):0==this.lv||1==m.lv&&1==o.lv&&-1==h.indexOf(","+o.label+",")?1==s&&(n="",t&&(n="\x3c!--xiyueta提示: 原标签(LV) "+o.label+" 替换成 /"+m.label+"--\x3e"),o.html="</"+m.label+">"+n,r+=2,l+=2,s=!1,this.setNoFindDom(m.nIndex,o.nIndex),1!=e&&2!=e||console.log(" 找(Lv2) LV整体层级正确或两标签都为第一层  "+o.label+" 替换成 /"+m.label+" ("+o.nIndex+"-"+m.nIndex+")")):1==e&&console.log(" 找(Lv else) 没找到，交给下面找同名 "+o.label+" ("+o.nIndex+")")),1==s)if(null==(i=this.upFindSameNameObj(a,o)))o.html=t?"\x3c!---xiyueta提示: 有多余结束标签 "+o.label+" --\x3e":"",l++,r++,this.setNoFindDom(o.nIndex,o.nIndex),this.reairHtmlLv(o,1),1!=e&&2!=e||console.log(" 找(Name 出错) 有多余结束标签 "+o.label+" ("+o.nIndex+")"),s=!1,h=h.replace(","+o.label+",",",");else{n="",t&&(i.html+="\x3c!---xiyueta提示: 有问题标签开始位置--\x3e",o.html="\x3c!---xiyueta提示: 有问题标签结束位置--\x3e"+o.html),1!=e&&2!=e||console.log(" 找(Name2 有问题) "+o.label+" 与 "+i.label+"("+o.nIndex+"-"+i.nIndex+") 之间有问题 ");var c="";this.setNoFindDom(i.nIndex,o.nIndex);var m=i.lv-o.lv;this.reairHtmlLv(o,m);for(var d=i.nIndex+1;d<=o.nIndex;d++){var g=this.htmlArr[d];if(g&&"/"!=g.label.substr(0,1)&&2==g.tagpair){var x=!1;for(p=g.nIndex+1;p<=o.nIndex;p++){var b=this.htmlArr[p];if(b&&2==b.tagpair&&"/"==b.label.substr(0,1)&&b.lv==g.lv){x=!0;break}}0==x&&(c+="</"+g.label+">",t&&(c+="\x3c!--xiyueta提示: 追加 /"+g.label+" --\x3e"),1!=e&&2!=e||console.log(" 找(Name3)  追加结束标签 /"+g.label+" ("+g.nIndex+")"),l++,r++,h=h.replace(","+g.label+",",","))}}o.upHtml+=c}}var y=h.split(",");if(y.length>r){c="";for(a=0;a<=y.length-1;a++)""!=y[a]&&"/"!=y[a].substr(0,1)&&(n="",t&&(n="\x3c!--xiyueta提示: 追加 /"+y[a]+" --\x3e"),c="</"+y[a]+">"+n+c,l++,r++,1!=e&&2!=e||console.log(" 最后  追加结束标签 /"+y[a]));this.htmlArr[this.htmlArr.length-1].downHtml+=c}return{lv:this.lv,err:l,repair:r,state:l==r,errList:u=","==u?"":u}},_XIYUETA.prototype.setNoFindDom=function(t,e){for(var i=t;i<=e;i++){var r=this.htmlArr[i];r&&(r.isFindDom="no")}return null},_XIYUETA.prototype.upFindSameLvObj=function(t,e){for(var i=t-1;0<=i;i--){var r=this.htmlArr[i];if(r&&"no"!=r.isFindDom&&e.lv==r.lv)return r}return null},_XIYUETA.prototype.upFindSameNameObj=function(t,e){for(var i=t-1;0<=i;i--){var r=this.htmlArr[i];if(r&&"no"!=r.isFindDom&&e.label=="/"+r.label)return r}return null},_XIYUETA.prototype.reairHtmlLv=function(t,e){for(var i=t.nIndex;i<=this.htmlArr.length-1;i++)(t=this.htmlArr[i])&&(t.lv+=e)},_XIYUETA.prototype.htmlColor=function(t){if("</"==t.substr(0,2))return"<font color='#800000'>"+t.replace("<","&lt;").replace(">","&gt;")+"</font>";if("<"!=t.substr(0,1))return"<font color='#000000'>"+t+"</font>";if("\x3c!--"==t.substr(0,4))return"<font color='#008000'>"+t.replace("<","&lt;").replace(">","&gt;")+"</font>";for(var e="",i="",r="",s=!1,n="",l="",h="",o=0;o<=t.length-1;o++){var a=t.substr(o,1);"findValueStart"==n?(s?a==r||">"==a?(l+=h+"<font color='#0000FF'>"+i+h+"</font>",s=!1,h=r=h="",n="findParamStart"):i+=a:'"'==a||"'"==a?(h+=a,r=a,s=!0):" "!=a?(r=" ",i=a,s=!0):h+="&nbsp;",">"==a&&(l+="<font color='#800000'>&gt;</font>")):"<"==a?(h="&lt;",n="findLabel"):"findLabel"==n?" "==a?(l+="<font color='#800000'>"+h+"</font> ",h="",n="findParamStart"):">"==a?l+="<font color='#800000'>"+h+"&gt;</font>":h+=a:">"==a?l+="<font color='#800000'>&gt;</font>":"findParamEnd"==n?"="==a?(n="findValueStart",l+="<font color='#FF0000'>"+e+"</font><font color='#000000'>=</font>",e=r=i=""):e+=a=" "==a?"&nbsp;":a:(n="findParamEnd",e+=a=" "==a?"&nbsp;":a)}return l},xiyueta.fullurl=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.resolve=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.getUrlFileName=function(t,e){return _xyt.common.getUrlFileName(t,e)},xiyueta.bystesLength=function(t){return _xyt.common.bystesLength(t)},xiyueta.renderSize=function(t){return _xyt.common.renderSize(t)},xiyueta.secondToDate=function(t){return _xyt.common.secondToDate(t)},xiyueta.timeFormat=function(t,e){var i=new Date,r="yyyy-MM-dd hh:mm:ss";return 1==arguments.length?"object"==typeof t?i=t:"string"==typeof t&&(r=t):2==arguments.length&&("object"==typeof t&&(i=t),"string"==typeof e&&(r=e)),_xyt.common.timeFormat(i,r)},xiyueta.getDomain=function(t){return _xyt.common.getDomain(t)},xiyueta.htmlColor=function(t){return _xyt.htmlColor(t)},xiyueta.lv=function(){return _xyt.lv},xiyueta.htmlerr=function(){return _xyt.isHtmlErr},xiyueta.config=function(t){t=_xyt.setConfig(t);return null==t?this:t},xiyueta.charset=function(t){return null==t?_xyt.charset():(_xyt.charset(t),this)},xiyueta.debug=function(t){return xiyueta().debug(t)},xiyueta.load=function(t,e){return xiyueta().parse(t,e),this},xiyueta.html=function(t){return _xyt.printHTML(t)},xiyueta.log=function(t,e){if(null==e&&(e="<br>"),"object"==typeof t)for(var i in t){var r;-1==(t[i]+"").indexOf("function")&&(r=(r=t[i]+"").replace(/</g,"&lt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),void 0===(r="object"==typeof t[i]?xiyueta.log(t[i]," , "):r)?document.write(i+e):document.write(i+":  "+r+e))}else t+="",document.write(t.replace(/</g,"&lt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")+e)},xiyueta.fn.extend({swap:function(t){return _xyt.swap(this.domList,t),this},item:function(t){return _xyt.getItem(this.domList,t)},handle:function(t,e,i){return _xyt.getHandleSrc(this.selector,t,e,i)},replace:function(t,e,i){return _xyt.replace(this.selector,t,e,i)},clear:function(){return this},repair:function(t,e){return _xyt.repairHTML(t,e)}}),_XIYUETA.prototype.scan=function(t){t="|"+(t=null==t?"":t)+"|";var e=0,i=[],r=!1,s="",n="",l=[],h=this.charset();s+="网页编码="+(h=null==h?"":h)+"\n",s+="网页大小="+this.common.getFileSize(this.common.bystesLength(this.htmlSource))+"\n";for(var o=0;o<=this.htmlArr.length-1;o++)(c=this.htmlArr[o])&&"/"!=c.label.substr(0,1)&&""!=c.label&&(-1==("|"+n+"|").indexOf("|"+c.label+"|")?(""!=n&&(n+="|"),n+=c.label,l[c.label]=1):l[c.label]++);for(var a=n.split("|"),u="",o=0;o<=a.length-1;o++){var f=a[o];u+=f+"("+l[f]+") "}var c=this.repairHTML();s+="网页LV="+this.lv+"\n",s+="网页错误标签数="+c.err+"\n",s+="网页错误标签为="+c.errList+"\n",s+="网页错误标签是否可修复="+c.state+"\n",s+="网页类型标签数="+a.length+"种 "+u+"\n",this.config.downcss=0;for(var m=xiyueta("link[rel|NOUL=stylesheet]").item("href"),d=xiyueta("script").item("src"),o=0;o<=this.htmlArr.length-1;o++)null!=(c=this.htmlArr[o])&&("body"==c.label?(e=c.lv,r=!0):0==r&&-1!="|div|span|table|ul|".indexOf("|"+c.label+"|")?(i.push(c.html),r=!0):r&&c.lv-e==1&&2==c.tagpair&&"/"!=c.label.substr(0,1)&&"!--"!=c.label&&"script"!=c.label.substr(0,6)&&i.push(c.html),"link"==c.label&&"stylesheet"==c.rel&&(p=this.common.fullHttpUrl(this.config.httpurl,c.href),-1!=t.indexOf("|downcss|")&&null==c.content&&(this.getUrlStr(c,p),this.config.downcss++,alert("下载CSS"+p))));if(s+="共有CSS文件 "+m.length+" 条\n",s+="共有JS文件 "+d.length+" 条\n",s+="一层标签共 "+i.length+" 条\n",s+="\n",""!=m){s+="CSS列表:\n";for(o=0;o<=m.length-1;o++)s+=(p=this.common.fullHttpUrl(this.config.httpurl,m[o]))+"\n"}if(""!=d){s+="\n\nJS列表:\n";for(var p,o=0;o<=d.length-1;o++)s+=(p=this.common.fullHttpUrl(this.config.httpurl,d[o]))+"\n"}if(""!=i){s+="\n\n一层标签列表:\n";for(o=0;o<=i.length-1;o++)s+=i[o]+"\n"}return s},xiyueta.fn.extend({scan:function(t){return _xyt.scan(t)}}),_XIYUETA.prototype.cutLabel=function(t,e){for(var i="",r=0;r<=this.htmlArr.length-1;r++)null!=(c=this.htmlArr[r])&&("/style"==c.label?i+=c.upHtml:"link"==c.label&&"stylesheet"==c.rel&&(i+=c.content));var s="*,body,",n=-1;if(""!=(m=this.getDocument(t))){var l=m=m.replace(/,/,""),h=m;-1!=m.indexOf("|")&&(l=(a=m.split("|"))[0],h=a[1]);for(var o,r=l;r<=parseInt(h)-1;r++)null!=(c=this.htmlArr[r])&&"/"!=c.label.substr(0,1)&&(-1==n&&(c.label,n=c.lv),n+1==c.lv&&c.label,n+2==c.lv&&c.label,n+3==c.lv&&c.label,s+=c.label+",",null!=(o=this.handleLabelParam(c,"id"))&&(s+="#"+o.toLowerCase()+","),null!=(o=this.handleLabelParam(c,"class"))&&(s+="."+o.toLowerCase().replace(/ /g,",.")+","));for(var a=s.split(","),s="",r=0;r<=a.length-1;r++)-1==(","+s+",").indexOf(","+a[r]+",")&&(""!=s&&(s+=","),s+=a[r]);var u="",f=new _XIYUETACSS;f.cssParse(i);for(var c,r=0;r<=f.cssArr.length-1;r++)if(null!=(c=f.cssArr[r]))for(var m=","+c.label+",",d=(c.label,0);d<=a.length-1;d++)-1==m.indexOf(","+a[d]+",")&&-1==m.indexOf(","+a[d]+" ")||-1==("\n"+u+"\n").indexOf("\n"+c.html+"\n")&&(u+=c.html+"\n");xiyuetaCSS().parse(u),""!=(u=xiyuetaCSS().print("zip"))&&(u="<style>"+u+"\n</style>\n");l=xiyueta(t).htmlwrap();this.parseHTML(l);l=u+this.printHTML("format")}return l},_XIYUETA.prototype.getUrlStr=function(e,i){var r=this;jQuery.ajax({url:this.config.serverurl+"?act=getUrlStr&n="+Math.random(),type:"POST",data:{httpurl:i},error:function(t,e,i){},success:function(t){xiyuetaCSS().parse(t),xiyuetaCSS().css("|url","server="+i),e.content=xiyuetaCSS().print(),r.config.downcss--,0==r.config.downcss?alert(" 下载全部CSS完成，可以点击下一步了 "):alert(" 下载CSS完成,还乘"+r.config.downcss)}})},xiyueta.fn.extend({cutlabel:function(t){return _xyt.cutLabel(this.selector,t)}}),XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",i=t.indexOf("://");for(-1!=i&&(e=t.substr(0,i+3),t=t.substr(i+3));-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var r=[],s=0,n=t.split("/"),l=0;l<=n.length-1;l++)".."==(h=n[l])?(0==s?s=l-1:--s,0<=s&&delete r[s]):(r.push(h),s=0);for(t="",l=0;l<=r.length-1;l++){var h=r[l];null!=r[l]&&(""!=t&&(t+="/"),t+=r[l])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){if(null==e)return"";if(""==(e=e.replace(/\\/g,"/"))||"./"==e)return"";var i,r="",s="",n="",l=t.indexOf("://");return s=-1!=l?(r=t.substr(0,l+3),l=(i=t.substr(l+3)).lastIndexOf("/"),n=r+i.substr(0,l+1),l=i.indexOf("/"),r+i.substr(0,l+1)):(l=t.lastIndexOf("/"),n=t.substr(0,l+1),l=t.indexOf("/"),t.substr(0,l+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?s+e:n+e),this.handleFileUrl(e)},XiyuetaCommon.prototype.getUrlFileName=function(t,e){if(null==e&&(e=""),""==t||null==t)return"";var i=(t=t.replace(/\\/g,"/").trim()).split("/"),r=i[i.length-1],s="",t="";return-1!=(r=-1!=r.indexOf("?")?r.substr(0,r.indexOf("?")):r).indexOf(".")&&(i=r.lastIndexOf("."),s=r.substr(0,i),t=r.substr(i+1).toLowerCase()),""==s?"":("image"==e?""==t?r+=".jpg":-1=="|bmp|jpg|jpeg|gif|png|".indexOf("|"+t+"|")&&(r=s+".jpg"):"css"==e?""==t?r+=".css":-1=="|css|".indexOf("|"+t+"|")&&(r=s+".css"):"js"==e?""==t?r+=".js":-1=="|js|".indexOf("|"+t+"|")&&(r=s+".js"):r=s+"."+t,r)},XiyuetaCommon.prototype.setFileNameA=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"pie")).replace(/\//g,"la")).replace(/:/g,"maohao")).replace(/\*/g,"xin")).replace(/\?/g,"wen")).replace(/"/g,"yinhao")).replace(/</g,"zou")).replace(/>/g,"you")).replace(/\|/g,"heng")).replace(/\./g,"juhao")).replace(/,/g,"douhao")).replace(/&nbsp;/g," ")).replace(/&quot;/g,"shuang")).replace(/\n/g,"")},XiyuetaCommon.prototype.checkUrl=function(t){return!!/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i.test(t=null==t?"":t)},XiyuetaCommon.prototype.getDomain=function(t){if("string"!=typeof t)return"";if(-1<t.indexOf("//")){var e=t.indexOf("//",1),e=t.substring(e+1,t.length),t=e.indexOf("/",1);return e=e.substring(1,t)}return""},_XIYUETA.prototype.replaceTplLabel=function(t,e){if(null==t)return!1;var i,r=xiyueta(t).domlabel(2);"<a></a>"==r?((i=xiyueta(t).find("a")).attr("href",e.url),null!=i.attr("title")&&i.attr("title",e.title),i.html(e.title)):""==r&&"a"==xiyueta(t).getlabel()&&(xiyueta(t).attr("href",e.url),null!=xiyueta(t).attr("title")&&xiyueta(t).attr("title",e.title),xiyueta(t).html(e.title))},_XIYUETA.prototype.setTplConfig=function(t){if(null==t)return this.tplConfig;"object"==typeof t&&(null!=t.type&&(this.tplConfig.type=t.type),null!=t.minrow&&(this.tplConfig.minrow=t.minrow),this.tplConfig.nav={},this.tplConfig.news={},"dedecms"==this.tplConfig.type?(this.tplConfig.webTitle="{dede:global.cfg_webname/}",this.tplConfig.webKeywords="{dede:global.cfg_keywords/}",this.tplConfig.webDescription="{dede:global.cfg_description/}",this.tplConfig.nav.for="{dede:channel type='top' row='{%row%}'}\n",this.tplConfig.nav.title="[field:typename/]",this.tplConfig.nav.url="[field:typeurl/]",this.tplConfig.nav.end="{/dede:channel}",this.tplConfig.news.for="{dede:arclist titlelen='60' row='{%row%}'}\n",this.tplConfig.news.title="[field:title/]",this.tplConfig.news.url="[field:arcurl/]",this.tplConfig.news.image="[field:image/]",this.tplConfig.news.about="[field:title/]",this.tplConfig.news.body="[field:title/]",this.tplConfig.news.time="[field:pubdate function=\"MyDate('Y-m-d H:i',@me)\"/]",this.tplConfig.news.time1="[field:pubdate function=\"MyDate('Y-m-d',@me)\"/]",this.tplConfig.news.end="{/dede:arclist}"):(this.tplConfig.webTitle="<%=webTitle%>",this.tplConfig.webKeywords="<%=webKeywords%>",this.tplConfig.webDescription="<%=webDescription%>",this.tplConfig.nav.for='<%rs.open "select * from " & db_PREFIX & "WebColumn where parentId=-1 and isThrough=1 order by sortRank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.nav.focus="<%if isFocusNav(rs) then%>\n",this.tplConfig.nav.title='<%=rs("columnName")%>',this.tplConfig.nav.url='<%=getNavUrl(rs("id"),rs("columnType"))%>',this.tplConfig.nav.end="<%rs.movenext:next:rs.close%>",this.tplConfig.news.for='<%rs.open "select * from " & db_PREFIX & "ArticleDetail where parentId in("& getNameToAllId("{%did%}") &") order by sortRank desc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.news.focus="<%if i=1 then%>\n",this.tplConfig.news.title='<%=rs("title")%>',this.tplConfig.news.url='detail.asp?id=<%=rs("id")%>',this.tplConfig.news.image='<%=rs("smallimage")%>',this.tplConfig.news.about='<%=rs("aboutContent")%>',this.tplConfig.news.body='<%=cutStr(rs("bodyContent"),260,"...")%>',this.tplConfig.news.time='<%=rs("addDateTime")%>',this.tplConfig.news.time1='<%=format_Time(rs("addDateTime"),2)%>',this.tplConfig.news.end="<%rs.movenext:next:rs.close%>"))},xiyueta.tplconfig=function(t){return _xyt.setTplConfig(t)},xiyueta.autoFindTpl=function(t,e,i){null!=t&&xiyueta.tplconfig(t),"number"!=typeof e&&(e=6);var r,s,t=xiyueta.tplconfig().minrow;return null==i?(r=xiyueta("body").getlv(),0<xiyueta(r=null!=r?"body :lv("+(r+1)+")":":lv(1)").findWithItem(t).length?-1<(s=xiyueta(r).findWithItem(t).find("a").text()).indexOf("首页")?xiyueta(r).findWithItem(t).nav():xiyueta(r).findWithItem(t).news():0<e&&xiyueta(r).each(function(){xiyueta.autoFindTpl(void 0,--e,this)})):(s=xiyueta(i).children().findWithItem(t).find("a").text(),0<xiyueta(i).children().findWithItem(t).length?-1<s.indexOf("首页")?xiyueta(i).children().findWithItem(t).nav():xiyueta(i).children().findWithItem(t).news():0<e&&xiyueta(i).children().each(function(){xiyueta.autoFindTpl(void 0,--e,this)})),r},xiyueta.fn.extend({findWithItem:function(t,e){var i="|div|span|ul|li|tr|a|",r=_xyt.tplConfig.minrow;1==arguments.length?"string"==typeof t?i="|"+t.replace(/\s+/g,"").replace(/,/g,"|")+"|":"number"==typeof t&&(r=t):2==arguments.length&&("string"==typeof t&&(i="|"+t.replace(/\s+/g,"").replace(/,/g,"|")+"|"),"number"==typeof e&&(r=e));for(var s,n,l=[],h=0,o="",a=this.domList.split(","),u=1;u<=a.length-1;u++){var f,c,m,d=a[u];-1!=d.indexOf("|")&&(c=d.split("|"),f=parseInt(c[0]),m=parseInt(c[1]),c=xiyueta({x:f,y:m}).getlabel(),-1!=i.indexOf("|"+c+"|")&&(m=xiyueta({x:f,y:m}).domlabel(2),null==s?(s=m,o=","+d,h=1):s==m?(o+=","+d,h++):(l.push({count:h,c:o}),s=m,o=","+d,h=1)))}""!=o&&l.push({count:h,c:o});for(u=0;u<l.length;u++){var p=l[u];(null==n||p.count>n.count)&&(n=p)}if(this.domList="",this.length=0,null!=n){if((a=n.c.split(",")).length-1<r)return this;this.domList=n.c,this.length=a.length-1}return this},news:function(t){return this.nav(t,"news")},nav:function(t,e){var i,r,s,n,l,h="新闻资讯";"object"==typeof t?(xiyueta.tplconfig(t),null!=i&&(i=t.row),null!=t.did&&(h=t.did)):null==xiyueta.tplconfig().webTitle&&xiyueta.tplconfig([]),e="news"==e?xiyueta.tplconfig().news:xiyueta.tplconfig().nav;var o=0;this.each(function(t,e){var i=xiyueta(this).domlabelwrap(2,"id class");0==t?((n=this).domHtml=i,n.count=1,this.x):n.domHtml==i?n.count++:null==l?((l=this).domHtml=i,l.count=1):l.domHtml==i?l.count++:alert(i),this.y,o++}),null==l?r=n:s=n.count>l.count?(r=n,l):(r=l,n),_xyt.replaceTplLabel(r,e),null==i&&(i=o);var a=e.for.replace("{%row%}",i).replace("{%did%}",h);return null!=s?(_xyt.replaceTplLabel(s,e),a+=e.focus+xiyueta(s).htmlwrap()+"\n<%else%>\n"+xiyueta(r).htmlwrap()+"\n<%end if%>"):a+=xiyueta(r).htmlwrap(),a+="\n"+e.end,this.each(function(t,e){0==t?xiyueta(this).htmlwrap(a):xiyueta(this).remove(!0)}),a},webtpl:function(t,e){var i,r;if(1==arguments.length?"object"==typeof t?i=t:"number"==typeof t&&(r=t):2==arguments.length&&("object"==typeof t&&(i=t),"number"==typeof e&&(r=e)),null!=this.domList)for(var s=this.domList.split(","),n=1;n<=s.length-1;n++){var l,h=s[n];-1<h.indexOf("|")?(l=h.split("|"),xiyueta.autoFindTpl(i,r,{x:l[0],y:l[1]})):xiyueta.autoFindTpl(i,r,{x:h,y:h})}}});