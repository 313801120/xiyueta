/*! xiyueta v1.0.4  MIT License By http://xiyueta.com/  */
function XiyuetaCommon(){}!function(){var n=new(window._XIYUETA=function(t){"use strict";this.htmlSource=t=null==t?"":t,this.htmlArr=[],this.common=new XiyuetaCommon,this.config={version:"1.0.5",jsdir:"js/",cssdir:"css/",imagesdir:"images/"},this.htmlParser=function(t){null!=t&&(this.htmlSource=t,this.htmlArr=[]);for(var e="",r="",l="",n="",i=!1,s=!1,a=!1,h=!1,u=0,o=0;o<=this.htmlSource.length-1;o++){var m,e=this.htmlSource.substr(o,1);i?(l+=e,h?">"==e&&"--\x3e"==l.substr(-3,3)&&(a=i=h=!1,this.htmlArr.push({lv:u+1,label:"!--",upHtml:n,html:l,tagpair:1}),n=l=""):s&&"\x3c!--"==l?h=!0:" "==e&&s?s=!1:">"==e&&(i=s=!1,m=2,"/"==r.substr(0,1)?a=!0:(u++,"/"!=r.substr(-1,1)&&-1=="|br|hr|img|link|meta|param|input|!doctype|".indexOf("|"+r.toLowerCase()+"|")||(a=!0,m=1)),this.htmlArr.push({lv:u,label:r.toLowerCase(),upHtml:n,html:l,tagpair:m}),n=l="",a&&(u--,a=!1),"script"==r.toLowerCase()&&(m=this.htmlSource.substr(o+1).toLowerCase().indexOf("<\/script>"),l=this.htmlSource.substr(o+1,m),o+=m)),s&&(r+=e)):"<"==e?(n=l,l=e,a=!(s=i=!0),r=""):l+=e}""!=l&&this.htmlArr.push({lv:u,label:"",upHtml:"",html:l})},this.handleLeLabelParam=function(r,t,l){if(null==l&&null!=r[t])return r[t];for(var e=!1,n="",i="",s=!1,a="",h=!1,u=!0,o=0,m=r.label.length+1;m<=r.html.length-1;m++){var f=r.html.substr(m,1);if(s)if(h)if(f==a||">"==f){if(r[n=n.toLowerCase()]=i,h=s=!1,a="",t==n){if(null==l)return i;{let t=o,e=o+i.length;u&&(t++,e++);var c=r.html.substr(0,t),d=r.html.substr(e);return r.html=c+l+d,r[n]=l,r}}}else i+=f;else'"'==f||"'"==f?(a=f,o=m,u=h=!0):" "!=f&&(a=" ",o=m,i=f,u=!(h=!0));else e?"="==f?(s=!(e=!1),a=i=""):" "!=f&&(n+=f):" "!=f&&(e=!0,n=f)}return""},this.getDocument=function(t,e,r,l){null==e&&(e=0),null==r&&(r=0),null==l&&(l=this.htmlArr.length-1);var n,i,s=!1,a="",h=0,u=0,o="",m=-1,f=!1,c="",d="",g="",p="",b=!1;-1!=t.indexOf(" ")&&(t=(n=t.split(" "))[0],c=n[1]),-1!=t.indexOf(":eq(")?(o=(i=t.split(":eq("))[0],""!=c&&(f=!0,o+=" "+c),""!=(m=i[1].substr(0,i[1].indexOf(")")).trim())&&(m=parseInt(m))):-1!=t.indexOf("[")?(o=(i=t.split("["))[0],""!=c&&(f=!0,o+=" "+c),d=(i=(A=i[1].substr(0,i[1].indexOf("]")).trim()).split("="))[0],g=i[1],-1!=d.indexOf("|")&&(d=(i=d.split("|"))[0],p=i[1])):o=t;for(var v=r;v<=l;v++){var L,x,A,O=this.htmlArr[v];if(null!=O)if(0==f)if(s&&O.label=="/"+o&&h==O.lv){if(b&&(a+="|"+v),e==m)return a;b=s=!1,e++,a+=this.getDocument(t,e,u+1,v)}else O.label==o&&0==s&&(1!=O.tagpair&&(s=!0,h=O.lv),u=v,""==c&&(""!=d?(A=this.handleLeLabelParam(O,d),(A="NOUL"==p?A.toLowerCase():A)==g&&(b=!0)):e!=m&&-1!=m||(b=!0)),b&&(a+=","+v,1==O.tagpair&&(e++,b=!1)));else s&&O.label=="/"+o.substr(0,O.label.length-1)&&h==O.lv?(s=!1,x=b?(L=c,0):(L=t,""!=c&&(L+=" "+c),e+1),a+=this.getDocument(L,x,u+1,v)):O.label==o.substr(0,O.label.length)&&0==s&&(1!=O.tagpair&&(s=!0,h=O.lv),u=v,""!=d?(A=this.handleLeLabelParam(O,d),(A="NOUL"==p?A.toLowerCase():A)==g&&(b=!0)):e!=m&&-1!=m||(b=!0))}return a},this.getItem=function(t,e){null==e&&(e="");var r=[];t=t.trim();for(var l=(u=this.getDocument(t)).split(","),n=1;n<=l.length-1;n++)if(-1!=(u=l[n]).indexOf("|")){var i=u.split("|"),s=this.htmlArr[i[0]];if(""!=e)""!==(u=this.handleLeLabelParam(s,e))&&r.push(u);else{for(var a=s.html,h=parseInt(i[0])+1;h<=i[1]-1;h++)a+=(s=this.htmlArr[h]).upHtml+s.html;""!=(a+=(s=this.htmlArr[i[1]]).upHtml+s.html)&&r.push(a)}}else{var u,s=this.htmlArr[u];""!=e?""!==(u=this.handleLeLabelParam(s,e))&&r.push(u):r.push(s.html)}return r},this.attr=function(t,e,r){null==e&&(e="");t=t.trim();var l=(s=this.getDocument(t)).split(",");if(null==r){var n=(s=l[1]).split("|"),i=this.htmlArr[n[0]];if(""!==(s=this.handleLeLabelParam(i,e)))return s}for(var s,a=1;a<=l.length-1;a++)i=-1!=(s=l[a]).indexOf("|")?(n=s.split("|"),this.htmlArr[n[0]]):this.htmlArr[s],""!=e&&null!=r&&this.handleLeLabelParam(i,e,r);return[]},this.getText=function(t){t=t.trim();for(var e="",r=this.getDocument(t),l=r.split(","),n=1;n<=l.length-1;n++)if(-1!=(r=l[n]).indexOf("|"))for(var i=r.split("|"),s=parseInt(i[0])+1;s<=i[1];s++)e+=this.htmlArr[s].upHtml;return e},this.getHtml=function(t){t=t.trim();var e="",t=(r=this.getDocument(t)).split(",");if(t.length<2)return"";var r=t[1];if(-1!=r.indexOf("|"))for(var l,n=r.split("|"),i=parseInt(n[0])+1;i<=n[1];i++)e+=(l=this.htmlArr[i]).upHtml,i<n[1]&&(e+=l.html);else""!=r&&(e+=(l=this.htmlArr[r]).html);return e},this.setHtml=function(t,e,r){t=t.trim();for(var l=(i=this.getDocument(t)).split(","),n=1;n<=l.length-1;n++){var i=l[n];if(-1!=i.indexOf("|"))for(var s,a=i.split("|"),h=parseInt(a[0]);h<=a[1];h++)"delete"==e?null!=(s=this.htmlArr[h])&&(h==parseInt(a[0])?(s.html="",s.label=""):delete this.htmlArr[h]):""==e&&null!=(s=this.htmlArr[h])&&(h==parseInt(a[0])||(h==a[1]?s.upHtml=r:delete this.htmlArr[h]));else"delete"==e&&null!=(s=this.htmlArr[i])&&(s.html="",s.label="")}},this.deleteDoc=function(t){return this.setHtml(t,"delete","")},this.setConfig=function(t){if(null==t)return this.config;null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir)},this.printHtml=function(){for(var t="",e=0;e<=this.htmlArr.length-1;e++){var r=this.htmlArr[e];null!=r&&(t+=r.upHtml+r.html)}return t},this.debug=function(t){console.log(this.htmlArr)},console.log("%c XiYueTa %c v1.0 加载完成 ","font-size:18px;color:#00bbee","color:#000")});window.xiyueta=function(l){return{text:function(t){return null==t?n.getText(l):n.setHtml(l,"",t)},html:function(t){return null==t?n.getHtml(l):n.setHtml(l,"",t)},attr:function(t,e){return n.attr(l,t,e)},item:function(t){return n.getItem(l,t)},remove:function(){return n.deleteDoc(l)},handle:function(t,e,r){return n.handleLabelParam(l,t,e,r)},clear:function(t){return n.removeNotNeededLabel(t)},charset:function(t){return n.handleWebCharset(t)},fullurl:function(t){return n.common.fullHttpUrl(l,t)},config:function(t){return n.setConfig(t)},parser:function(){return n.htmlParser(l)},print:function(){return n.printHtml()},debug:function(t){return n.debug(t)},author:function(){alert("作者：小云\nQQ313801120\n官网:xiyueta.com")}}}}(),function(){var l=new(window._XIYUETACSS=function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.config={parentdir:"../../",imagesdir:"images/dd/"},this.cssParser=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);for(var e,r="",l="",n="",i="",s=!1,a=!1,h=!1,u=!1,o=0;o<=this.cssSource.length-1;o++)e=r,r=this.cssSource.substr(o,1),s?(n+=r,h?"/"==r&&"*"==e&&(s=h=!1,this.cssArr.push({lv:0,label:"/*",upHtml:i,html:n}),i=n=""):a&&"*"==r&&"/"==e?h=!0:u?" "==r&&a?a=!1:";"!=r&&"\n"!=r||(s=a=u=!1,this.cssArr.push({lv:0,label:l.toLowerCase().trim(),upHtml:i,html:n}),i=n=""):"{"==r&&a?a=!1:"}"==r&&(s=a=!1,this.cssArr.push({lv:0,label:l.toLowerCase().trim(),upHtml:i,html:n}),i=n=""),a&&(" "!=r||" "!=e&&","!=e)&&(l+=r)):" "!=r&&";"!=r&&"\n"!=r?(i=n,a=s=!0,"@"==(l=n=r)&&(u=!0)):n+=r;""!=n&&this.cssArr.push({lv:0,label:"",upHtml:"",html:n})},this.handleLeLabelParam=function(r,t,l){if(null==l&&null!=r[t])return r[t];for(var e=!1,n="",i="",s=!1,a="",h=!1,u=!0,o=0,m=r.html.indexOf("{")+1;m<=r.html.length-1;m++){var f=r.html.substr(m,1);if(s)if(h)if(f==a||"}"==f){if(r[n=n.toLowerCase()]=i,h=s=!1,a="",t==n){if(null==l)return i;{let t=o,e=o+i.length;u&&(t++,e++);var c=r.html.substr(0,t),d=r.html.substr(e);return r.html=c+l+d,r[n]=l,r}}}else i+=f;else" "!=f&&(a=";",o=m,u=!(h=!0),i=f);else e?":"==f?(s=!(e=!1),a=i=""):" "!=f&&(n+=f):" "!=f&&(e=!0,n=f)}return""},this.getCss=function(t,e,r){for(var l=0;l<=this.cssArr.length-1;l++){var n=this.cssArr[l];if(null!=n&&t==n.label)return null==e?n.html:this.handleLeLabelParam(n,e,r)}},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var r=this.cssArr[e];if(null!=r)if("@charset"==r.label)return null!=t?(r.html='@charset "'+t+'";',""):r.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.handleCssBackGround=function(t,e=""){for(var r,l="",n=!1,i=0;i<=this.cssArr.length-1;i++){var s,a,h,u,o=this.cssArr[i],m=o.html.toLowerCase();null!=o&&-1!=m.indexOf("background")&&(n=!1,(n=-1!=this.handleLeLabelParam(o,"background").trim().toLowerCase().indexOf("url(")||-1!=this.handleLeLabelParam(o,"background-image").trim().toLowerCase().indexOf("url(")?!0:n)&&(s=o.html.indexOf("("),m=o.html.indexOf(")"),-1!=s&&-1!=m&&(a=o.html.substr(0,s+1),h=o.html.substr(m),-1!=(u=(u=o.html.substr(s+1,m-s-1)).replace(/"/g,"").replace(/'/g,"")).indexOf("data:image/")&&(u="")),-1!=("|"+t+"|").indexOf("clean")&&""!=u?(s=u=this.common.fullHttpUrl(e,u),-1!=("|"+t+"|").indexOf("web")?(""!=(u=this.common.getUrlFileName(u,o.label))&&(r=this.config.imagesdir+u,u=this.config.parentdir+this.config.imagesdir+u),""!=u&&(-1!=("|"+t+"|").indexOf("down")?(""!=l&&(l+="[,]"),l+=s+"[|]"+r):(""!=l&&(l+="[,]"),l+=r)),o.html=a+u+h):""!=u&&(""!=l&&(l+="[,]"),l+=u)):""!=u&&(""!=l&&(l+="[,]"),l+=u)))}return l},this.setConfig=function(t){if(null!=t.imagesdir){this.config.imagesdir=t.imagesdir;for(var e=t.cssdir.split("/"),r="",l=0;l<=e.length-2;l++)r+="../";this.config.parentdir=r}},this.printCss=function(){for(var t="",e=0;e<=this.cssArr.length-1;e++){var r=this.cssArr[e];null!=r&&(t+=r.upHtml+r.html)}return t},this.debug=function(){console.log(this.cssArr)}});window.xiyuetaCSS=function(r){return{css:function(t,e){return l.getCss(r,t,e)},handlecssimg:function(t,e){return l.handleCssBackGround(t,e)},charset:function(t){return l.handleCssCharset(t)},parser:function(){return l.cssParser(r)},config:function(t){return l.setConfig(t)},print:function(){return l.printCss()},debug:function(t){return l.debug(t)}}}}(),XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",r=t.indexOf("://");for(-1!=r&&(e=t.substr(0,r+3),t=t.substr(r+3));-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var l=[],n=0,i=t.split("/"),s=0;s<=i.length-1;s++)".."==(a=i[s])?(0==n?n=s-1:--n,0<=n&&delete l[n]):(l.push(a),n=0);for(t="",s=0;s<=l.length-1;s++){var a=l[s];null!=l[s]&&(""!=t&&(t+="/"),t+=l[s])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){if(""==(e=e.replace(/\\/g,"/").toLowerCase())||""==e||"./"==e)return"";var r="",l="",n="",i=t.indexOf("://");return-1!=i&&(r=t.substr(0,i+3),i=(t=t.substr(i+3)).lastIndexOf("/"),n=r+t.substr(0,i+1),i=t.indexOf("/"),l=r+t.substr(0,i+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?l+e:n+e),this.handleFileUrl(e)},XiyuetaCommon.prototype.getUrlFileName=function(t,e){if(""==t||null==t)return"";var r=(t=t.replace(/\\/g,"/").trim()).split("/"),l=r[r.length-1],n="",t="";return-1!=(l=-1!=l.indexOf("?")?this.setFileName(l):l).indexOf(".")&&(r=l.lastIndexOf("."),n=l.substr(0,r),t=l.substr(r+1).toLowerCase()),"img"==e?""==t?l+=".jpg":-1=="|jpg|bmp|jpeg|png|".indexOf("|"+t+"|")&&(l=n+".jpg"):"css"==e?""==t?l+=".css":-1=="|css|".indexOf("|"+t+"|")&&(l=n+".css"):"js"==e&&(""==t?l+=".js":-1=="|js|".indexOf("|"+t+"|")&&(l=n+".js")),l},XiyuetaCommon.prototype.setFileName=function(e){arrA=new Array("\\","/",":","*","?",'"',"<",">","|",".",","),arrB=new Array("撇","揦","：","星","？","“","左","右","横","。","，");for(let t=0;t<=arrA.length-1;t++)e=e.replace(/newarrA[i]/g,arrB[t]);return e=(e=(e=e.replace(/&nbsp;/g," ")).replace(/&quot;/g,"双")).replace(/\n/g,"")},_XIYUETA.prototype.handleLabelParam=function(t,e,r,l){for(var n="",i=!0,s=0;s<=this.htmlArr.length-1;s++){var a,h,u,o=this.htmlArr[s];null!=o&&-1!=("|"+t+"|").indexOf("|"+o.label+"|")&&(a=this.handleLeLabelParam(o,e),"link"==o.label&&("dns-prefetch"!=(h=this.handleLeLabelParam(o,"rel").trim().toLowerCase())&&"alternate"!=h||(a="")),-1!=("|"+r+"|").indexOf("clean")?(i=!0,""!=a&&-1==a.indexOf("apps.bdimg.com/")&&(u=a=this.common.fullHttpUrl(l,a),-1!=("|"+r+"|").indexOf("web")&&""!=(a=this.common.getUrlFileName(a,o.label))&&("img"==o.label?a=this.config.imagesdir+a:"script"==o.label?a=this.config.jsdir+a:"link"==o.label?-1!=(h=this.handleLeLabelParam(o,"rel").trim().toLowerCase()).indexOf("shortcut icon")?a=this.config.imagesdir+a:-1!=h.indexOf("stylesheet")?a=this.config.cssdir+a:(a="",i=!1):(i=!1,a="")),i&&""!=a&&(-1!=("|"+r+"|").indexOf("down")?(""!=n&&(n+="[,]"),n+=u+"[|]"+a):(""!=n&&(n+="[,]"),n+=a)),this.handleLeLabelParam(o,e,a))):""!=a&&(""!=n&&(n+="[,]"),n+=a))}return n},_XIYUETA.prototype.handleWebCharset=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var r=this.htmlArr[e];if(null!=r)if("meta"==r.label)if(-1!=r.html.toLowerCase().indexOf("charset=")){var l=this.handleLeLabelParam(r,"charset").toLowerCase().trim();if(""!=l)return null!=t&&this.handleLeLabelParam(r,"charset",t),l;if(-1!=(l=this.handleLeLabelParam(r,"content").toLowerCase().trim()).indexOf("utf-8"))return null!=t?(this.handleLeLabelParam(r,"content","text/html; charset="+t),""):"utf-8";if(-1!=l.indexOf("gb2312"))return null!=t?(this.handleLeLabelParam(r,"content","text/html; charset="+t),""):"gb2312"}}return""},_XIYUETA.prototype.removeNotNeededLabel=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var r=this.htmlArr[e];null!=r&&"/script"==r.label&&-1!=r.upHtml.indexOf("hm.baidu.com/h.js")&&(r.upHtml="")}};