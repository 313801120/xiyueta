/*! xiyueta v1.2.5 | Author xiyueta Adream | MIT License By http://xiyueta.com/  */
var globalXYG;function XiyuetaCommon(){}!function(){var i=new(window._XIYUETACSS=function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.config={parentdir:"../",imagesdir:"images/"},this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);for(var e,l="",i="",r="",s="",a=!1,n=!1,h=!1,o=!1,u=!1,f=0,p=0;p<=this.cssSource.length-1;p++)e=l,l=this.cssSource.substr(p,1),a?(r+=l,h?"/"==l&&"*"==e&&(a=h=!1,this.cssArr.push({lv:1,label:"/*",upHtml:s,html:r}),s=r=""):n&&"*"==l&&"/"==e?h=!0:o?!u||";"!=l&&"\n"!=l?" "==l&&n?"@charset "==r.toLowerCase()?n=!(u=!0):"@font-face "==r.toLowerCase()&&(o=!1):"{"==l&&("@font-face "==r.toLowerCase()?o=!1:(o=a=n=!1,this.cssArr.push({lv:1,label:i.toLowerCase().trim(),upHtml:s,html:r}),f++,s=r="")):(o=a=n=u=!1,this.cssArr.push({lv:1,label:i.toLowerCase().trim(),upHtml:s,html:r}),s=r=""):"{"==l&&n?n=!1:"}"==l&&(a=n=!1,this.cssArr.push({lv:f+1,label:i.toLowerCase().trim(),upHtml:s,html:r}),s=r=""),n&&(" "!=l||" "!=e&&","!=e)&&(i+=l)):" "!=l&&";"!=l&&"\n"!=l?"}"==l&&1==f?(this.cssArr.push({lv:f,label:"}",upHtml:s,html:"}"}),s=r="",f--):(s=r,n=a=!0,"@"==(i=r=l)&&(o=!0)):r+=l;""!=r&&this.cssArr.push({lv:f,label:"",upHtml:"",html:r})},this.handleLabelParam=function(l,t="[All]",i){if(null==i&&null!=l[t])return l[t];var e,r="";-1!=t.indexOf("|")&&(t=(e=t.split("|"))[0],r=e[1],""==t&&(t="[All]"));for(var s=!1,a="",n="",h=!1,o="",u=!1,f=!0,p=0,c=!1,m="",g=l.html.indexOf("{")+1;g<=l.html.length-1;g++){var b=l.html.substr(g,1);if(h)if(u){if(0!=(c=1==c&&")"==b?!1:c)||b!=o&&"}"!=b&&g!=l.html.length-1)n+=b,"("==b&&(c=!0);else if(l[a=a.toLowerCase().trim()]=n,u=h=!1,o="",t==a||"[All]"==t)if(null==i){if("url"!=r)return n;""!=(n=this.getSetCssBg(n))&&(""!=m&&(m+="\n"),m+=n)}else{let t=p,e=p+n.length;f&&(t++,e++);var d=l.html.substr(0,t),y=l.html.substr(e);if("url"!=r){x=d+i+y;return l.html=x,l[a]=i,l}var x,v=this.getSetCssBg(n,i);""!=v&&(""!=m&&(m+="\n"),m+=v,l.html=x=d+v+y,g=(d+(l[a]=v)).length)}}else" "!=b&&(o=";",p=g,f=!(u=!0),n=b);else s?":"==b?(h=!(s=!1),o=n=""):" "!=b&&(a+=b):" "!=b&&(s=!0,a=b)}return m},this.getSetCss=function(t="[All]",e,l){t=t.trim();for(var i=0;i<=this.cssArr.length-1;i++){var r=this.cssArr[i];if(null!=r&&(t==r.label||"[All]"==t))return null==e?r.html:this.handleLabelParam(r,e,l)}},this.getSetCssBg=function(t,e){if(-1==t.indexOf(","))return this.handleCssBg(t,e);var l=t.split(","),i="";for(let t=0;t<l.length;t++){var r=l[t];""!=i&&(i+=","),i+=r=this.handleCssBg(r,e)}return i},this.handleCssBg=function(e,l){if(null==e)return"";if(null==l){if(-1==e.indexOf("(")||-1==e.indexOf(")"))return null==l||"dir="==l.substr(0,4)||"server="==l.substr(0,7)?"":e;if(-1==e.toLowerCase().indexOf("url"))return null==l||"dir="==l.substr(0,4)||"server="==l.substr(0,7)?"":e}var i="",r=!1,s=!1,a="",n=-1;for(let t=0;t<=e.length-1;t++){var h=e.substr(t,1);if(r)if(s){if(a==h){var o=e.substr(n,t-n);if(null!=l)if("server="==l.substr(0,7)){if(-1!=o.indexOf("data:"))return e;o=e.substr(0,n)+this.common.fullHttpUrl(l.substr(7),o)+e.substr(t)}else if("dir="==l.substr(0,4)){if(-1!=o.indexOf("data:"))return e;o=e.substr(0,n)+l.substr(4)+this.common.getUrlFileName(o)+e.substr(t)}else-1==o.indexOf("data:")&&(o=e.substr(0,n)+l+e.substr(t));return o}}else""!=h&&('"'==h||"'"==h?(s=!0,a=h,-1==n&&(n=t+1)):(s=!0,a=")",-1==n&&(n=t)));else if("("==h){if("url"==i.trim().toLowerCase().substr(-3,3))r=!0;else if(null==l)return""}else i+=h}return e},this.getSetAllCss=function(t="[All]",e,l){for(var i=","+(t=t.trim())+",",r="",s=0;s<=this.cssArr.length-1;s++){var a,n,h=this.cssArr[s];null!=h&&(a=","+h.label+",",h.label,-1==a.indexOf(i)&&"[All]"!=t||(null==e||"object"==typeof(n=this.handleLabelParam(h,e,l))?(""!=r&&(r+="\n"),r+=h.html):n&&(""!=r&&(r+="\n"),r+=n)))}return r},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var l=this.cssArr[e];if(null!=l)if("@charset"==l.label)return null!=t?(l.html='@charset "'+t+'";',""):l.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.handleCssBackGround=function(t,e=""){var l="";xiyuetaCSS().allcss("|url","server="+e),l=(l=xiyuetaCSS().allcss("|url")).replace(/,/g,"\n"),xiyuetaCSS().allcss("|url","dir="+this.config.parentdir+this.config.imagesdir);for(var i,r=l.split("\n"),s="",a=0;a<=r.length-1;a++)""!=(i=r[a])&&(""!=s&&(s+="[,]"),s+=(i=-1!=i.indexOf("?")?i.substr(0,i.indexOf("?")):i)+"[|]"+this.config.parentdir+this.config.imagesdir+xiyueta().getUrlFileName(i));return s},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir){this.config.imagesdir=t.imagesdir;for(var e=t.cssdir.split("/"),l="",i=0;i<=e.length-2;i++)l+="../";this.config.parentdir=l}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(t){for(var e="",l=0;l<=this.cssArr.length-1;l++){var i,r=this.cssArr[l];null!=r&&(i=r.upHtml+r.html,"zip"==t?i="/*"==r.label?"":i.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&(i=i.trim()+"\n"),""!=i&&(e+=i))}return e},this.debug=function(){console.log(this.cssArr)}});window.xiyuetaCSS=function(l){return{css:function(t,e){return i.getSetCss(l,t,e)},allcss:function(t,e){return i.getSetAllCss(l,t,e)},handlecssimg:function(t,e){return i.handleCssBackGround(t,e)},charset:function(t){return i.handleCssCharset(t)},parse:function(){return i.cssParse(l)},config:function(t){return i.setConfig(t)},print:function(t){return i.printCss(t)},debug:function(t){return i.debug(t)}}}}(),function(){var e=new(window._XIYUETAASP=function(t){"use strict";this.aspSource=t=null==t?"":t,this.aspArr=[],this.common=new XiyuetaCommon,this.config={},this.phpPublicObjectList="",this.phpPublicFunList="",this.aspParse=function(t){null!=t&&(this.aspSource=t,this.aspArr=[]);for(var e="",l="",i="",r="",s="",a="",n="",h=!1,o=!1,u=0,f="",p=0,c=this.aspSource.split("\n"),m=0;m<=c.length-1;m++){for(var g,b,d=0;d<=c[m].length;d++)if(l=e,e=c[m].substr(d,1),i=c[m].substr(d+1,1),0==h)"%"==e&&"<"==l&&(h=!0,this.aspArr.push({lv:u,type:"<asp>",label:"<%",upHtml:n,html:"<%",tagpair:2}),r=n=a="",u++);else if("%"==e&&">"==i)h=!1,u--,this.aspArr.push({lv:u,type:"<asp>",label:"%>",upHtml:n,html:"%>",tagpair:2}),r=n=a="",d++,l=e,e=c[m].substr(d,1),i=c[m].substr(d+1,1);else if(a+=e,'"'==e||""!=f)'"'==e&&p++,p%2==0&&'"'!=i?(f+=e,this.aspArr.push({lv:u,type:"<str>",label:r,upHtml:n,html:f,tagpair:2}),p=0,r=n=a=f=""):f+=e;else if("("==e)u++,this.aspArr.push({lv:u,type:"<(>",label:e,upHtml:n,html:a,tagpair:2}),r=n=a="";else if(")"==e)this.aspArr.push({lv:u,type:"<)>",label:e,upHtml:n,html:a,tagpair:2}),r=n=a="",u--;else if(-1!="|&|,|+|-|*|/|=|:|>|<|".indexOf("|"+e+"|"))this.aspArr.push({lv:u,type:"<fuhao>",label:e,upHtml:n,html:a,tagpair:1}),"="!=e&&">"!=e||">"!=(b=this.aspArr[this.aspArr.length-2]).label&&"<"!=b.label||(b.label+=e,b.html+=" "+e,this.aspArr.pop()),r=n=a="";else{if("'"==e){this.aspArr.push({lv:u,type:"<note>",label:e,upHtml:a,html:c[m].substr(d+1),tagpair:1}),r=n=a="";break}""==e||" "==e||"\t"==e||-1=="' ()+-*/=><&,".indexOf(i)&&d!=c[m].length?" "!=e&&"\t"!=e&&(r+=e.toLowerCase()):(r+=e.toLowerCase(),s=-1!="0123456789".indexOf(r.substr(0,1))?"<int>":"("==i||-1!=",dim,if,then,elseif,else,end,function,select,case,call,for,to,next,set,nothing,do,while,loop,and,true,false,vbcrlf,in,class,new,".indexOf(","+r+",")||-1!=r.indexOf(".")?"<fun>":"<var>",this.aspArr.push({lv:u,type:s,label:r,upHtml:n,html:a,tagpair:2}),"function"==r?"end"==(g=this.aspArr[this.aspArr.length-2]).label?(u--,g.lv--,g.label+="function",g.html+=" function",this.aspArr.pop()):u++:"if"==r?"end"==(g=this.aspArr[this.aspArr.length-2]).label?(u--,g.lv--,g.label+="if",g.html+=" if",this.aspArr.pop()):u++:"else"==r||"elseif"==r||"then"==r?(this.aspArr[this.aspArr.length-1].lv--,"else"==r&&"case"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.lv,g.label+="else",g.html+=" else",this.aspArr.pop())):"select"==r?"end"==(g=this.aspArr[this.aspArr.length-2]).label?(u--,g.lv--,g.label+="select",g.html+=" select",this.aspArr.pop(),o&&(o=!1,u--,g.lv--)):u++:"case"==r?"select"==(b=this.aspArr[this.aspArr.length-2]).label?(b.label+="case",b.html+=" case",this.aspArr.pop()):o?this.aspArr[this.aspArr.length-1].lv--:(u++,o=!0):"class"==r?"end"==(g=this.aspArr[this.aspArr.length-2]).label?(u--,g.lv--,g.label+="class",g.html+=" class",this.aspArr.pop()):u++:"each"==r?"for"==(b=this.aspArr[this.aspArr.length-2]).label&&(b.label+="each",b.html+=" each",this.aspArr.pop()):"while"==r?("do"==(b=this.aspArr[this.aspArr.length-2]).label&&(b.label+="while",b.html+=" while",this.aspArr.pop()),u++):"loop"==r?(u--,this.aspArr[this.aspArr.length-1].lv--):"for"==r?u++:"next"==r&&(u--,this.aspArr[this.aspArr.length-1].lv--),s=r=n=a="")}m+1<c.length&&this.aspArr.push({lv:u,type:"<br>",label:"\n",upHtml:"",html:"\n",tagpair:1})}},this.toPHP=function(t){var e="",l="",i=[],r=[],s=[],a=0,n=!1,h=!1,o="",u="",f="",p=!1,c=-1,m=-1,g=!1,b=-1,d="",y=",",x=","+this.phpPublicFunList,v=","+this.phpPublicObjectList,C=-1,A=!1;this.aspBeautify();for(var w,O,S=0;S<=this.aspArr.length-1;S++)C==S&&(":"==(i=this.aspArr[S]).label?(l+=":",S++):l+=":",C=-1),0<S&&(r=this.aspArr[S-1]),i=this.aspArr[S],s=[],S<this.aspArr.length&&(s=this.aspArr[S+1]),"<br>"==r.type&&(l+=this.common.copyStr("    ",i.lv+a)),"<%"==i.label?(l+="<?PHP",a--):"%>"==i.label?l+="?>":"<br>"==i.type?l+="\n":"<note>"==i.type?l+="//"+i.html:"<var>"==i.type?(w=!0,-1!=x.indexOf(","+i.label+",")?"class"==r.label?(w=!1,l+=i.label+"{"):"new"==r.label?l+=i.label+"()":"="==s.label?(l+="return ",S++):l+=i.label:l+="$"+i.label,"<br>"==s.type&&""==f&&w&&(l+=";")):"<fuhao>"==i.type||"<int>"==i.type||"<(>"==i.type||"<)>"==i.type?n&&"="==i.label?l+="==":"&"==i.label?l+=".":"("==i.label?c==i.lv?l+="[":l+="(":")"==i.label?(c==i.lv?(l+="]",c=-1):b==i.lv?(e+=l+","+d+")",b=-1,d=l=""):m==i.lv?(m=-1,l+="){"):l+=")","<br>"!=s.type&&"<note>"!=s.type||(l+=";")):","==i.label?p?(l+="]=",p=!1):b==i.lv?(d=l,l=""):h?(l+=";","<br>"!=s.type&&"<note>"!=s.type||(h=!1)):l+=",":":"==i.label?l+=";":"<>"==i.label?l+="!=":"<int>"==i.type?(l+=i.label,"<br>"!=s.type&&"<note>"!=s.type||-1!=C||(l+=";")):l+=i.label:"<str>"==i.type?(l+=i.html,"<br>"!=s.type&&"<note>"!=s.type||-1!=C||(l+=";")):"<fun>"==i.type&&("response.write"==i.label?l+="echo":"nothing"==i.label?l+="null":"and"==i.label?l+=" && ":"ubound"==i.label?l+="count":"split"==i.label?(y+=this.aspArr[S-2].label+".add,",e+=l+="explode(",l="",b=i.lv+1,S++):"new"==i.label?l+="new ":"function"==i.label?(m=this.aspArr[S+2].lv,l+=i.label+" ",-1==x.indexOf(","+s.label+",")&&(x+=s.label+",")):"endfunction"==i.label?l+="}":"if"==i.label?(l+=i.label,"("!=s.label&&(l+="("),n=!0):"elseif"==i.label?(l+="}else if","("!=s.label&&(l+="("),n=!0):"then"==i.label?(")"!=r.label&&(l+=")"),l+="{",n=!1):"else"==i.label?l+="}else{":"endif"==i.label?l+="}":"selectcase"==i.label?(l+="switch ","("!=s.label&&(l+="("),f="selectcase"):"endselect"==i.label?(l+="}",A&&(e+=this.common.copyStr("    ",i.lv+1)+"break;\n"),A=!1):"caseelse"==i.label?(l+="default ",A&&(e+=this.common.copyStr("    ",i.lv)+"break;\n"),A=!0,C=S+1):"case"==i.label?(l+=i.label+" ",A&&(e+=this.common.copyStr("    ",i.lv)+"break;\n"),A=!0,C=S+2):"vbcrlf"==i.label?l+='"\\n"':"createobject"==i.label?(0<S-1&&(y+=this.aspArr[S-2].label+".add,"),S+1<this.aspArr.length&&'"scripting.dictionary"'==this.aspArr[S+2].html.toLowerCase()&&(l+="array();",S+=3)):-1!=y.indexOf(","+i.label+",")?(l+="$"+i.label.substr(0,i.label.indexOf("."))+"[",","==this.aspArr[S+2].label&&(p=!0)):-1!=y.indexOf(","+i.label+".")?(l+="$"+i.label,c=s.lv):"dowhile"==i.label?(l+="while","("!=s.label&&(l+="("),g=!0):"loop"==i.label?l+="}":"class"==i.label?(l+="class ",-1==x.indexOf(","+s.label+",")&&(x+=s.label+","),-1==v.indexOf(","+s.label+",")&&(v+=s.label+",")):"endclass"==i.label?l+="}":"foreach"==i.label?(O=this.aspArr[S+1],l+="foreach($"+this.aspArr[S+3].label+" as $key=>$"+O.label+"){",S+=3):"for"==i.label?(l+=i.label,"("!=s.label&&(l+="("),o="for",u=s.label):"for"==o&&"to"==i.label?(O=this.aspArr[S+1],"ubound"==s.label?l+=";$"+u+"<":l+=";$"+u+"<=",o="forto"):"next"==i.label?l+="}":"dim"==i.label?h=!0:-1!=i.label.indexOf(".")?l+="$"+i.label.replace(/\./g,"->"):-1==",call,set,".indexOf(","+i.label+",")&&(l+=i.label),"<br>"==s.type&&-1==",endfunction,then,endif,next,else,endselect,endclass,".indexOf(","+i.label+",")&&0==g&&(l+=";")),"forto"!=o||"<br>"!=s.type&&"<note>"!=s.type||"to"==i.label?"selectcase"!=f||"<br>"!=s.type&&"<note>"!=s.type||"selectcase"==i.label?!g||"<br>"!=s.type&&"<note>"!=s.type||(")"!=r.label&&(l+=")"),l+="{",n=g=!1):(f="",")"!=r.label&&(l+=")"),l+="{"):("<note>"==s.type&&(l+=";"),l+="$"+u+"++",u=o="",")"!=r.label&&(l+=")"),l+="{"),"<br>"==i.type&&(e+=l,l="",h=!1);return e+l},this.aspBeautify=function(){for(var t,e=0;e<=this.aspArr.length-1;e++)"class"==this.aspArr[e].label&&e<this.aspArr.length&&(t=this.aspArr[e+1],this.phpPublicObjectList+=t.label+",",this.phpPublicFunList+=t.label+",")},this.debug=function(){console.log(this.aspArr)}});window.xiyuetaASP=function(t){return{parse:function(){return e.aspParse(t),this},beautify:function(){return e.aspBeautify(t),this},toPHP:function(t){return e.toPHP(t)},debug:function(t){return e.debug(t)}}}}(),function(){var i=new(window._XIYUETA=function(t){"use strict";this.htmlSource=t=null==t?"":t,this.htmlArr=[],this.common=new XiyuetaCommon,this.config={version:"1.2.5",httpurl:"",serverurl:"/api/downWeb/default.asp",jsdir:"js/",cssdir:"css/",imagesdir:"images/"},this.tplConfig={type:"xiyuetacms",item:4},this.htmlParse=function(t){null!=t&&(this.htmlSource=t,this.htmlArr=[]);for(var e="",l="",i="",r="",s=!1,a=!1,n=!1,h=!1,o=!1,u=0,f=0;f<=this.htmlSource.length-1;f++){var p,c,e=this.htmlSource.substr(f,1);s?(i+=e,h?">"==e&&"--\x3e"==i.substr(-3,3)&&(n=s=h=!1,this.htmlArr.push({lv:u+1,label:"!--",upHtml:r,html:i,tagpair:1}),r=i=""):a&&"\x3c!--"==i?h=!0:o?">"==e&&"%>"==i.substr(-2,2)&&(n=s=o=!1,this.htmlArr.push({lv:u+1,label:"<%",upHtml:r,html:i,tagpair:1}),r=i=""):a&&"<%"==i?o=!0:" "==e&&a?a=!1:">"==e&&(s=a=!1,c=2,"/"==l.substr(0,1)?n=!0:(u++,"/"!=l.substr(-1,1)&&-1=="|br|hr|img|link|meta|param|input|!doctype|rect|line|".indexOf("|"+l.toLowerCase()+"|")||(n=!0,c=1,l=l.replace(/\//g,"").trim())),this.htmlArr.push({lv:u,label:l.toLowerCase(),upHtml:r,html:i,tagpair:c}),r=i="",n&&(u--,n=!1),"script"==l.toLowerCase()?(p=this.htmlSource.substr(f+1).toLowerCase().indexOf("<\/script>"),i=this.htmlSource.substr(f+1,p),f+=p):"textarea"==l.toLowerCase()&&(p=this.htmlSource.substr(f+1).toLowerCase().indexOf("</textarea>"),i=this.htmlSource.substr(f+1,p),f+=p)),a&&(l+=e)):"<"==e?(c=this.htmlSource.substr(f+1,1).toLowerCase(),-1!="abcdefghijklmnopqrstuvwxyz!/%?".indexOf(c)?(r=i,i=e,n=!(a=s=!0),l=""):i+=e):i+=e}""!=i&&this.htmlArr.push({lv:u,label:"",upHtml:"",html:i})},this.handleLabelParam=function(t,e,l){if(null==l){if(null!=t[e])return t[e]}else l=l.toString();for(var i=!1,r="",s="",a=!1,n="",h=!1,o=!0,u=0,f=0,p=!1,c=t.label.length+1;c<=t.html.length-1;c++){var m=t.html.substr(c,1);if(a)if(h)if(p)">"==m&&(p=!1),s+=m;else if(m==n||">"==m){var g,r=r.toLowerCase();if(t[r]=s,h=a=!1,n="",e==r)return null==l?s:(""==l?(d=t.html.substr(0,f-1),y=t.html.substr(c+1),t.html=d+y):(x=(g=u)+s.length,o&&(g++,x++),d=t.html.substr(0,g),y=t.html.substr(x),t.html=d+l+y),t[r]=l,t);else if(">"==m&&null!=l)return t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+l+'">',t[e]=l,!0}else"<"==m&&(p=!0),s+=m;else'"'==m||"'"==m?(n=m,u=c,o=h=!0):" "!=m&&(n=" ",u=c,s=m,o=!(h=!0));else if(">"==m){if(null!=l)return t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+l+'">',t[e]=l,!0;if(e==(r=r.trim()))return null!=l&&(b=f+r.length,d=t.html.substr(0,b),y=t.html.substr(b),t.html=d+'="'+l+'"'+y),""}else if(i)if("="==m){if(-1!=(r=r.trim()).indexOf(" ")){var b,d,y,x=r.split(" ");if(e==(r=x[0]))return null!=l&&(b=f+r.length,d=t.html.substr(0,b),y=t.html.substr(b),t.html=d+'="'+l+'"'+y),""}a=!(i=!1),n=s=""}else r+=m;else" "!=m&&(i=!0,r=m,f=c)}},this.getDocument=function(l="",t,e,i=!1){if(""==(l=l.trim()))return"";null==t&&(t=0),null==e&&(e=this.htmlArr.length-1);var r=-1.1,s="",a="",n="",h="",o="";if(-1!=l.indexOf("'")||-1!=l.indexOf('"')){var u=!1;let e="";for(let t=0;t<=l.length;t++){var f=l.substr(t,1);0!=u||"'"!=f&&'"'!=f?1==u&&(" "==f?f="-Space-":"'"!=f&&'"'!=f||(u=!1,f="")):(u=!0,f=""),e+=f}l=e}var p,c=l.indexOf(" ");if(-1!=c&&(s=l.substr(c+1).trim(),l=l.substr(0,c)),-1!=(c=l.indexOf(":eq("))&&(p=(f=l.substr(c+4)).indexOf(")"),""!=(r=f.substr(0,p))&&(r=parseInt(r))),-1!=(c=l.indexOf("["))&&(p=(f=l.substr(c+1)).indexOf("]"),a=(p=(f=f.substr(0,p)).split("="))[0],n=p[1].replace(/-Space-/g," "),-1!=a.indexOf("|")&&(a=(p=a.split("|"))[0],h=p[1]),l=l.substr(0,c)),"#"==l.substr(0,1)){if(0<r)return"";r=0}if(""!=(o=this.serchDocument(l,t,e,a,n,h))&&-1.1!=r&&(m=o.split(","),""!=(o=r<0?m[m.length+r]:m[r+1])&&(o=","+o)),""!=s&&""!=o){var m=o.split(",");o="";for(var g,b=1;b<=m.length-1;b++)-1!=(f=m[b]).indexOf("|")&&(g=f.split("|"),t=parseInt(g[0])+1,e=parseInt(g[1])-1,o+=this.getDocument(s,t,e,!0))}if(0==i){m=o.split(",");o="";for(b=1;b<=m.length-1;b++){f=m[b];-1==(","+o+",").indexOf(","+f+",")&&(o+=","+f)}}return o},this.serchDocument=function(t,e,l,i="",r="",s=""){for(var a=!1,n="",h=0,o=0,u=!1,f=e;f<=l;f++){var p,c,m=this.htmlArr[f];null!=m&&(a&&this.checkEndSelector(m,t)&&h==m.lv?(u&&(n+="|"+f),u=a=!1,n+=this.serchDocument(t,o+1,f,i,r,s)):this.checkStartSelector(m,t)&&0==a&&(2==m.tagpair&&(a=!0,h=m.lv),o=f,p=!0,""!=i&&(c=this.handleLabelParam(m,i),(c="NOUL"==s?c.toLowerCase():c)!=r&&(p=!1)),p&&(n+=","+f,2==m.tagpair&&(u=!0))))}return n},this.checkStartSelector=function(t,e){if(""==t.label)return!1;var l=e+" ",i=t.label.substr(0,1),r=e.substr(0,1);if("*"==r&&"/"!=i)return!0;if("#"==r){var s=e.substr(1,l.indexOf(" ")-1);if(this.handleLabelParam(t,"id")==s)return!0}else if("."==r){s=e.substr(1,l.indexOf(" ")-1);if(this.handleLabelParam(t,"class")==s)return!0}else if(t.label==e.substr(0,t.label.length))return!0;return!1},this.checkEndSelector=function(t,e){t.label.substr(0,1);var l=e.substr(0,1);return"*"==l||("#"==l||"."==l||t.label=="/"+e.substr(0,t.label.length-1))},this.getText=function(t,e,l){t="object"==typeof t?(e=t.x,l=t.y,""):t.trim();for(var i="",r=this.sDoc,s=(r=null==this.sDoc?this.getDocument(t,e,l):r).split(","),a=1;a<=s.length-1;a++)if(-1!=(r=s[a]).indexOf("|"))for(var n=r.split("|"),h=parseInt(n[0])+1;h<=n[1];h++)null!=this.htmlArr[h]&&(i+=this.htmlArr[h].upHtml);return i},this.getHtml=function(t,e,l,i){""!=(i=null==i?"":i)&&(i="|"+i+"|"),t="object"==typeof t?(e=t.x,l=t.y,""):t.trim();var r="",s=this.sDoc,t=(s=null==this.sDoc?this.getDocument(t,e,l):s).split(",");if(!(t.length<2)){if(-1!=(s=t[1]).indexOf("|"))for(var t=s.split("|"),e=parseInt(t[0]),l=parseInt(t[1]),a=e;a<=l;a++){var n=this.htmlArr[a];n&&(e<a&&-1==i.indexOf("doc")&&(r+=n.upHtml),-1!=i.indexOf("all")?-1!=i.indexOf("label")?r+="<"+n.label+">":r+=n.html:e<a&&a<l&&(-1!=i.indexOf("doc")&&"!--"!=n.label?-1!=i.indexOf("label")?r+="<"+n.label+">":r+=n.html:""==i&&(r+=n.html)))}else""!=s&&-1!=i.indexOf("all")&&(-1!=i.indexOf("label")?r+="<"+n.label+">":r=this.htmlArr[s].html);return r}},this.setHtml=function(t,e,l,i,r){"object"==typeof t?s=","+t.x+"|"+t.y:(s=this.sDoc,null==this.sDoc&&(s=this.getDocument(t,e,l)));for(var s,a=s.split(","),n=1;n<=a.length-1;n++)if(-1!=(s=a[n]).indexOf("|"))for(var h=s.split("|"),e=parseInt(h[0]),l=parseInt(h[1]),o=e;o<=l;o++){var u=this.htmlArr[o];u&&(o==e?"all"==r&&(u.html=""):o<l?delete this.htmlArr[o]:o==l&&(u.upHtml=i,"all"==r&&(u.html="")))}return this},this.attr=function(t,e,l,i,r){if(""==(i=(i=null==i?"":i).trim()))return"";if("object"==typeof t)return null==r?this.handleLabelParam(t,i):this.handleLabelParam(t,i,r);var s=this.sDoc,a=(s=null==this.sDoc?this.getDocument(t,e,l):s).split(",");if(null==r){if(null==(s=a[1]))return;var n=s.split("|"),h=this.htmlArr[n[0]];return s=this.handleLabelParam(h,i)}for(var o=1;o<=a.length-1;o++)h=-1!=(s=a[o]).indexOf("|")?(n=s.split("|"),this.htmlArr[n[0]]):this.htmlArr[s],this.handleLabelParam(h,i,r)},this.val=function(t,e,l,i){"object"==typeof t?u=","+t.x+"|"+t.y:(u=this.sDoc,null==this.sDoc&&(u=this.getDocument(t,e,l)));var r=u.split(",");if(null==i){if(null==(u=r[1]))return"";var s=u.split("|");if("textarea"==(f=this.htmlArr[s[0]]).label)return this.getHtml(f);if("select"!=f.label)return this.handleLabelParam(f,"value");l=this.getDocument("option",f.x,f.y);if(""==l)return;for(var a,n=l.split(","),h=1;h<=n.length-1;h++){var o=n[h];-1!=o.indexOf("|")&&(o=o.split("|"),o=this.htmlArr[o[0]],null==this.handleLabelParam(o,"selected")&&null!=a||(a=this.handleLabelParam(o,"value")))}return a}for(var u,f,h=1;h<=r.length-1;h++)-1!=(u=r[h]).indexOf("|")?(s=u.split("|"),"textarea"==(f=this.htmlArr[s[0]]).label?(f.x=s[0],f.y=s[1],this.setHtml(f,void 0,void 0,i)):"select"==f.label||this.handleLabelParam(f,"value",i)):(f=this.htmlArr[u],this.handleLabelParam(f,"value",i));return""},this.each=function(t,e,l,i){var r=[];t=t.trim();for(var s,a,n=this.sDoc,h=(n=null==this.sDoc?this.getDocument(t,e,l):n).split(","),o=1;o<=h.length-1;o++)-1!=(n=h[o]).indexOf("|")?(s=n.split("|"),(a=this.htmlArr[s[0]]).x=parseInt(s[0]),a.y=parseInt(s[1])):((a=this.htmlArr[n]).x=parseInt(n),a.y=parseInt(n)),r.push(a);if(Array.isArray(r))for(var o=0,u=r.length;o<u&&0!=i.call(null,o,r[o]);o++);},this.remove=function(t,e,l){if("object"==typeof t?s=","+t.x+"|"+t.y:(s=this.sDoc,null==this.sDoc&&(s=this.getDocument(t,e,l))),""==s)return!1;for(var i=s.split(","),r=1;r<=i.length-1;r++){var s=i[r];if(-1!=s.indexOf("|"))for(var a,n=s.split("|"),e=parseInt(n[0]),l=parseInt(n[1]),h=e;h<=l;h++)(a=this.htmlArr[h])&&(h==e?(a.html="",a.label=""):delete this.htmlArr[h]);else(a=this.htmlArr[s])&&(a.html="",a.label="")}return!0},this.addClass=function(t,e,l,i){if(null==i)return!1;if(""==(i=i.trim()))return!1;var r=i.split(" ");"object"==typeof t?n=","+t.x+"|"+t.y:(n=this.sDoc,null==this.sDoc&&(n=this.getDocument(t,e,l)));for(var s=n.split(","),a=1;a<=s.length-1;a++){for(var n,h=(n=s[a]).split("|"),h=this.htmlArr[h[0]],o=null!=(o=this.attr(h,e,l,"class"))?o.trim():"",u=0;u<=r.length-1;u++)""!=r[u]&&(""!=o&&(o+=" "),o+=r[u]);this.attr(h,e,l,"class",o)}},this.removeClass=function(t,e,l,i){if(null==i)return!1;if(""==(i=i.trim()))return!1;var r=i.split(" ");"object"==typeof t?n=","+t.x+"|"+t.y:(n=this.sDoc,null==this.sDoc&&(n=this.getDocument(t,e,l)));for(var s=n.split(","),a=1;a<=s.length-1;a++){var n,h=(n=s[a]).split("|"),h=this.htmlArr[h[0]];if(null!=(o=this.attr(h,e,l,"class"))){for(var o=" "+(o=o.trim())+" ",u=0;u<=r.length-1;u++)""!=r[u]&&(o=o.replace(" "+r[u]+" "," "));this.attr(h,e,l,"class",o.trim())}}},this.printHtml=function(t){for(var e="",l=-1,i=-1,r=0,s=0;s<=this.htmlArr.length-1;s++){var a,n,h=this.htmlArr[s];h&&("format"==t?(a=h.upHtml.trim(),n=h.html.trim(),i=h.lv,"html"==h.label?r=-1:"head"!=h.label&&"body"!=h.label||(a+="\n"),""!=n&&0==("/"==h.label.substr(0,1)&&h.lv==l)&&(n="\n"+this.common.copyStr("    ",h.lv-1+r)+n,h.lv!=l&&""!=a&&"\n"!=a&&(i=h.lv,"/"!=h.label.substr(0,1)&&i--,a="\n"+this.common.copyStr("    ",i+r)+a)),e+=a+n):e+="zip"==t?h.upHtml.trim()+h.html.trim():h.upHtml+h.html,2==h.tagpair&&(l=h.lv))}return e="format"==t?e.trim():e},this.debug=function(t){console.log(this.htmlArr)}});globalXYG=i,console.log("%c xiyueta%cJS框架 v"+i.config.version+" 官网 www.xiyueta.com ","font-size:22px;color:#00bbee","color:#000");function r(t,e,l){return new r.fn.init(t,e,l)}r.fn=r.prototype={length:1,selector:"",x:null,y:null},r.extend=r.fn.extend=function(){var t,e,l,i=arguments[0]||{},r=1,s=arguments.length;for(r===s&&(i=this,r--);r<s;r++)if(null!=(t=arguments[r]))for(e in t)l=t[e],"__proto__"!==e&&i!==l&&void 0!==l&&(i[e]=l);return i},(r.fn.init=function(t="",e,l){this.length=1,this.selector=t,this.x=e,this.y=l,"string"==typeof t&&t.length<50&&(l=(e=i.getDocument(t,e,l)).split(","),this.length=l.length-1,this.sDoc=e),i.sDoc=this.sDoc}).prototype=r.fn,(window.xiyueta=window.$=r).fn.extend({parse:function(){return i.htmlParse(this.selector),this.selector="",this},find:function(t){var e,l;return"string"==typeof this.selector?(this.selector+=" "+t,l=(e=i.getDocument(this.selector,this.x,this.y)).split(","),this.length=l.length-1,this.sDoc=e,i.sDoc=this.sDoc):(this.x=this.selector.x+1,this.y=this.selector.y-1,this.selector=t),this},text:function(t){return null!=t?(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.setHtml(this.selector,this.x,this.y,t),this):i.getText(this.selector,this.x,this.y)},html:function(t,e){return null!=t?(i.setHtml(this.selector,this.x,this.y,t,e),this):i.getHtml(this.selector,this.x,this.y,e)},attr:function(t,e){return null==e?i.attr(this.selector,this.x,this.y,t):(i.attr(this.selector,this.x,this.y,t,e),this)},val:function(t){return null==t?i.val(this.selector,this.x,this.y):(i.val(this.selector,this.x,this.y,t),this)},remove:function(){return i.remove(this.selector,this.x,this.y),this},each:function(t){return i.each(this.selector,this.x,this.y,t)},print:function(t){return i.printHtml(t)},debug:function(t){return i.debug(t),this}})}(),xiyueta.fn.extend({eq:function(t){var e=this.sDoc.split(",");0<=t?t++:t=e.length+t;t=e[t];return globalXYG.sDoc=this.sDoc=t=""!=t?","+t:t,this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},addClass:function(t){return globalXYG.addClass(this.selector,this.x,this.y,t),this},removeClass:function(t){return globalXYG.removeClass(this.selector,this.x,this.y,t),this},htmlWrap:function(t){return null!=t?(globalXYG.setHtml(this.selector,this.x,this.y,t,"all"),this):globalXYG.getHtml(this.selector,this.x,this.y,"all")},doc:function(t){return globalXYG.getHtml(this.selector,this.x,this.y,"doc|"+t)},docWrap:function(){return globalXYG.getHtml(this.selector,this.x,this.y,"doc|all")},docLabel:function(t){return globalXYG.getHtml(this.selector,this.x,this.y,"doc|label|"+t)},docLabelWrap:function(){return globalXYG.getHtml(this.selector,this.x,this.y,"doc|all|label")}}),_XIYUETA.prototype.swap=function(t,e){if(null==t||null==e)return!1;t=this.getDocument(t),e=this.getDocument(e);if(""==t||""==e)return!1;if(t=t.replace(/,/,""),e=e.replace(/,/,""),-1==t.indexOf("|"))var l=this.htmlArr[t];else{for(var i=t.split("|"),l=this.htmlArr[i[0]],r="",s=parseInt(i[0])+1;s<=i[1];s++)null!=(n=this.htmlArr[s])&&(r+=n.upHtml+n.html,delete this.htmlArr[s]);l.html+=r}if(-1==e.indexOf("|"))var a=this.htmlArr[e];else{for(var n,i=e.split("|"),a=this.htmlArr[i[0]],r="",s=parseInt(i[0])+1;s<=i[1];s++)null!=(n=this.htmlArr[s])&&(r+=n.upHtml+n.html,delete this.htmlArr[s]);a.html+=r}e=l.html;return l.html=a.html,a.html=e,!0},_XIYUETA.prototype.getItem=function(t,e,l,i){null==i&&(i="");for(var r=[],s=(f=this.getDocument(t,e,l)).split(","),a=1;a<=s.length-1;a++)if(-1!=(f=s[a]).indexOf("|")){var n=f.split("|"),h=this.htmlArr[n[0]];if(""!=i)void 0!==(f=this.handleLabelParam(h,i))&&r.push(f);else{for(var o=h.html,u=parseInt(n[0])+1;u<=n[1];u++)null!=(h=this.htmlArr[u])&&(o+=h.upHtml+h.html);""!=o&&r.push(o)}}else{var f,h=this.htmlArr[f];""!=i?void 0!==(f=this.handleLabelParam(h,i))&&r.push(f):r.push(h.html)}return r},_XIYUETA.prototype.setConfig=function(t){if(null==t)return this.config;null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir)},_XIYUETA.prototype.charset=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var l=this.htmlArr[e];if(null!=l)if("meta"==l.label)if(-1!=l.html.toLowerCase().indexOf("charset=")){var i=this.handleLabelParam(l,"charset");if(null!=(i=null!=i?i.toLowerCase().trim():i))return null!=t&&this.handleLabelParam(l,"charset",t),i;if(-1!=(i=null!=(i=this.handleLabelParam(l,"content"))?i.toLowerCase().trim():i).indexOf("utf-8"))return null!=t?(this.handleLabelParam(l,"content","text/html; charset="+t),""):"utf-8";if(-1!=i.indexOf("gb2312"))return null!=t?(this.handleLabelParam(l,"content","text/html; charset="+t),""):"gb2312"}}},_XIYUETA.prototype.getHandleSrc=function(t,e,l,i){for(var r="",s=!0,a=0;a<=this.htmlArr.length-1;a++){var n,h,o,u=this.htmlArr[a];null!=u&&-1!=("|"+t+"|").indexOf("|"+u.label+"|")&&(null==(n=this.handleLabelParam(u,e))&&(n=""),"link"==u.label&&("dns-prefetch"!=(h=(h=null==(h=this.handleLabelParam(u,"rel"))?"":h).trim().toLowerCase())&&"alternate"!=h||(n="")),-1!=("|"+l+"|").indexOf("clean")?(s=!0,""!=n&&-1==n.indexOf("apps.bdimg.com/")&&(o=n=this.common.fullHttpUrl(i,n),-1!=("|"+l+"|").indexOf("web")&&""!=(n=this.common.getUrlFileName(n,u.label))&&("img"==u.label?n=this.config.imagesdir+n:"script"==u.label?n=this.config.jsdir+n:"link"==u.label?-1!=(h=(h=null==(h=this.handleLabelParam(u,"rel"))?"":h).trim().toLowerCase()).indexOf("shortcut icon")?n=this.config.imagesdir+n:-1!=h.indexOf("stylesheet")?n=this.config.cssdir+n:(n="",s=!1):(s=!1,n="")),s&&""!=n&&(-1!=("|"+l+"|").indexOf("down")?(""!=r&&(r+="[,]"),r+=o+"[|]"+n):(""!=r&&(r+="[,]"),r+=n)),this.handleLabelParam(u,e,n))):""!=n&&(""!=r&&(r+="[,]"),r+=n))}return r},_XIYUETA.prototype.replace=function(t,e,l,i){for(var r,s=this.getDocument(t),a=s.split(","),n=1;n<=a.length-1;n++)r=-1!=(s=a[n]).indexOf("|")?(r=s.split("|"),this.htmlArr[r[0]]):this.htmlArr[s],""!=e&&(s=this.handleLabelParam(r,e))==l&&this.handleLabelParam(r,e,i)},xiyueta.fn.extend({swap:function(t){return globalXYG.swap(this.selector,t),this},item:function(t){return globalXYG.getItem(this.selector,this.x,this.y,t)},config:function(t){t=globalXYG.setConfig(t);return null==t?this:t},charset:function(t){return null==t?globalXYG.charset():(globalXYG.charset(t),this)},fullurl:function(t){return globalXYG.common.fullHttpUrl(this.selector,t)},getUrlFileName:function(t){return globalXYG.common.getUrlFileName(this.selector,t)},handle:function(t,e,l){return globalXYG.getHandleSrc(this.selector,t,e,l)},replace:function(t,e,l){return globalXYG.replace(this.selector,t,e,l)},clear:function(){return this}}),_XIYUETA.prototype.scan=function(t=""){t="|"+t+"|";var e,l,i=0,r=[],s=!1,a="",n="",h="",o=0,u=[];a+="网页编码："+this.charset()+"\n",a+="网页大小："+this.common.getFileSize(this.common.bystesLength(this.htmlSource))+"\n";for(let t=0;t<=this.htmlArr.length-1;t++)(b=this.htmlArr[t])&&(2==b.tagpair&&("/"==b.label.substr(0,1)?(l=(e=b.label.substr(1)).length,e==n.substr(-1*l,l)?n=n.substr(0,n.length-l-1):(o++,b.upHtml+="\x3c!--xiyueta_tip：标签块超出"+b.html+"--\x3e",b.html="")):n+="|"+b.label),"/"!=b.label.substr(0,1)&&""!=b.label&&(-1==("|"+h+"|").indexOf("|"+b.label+"|")?(""!=h&&(h+="|"),h+=b.label,u[b.label]=1):u[b.label]++));if(""!=n){for(var f=n.split("|"),p="",c=1;c<=f.length-1;c++)p+="\x3c!--xiyueta_tip：缺少标签</"+f[c]+">--\x3e";(b=this.htmlArr[this.htmlArr.length-1])&&(b.html+=p),o+=f.length-1}var f=h.split("|"),m="";for(let t=0;t<=f.length-1;t++){var g=f[t];m+=g+"="+u[g]+","}a+="网页标签错误 "+o+"\n",a+="网页标签类型 "+f.length+"种 "+m+"\n",this.config.downcss=0;for(var b,d,y=xiyueta("link[rel|NOUL=stylesheet]").item("href"),x=xiyueta("script").item("src"),c=0;c<=this.htmlArr.length-1;c++)null!=(b=this.htmlArr[c])&&("body"==b.label?(i=b.lv,s=!0):0==s&&-1!="|div|span|table|ul|".indexOf("|"+b.label+"|")?(r.push(b.html),s=!0):s&&b.lv-i==1&&2==b.tagpair&&"/"!=b.label.substr(0,1)&&"!--"!=b.label&&"script"!=b.label.substr(0,6)&&r.push(b.html),"link"==b.label&&"stylesheet"==b.rel&&(d=this.common.fullHttpUrl(this.config.httpurl,b.href),-1!=t.indexOf("|downcss|")&&null==b.content&&(this.getUrlStr(b,d),this.config.downcss++,alert("下载CSS"+d))));if(a+="共有CSS文件 "+y.length+" 条\n",a+="共有JS文件 "+x.length+" 条\n",a+="一层标签共 "+r.length+" 条\n",a+="\n",""!=y){a+="CSS列表：\n";for(let t=0;t<=y.length-1;t++)a+=this.common.fullHttpUrl(this.config.httpurl,y[t])+"\n"}if(""!=x){a+="\n\nJS列表：\n";for(let t=0;t<=x.length-1;t++)a+=this.common.fullHttpUrl(this.config.httpurl,x[t])+"\n"}if(""!=r){a+="\n\n一层标签列表：\n";for(let t=0;t<=r.length-1;t++)a+=r[t]+"\n"}return a},xiyueta.fn.extend({scan:function(t){return globalXYG.scan(t)}}),_XIYUETA.prototype.cutLabel=function(t,e){for(var l="",i=0;i<=this.htmlArr.length-1;i++)null!=(u=this.htmlArr[i])&&("/style"==u.label?l+=u.upHtml:"link"==u.label&&"stylesheet"==u.rel&&(l+=u.content));var r="*,body,",s=-1;if(""!=(c=this.getDocument(t))){var a=c=c.replace(/,/,""),n=c;-1!=c.indexOf("|")&&(a=(o=c.split("|"))[0],n=o[1]);for(var h,i=a;i<=parseInt(n)-1;i++)null!=(u=this.htmlArr[i])&&"/"!=u.label.substr(0,1)&&(-1==s&&(u.label,s=u.lv),s+1==u.lv&&u.label,s+2==u.lv&&u.label,s+3==u.lv&&u.label,r+=u.label+",",null!=(h=this.handleLabelParam(u,"id"))&&(r+="#"+h.toLowerCase()+","),null!=(h=this.handleLabelParam(u,"class"))&&(r+="."+h.toLowerCase().replace(/ /g,",.")+","));var o=r.split(","),r="";for(let t=0;t<=o.length-1;t++)-1==(","+r+",").indexOf(","+o[t]+",")&&(""!=r&&(r+=","),r+=o[t]);var u,f="",p=new _XIYUETACSS;p.cssParse(l);for(let t=0;t<=p.cssArr.length-1;t++)if(null!=(u=p.cssArr[t])){var c=","+u.label+",";u.label;for(let t=0;t<=o.length-1;t++)-1==c.indexOf(","+o[t]+",")&&-1==c.indexOf(","+o[t]+" ")||-1==("\n"+f+"\n").indexOf("\n"+u.html+"\n")&&(f+=u.html+"\n")}xiyuetaCSS(f).parse(),""!=(f=xiyuetaCSS().print("zip"))&&(f="<style>"+f+"\n</style>\n");a=xiyueta(t).html(null,"all");this.htmlParse(a);a=f+this.printHtml("format")}return a},_XIYUETA.prototype.getUrlStr=function(e,l){var i=this;$.ajax({url:this.config.serverurl+"?act=getUrlStr&n="+Math.random(),type:"POST",data:{httpurl:l},error:function(t,e,l){},success:function(t){xiyuetaCSS(t).parse(),xiyuetaCSS().allcss("|url","server="+l),e.content=xiyuetaCSS().print(),i.config.downcss--,0==i.config.downcss?alert("下载全部CSS完成，可以点击下一步 了"):alert("下载CSS完成,还乘"+i.config.downcss)}})},xiyueta.fn.extend({cutlabel:function(t){return globalXYG.cutLabel(this.selector,t)}}),XiyuetaCommon.prototype.copyStr=function(e,l){var i="";for(let t=1;t<=l;t++)i+=e;return i},XiyuetaCommon.prototype.bystesLength=function(t){for(var e=0,l=0;l<t.length;l++)255<t.charCodeAt(l)?e+=2:e++;return e},XiyuetaCommon.prototype.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",l=t.indexOf("://");for(-1!=l&&(e=t.substr(0,l+3),t=t.substr(l+3));-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var i=[],r=0,s=t.split("/"),a=0;a<=s.length-1;a++)".."==(n=s[a])?(0==r?r=a-1:--r,0<=r&&delete i[r]):(i.push(n),r=0);for(t="",a=0;a<=i.length-1;a++){var n=i[a];null!=i[a]&&(""!=t&&(t+="/"),t+=i[a])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){if(null==e)return"";if(""==(e=e.replace(/\\/g,"/"))||"./"==e)return"";var l="",i="",r="",s=t.indexOf("://");return-1!=s&&(l=t.substr(0,s+3),s=(t=t.substr(s+3)).lastIndexOf("/"),r=l+t.substr(0,s+1),s=t.indexOf("/"),i=l+t.substr(0,s+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?i+e:r+e),this.handleFileUrl(e)},XiyuetaCommon.prototype.getUrlFileName=function(t,e=""){if(""==t||null==t)return"";var l=(t=t.replace(/\\/g,"/").trim()).split("/"),i=l[l.length-1],r="",t="";return-1!=(i=-1!=i.indexOf("?")?i.substr(0,i.indexOf("?")):i).indexOf(".")&&(l=i.lastIndexOf("."),r=i.substr(0,l),t=i.substr(l+1).toLowerCase()),"image"==e?""==t?i+=".jpg":-1=="|bmp|jpg|jpeg|gif|png|".indexOf("|"+t+"|")&&(i=r+".jpg"):"css"==e?""==t?i+=".css":-1=="|css|".indexOf("|"+t+"|")&&(i=r+".css"):"js"==e?""==t?i+=".js":-1=="|js|".indexOf("|"+t+"|")&&(i=r+".js"):i=r+"."+t,i},XiyuetaCommon.prototype.setFileName=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"撇")).replace(/\//g,"揦")).replace(/:/g,"：")).replace(/\*/g,"星")).replace(/\?/g,"？")).replace(/"/g,"“")).replace(/</g,"左")).replace(/>/g,"右")).replace(/\|/g,"横")).replace(/\./g,"。")).replace(/,/g,"，")).replace(/&nbsp;/g," ")).replace(/&quot;/g,"双")).replace(/\n/g,"")},_XIYUETA.prototype.setTplConfig=function(t){if(null==t)return this.tplConfig;"object"==typeof t&&(null!=t.type&&(this.tplConfig.type=t.type),null!=t.item&&(this.tplConfig.item=t.item),"dedecms"==this.tplConfig.type?(this.tplConfig.webTitle="{dede:global.cfg_webname/}",this.tplConfig.webKeywords="{dede:global.cfg_keywords/}",this.tplConfig.webDescription="{dede:global.cfg_description/}",this.tplConfig.navFor="{dede:channel type='top' row='10'}\n",this.tplConfig.navTitle="[field:typename/]",this.tplConfig.navUrl="[field:typeurl/]",this.tplConfig.navEnd="{/dede:channel}",this.tplConfig.itemFor="自动",this.tplConfig.itemTitle="[field:title/]",this.tplConfig.itemUrl="[field:arcurl/]",this.tplConfig.itemImage="[field:image/]",this.tplConfig.itemAbout="[field:title/]",this.tplConfig.itemBody="[field:title/]",this.tplConfig.itemTime="[field:pubdate function=\"MyDate('Y-m-d H:i',@me)\"/]",this.tplConfig.itemTime1="[field:pubdate function=\"MyDate('Y-m-d',@me)\"/]",this.tplConfig.itemEnd="{/dede:arclist}"):(this.tplConfig.webTitle="<%=webTitle%>",this.tplConfig.webKeywords="<%=webKeywords%>",this.tplConfig.webDescription="<%=webDescription%>",this.tplConfig.navFor='<%rs.open "select * from " & db_PREFIX & "WebColumn where parentId=-1 and isThrough=1 order by sortRank asc" ,conn,1,1\nwhile not rs.eof\n%>\n',this.tplConfig.navTitle='<%=rs("columnName")%>',this.tplConfig.navUrl='<%=getNavUrl(rs("id"),rs("columnType"))%>',this.tplConfig.navEnd="<%rs.movenext:wend:rs.close%>",this.tplConfig.itemFor="自动",this.tplConfig.itemTitle='<%=rs("title")%>',this.tplConfig.itemUrl='detail.asp?id=<%=rs("id")%>',this.tplConfig.itemImage='<%=rs("smallimage")%>',this.tplConfig.itemAbout='<%=rs("aboutContent")%>',this.tplConfig.itemBody='<%=cutStr(rs("bodyContent"),260,"...")%>',this.tplConfig.itemTime='<%=rs("addDateTime")%>',this.tplConfig.itemTime1='<%=format_Time(rs("addDateTime"),2)%>',this.tplConfig.itemEnd="<%rs.movenext:next:rs.close%>"))},_XIYUETA.prototype.webtpl=function(e="",t){this.setTplConfig(t),xiyueta("title").html(this.tplConfig.webTitle),xiyueta("meta[name|NOUL=keywords]").attr("content",this.tplConfig.webKeywords),xiyueta("meta[name|NOUL=description]").attr("content",this.tplConfig.webDescription);for(var l=!1,i=[],r=-1,s=0;s<=this.htmlArr.length-1;s++)null!=(c=this.htmlArr[s])&&("body"==c.label?(r=c.lv,l=!0):0==l&&-1!="|div|span|table|ul|table|".indexOf("|"+c.label+"|")?(c.x=s,i.push(c),l=!0,r=0):l&&c.lv-r==1&&2==c.tagpair&&"/"!=c.label.substr(0,1)&&"!--"!=c.label&&"script"!=c.label.substr(0,6)&&(c.x=s,i.push(c)));console.log("oneLevelArr一层",i),this.tplArr=[];var a=i.length-1;for(let t=0;t<=a;t++){var n=i[t];null!=n&&(e=null!=n.id?n.label+"[id="+n.id+"]":null!=n.class?n.label+"[class='"+n.class+"']":n.label,h=n.x,o=this.getHtmlArrY(n,n.x),xiyueta(e,h,o).item().length,this.getSubList(h,o))}console.log("this.tplArr处理",this.tplArr);for(s=0;s<=this.tplArr.length-1;s++){var h=(c=this.tplArr[s]).x,o=c.y,u=c.label,f=u.lastIndexOf(" "),p=u.substr(0,f).trim(),f=u.substr(f+1).trim();-1!=xiyueta(p,h,o).text().indexOf("首页")?(console.log("导航 x:"+h+",y:"+o+" "+f+" "+c.count),xiyueta(p,h,o).nav(f)):(console.log("新闻 x:"+h+",y:"+o+" "+f+" "+c.count),xiyueta(p,h,o).news(f))}if("xiyuetacms"==this.tplConfig.type&&-1!=this.htmlSource.indexOf("版权所有")){alert("有版权所有");for(s=0;s<=this.htmlArr.length-1;s++){var c=this.htmlArr[s];if(void 0!==c&&-1!=c.upHtml.indexOf("版权所有"))for(var m=s-1;0<m;m--){var g=this.htmlArr[m];null!=g&&2==g.tagpair&&"/"!=g.label.substr(0,1)&&(xiyueta(g.label,m,s).html("<%=copyright%>"),m=0)}}}},_XIYUETA.prototype.getHtmlArrY=function(t,e){for(var l=e+1;l<=this.htmlArr.length-1;l++)if(this.htmlArr[l].lv==t.lv)return l;return null},_XIYUETA.prototype.getSubList=function(e,l,i){var r="";for(let t=e+1;t<=l;t++){var s,a,n=this.htmlArr[t];null!=n&&(i=null==i?n.lv:i)==n.lv&&"/"!=n.label.substr(0,1)&&(s=this.getHtmlArrY(n,t),-1==("|"+r+"|").indexOf("|"+n.label+"|")&&"<"!==n.label.substr(0,1)&&"{"!==n.label.substr(0,1)&&(r+=n.label+"|",(a=this.getLabelCount(e,l,n.label,n.lv))>=this.tplConfig.item&&this.tplArr.push({label:n.label,x:t,y:l,count:a})),2==n.tagpair&&this.getSubList(t,s))}return""},_XIYUETA.prototype.getLabelCount=function(e,l,i,r){var s,a=0;for(let t=e+1;t<=l;t++){var n,h=this.htmlArr[t];null!=h&&(r=null==r?h.lv:r)==h.lv&&i==h.label&&(n=this.getHtmlArrY(h,t),n=xiyueta(h.label,t,n).doc("lable"),null==s?(s=n,a++):s==n&&a++)}return a},_XIYUETA.prototype.nav=function(e="",l,i,r){""!=e&&(e+=" "),aConfig="a"==r&&""!=e?e.trim():e+r.trim(),null==this.tplConfig.webTitle&&xiyueta().tplconfig({}),"a"==r?(xiyueta(aConfig,l,i).attr("href","#"),xiyueta(aConfig,l,i).attr("title",""),xiyueta(aConfig,l,i).attr("alt",""),xiyueta(aConfig,l,i).html("")):(xiyueta(aConfig+" a",l,i).attr("href","#"),xiyueta(aConfig+" a",l,i).attr("title",""),xiyueta(aConfig+" a",l,i).attr("alt",""),xiyueta(aConfig+" a",l,i).html(""));var s=-1,a=-1,n="",h="",o=-1,u=-1,f=0;xiyueta(aConfig,l,i).each(function(t,e){""==n?(n=e.html+e.innerHTML,o=1,s=t):n==e.html+e.innerHTML?o++:""!=h&&h==e.html+e.innerHTML?u++:(h=e.html+e.innerHTML,u=1,a=t),f++});var t,p,c,m=xiyueta(aConfig+":eq("+s+")",l,i).doc("lable");"a"==r&&""==m?(xiyueta(aConfig+":eq("+s+")",l,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+s+")",l,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+s+")",l,i).html(this.tplConfig.navTitle)):"<a></a>"==m&&(xiyueta(aConfig+":eq("+s+") a",l,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+s+") a",l,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+s+") a",l,i).html(this.tplConfig.navTitle)),-1!=a&&("a"==r&&""==m?(xiyueta(aConfig+":eq("+a+")",l,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+a+")",l,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+a+")",l,i).html(this.tplConfig.navTitle)):"<a></a>"==m&&(xiyueta(aConfig+":eq("+a+") a",l,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+a+") a",l,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+a+") a",l,i).html(this.tplConfig.navTitle)),h=xiyueta(aConfig+":eq("+a+")",l,i).html(null,"all"),"xiyuetacms"==this.tplConfig.type&&(t=xiyueta(aConfig+":eq("+s+")",l,i).html())==(p=xiyueta(aConfig+":eq("+a+")",l,i).html())&&(t=xiyueta(aConfig+":eq("+s+")",l,i).attr("class"))!=(p=xiyueta(aConfig+":eq("+a+")",l,i).attr("class"))&&(c=t,m=p,u<o&&(c=p,m=t),xiyueta(aConfig+":eq("+s+")",l,i).attr("class",'<%=IIF(isFocusNav(rs),"'+c+'","'+m+'")%>')));n=xiyueta(aConfig+":eq("+s+")",l,i).html(null,"all");o<u&&(g=n,n=h,h=g);for(let t=0;t<=f;t++)xiyueta(e+r+":eq(1)",l,i).remove();var g=this.tplConfig.navFor;-1==u?g+=n:"dedecms"==this.tplConfig.type?(""!=h&&(h=h.replace(/"/g,"'").replace(/\[field:/g,"~").replace(/\/]/g,"~"),g=g.replace("}",' currentstyle="'+h+'"}')),g+=n+"\n"):-1!=n.indexOf("isFocusNav(rs)")?g+=n:-1!=h.indexOf("isFocusNav(rs)")?g+=h:g+="<%if isFocusNav(rs) then%>\n"+h+"\n<%else%>\n"+n+"\n<%end if%>\n",g+=this.tplConfig.navEnd,xiyueta(e+r+":eq(0)",l,i).html(g,"all")},_XIYUETA.prototype.news=function(e="",l,i,r){""!=e&&(e+=" "),aConfig="a"==r&&""!=e?e.trim():e+r.trim();var t=xiyueta(aConfig+":eq(0)",l,i).doc("lable");if(null==this.tplConfig.webTitle&&xiyueta().tplconfig({}),"<a></a>"==t)xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) a",l,i).html(this.tplConfig.itemTitle);else if("<a><img><h1></h1></a>"==t)xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",l,i).attr("src",this.tplConfig.itemImage),xiyueta(aConfig+":eq(0) h1",l,i).html(this.tplConfig.itemTitle);else if("<a><label><img></label><h1></h1><p></p><span></span></a>"==t)xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",l,i).attr("src",this.tplConfig.itemImage),xiyueta(aConfig+":eq(0) h1",l,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) p",l,i).html(this.tplConfig.itemAbout);else if("<a><img><span></span></a>"==t)xiyueta(aConfig+":eq(0) img",l,i).attr("src",this.tplConfig.itemImage),xiyueta(aConfig+":eq(0) span",l,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle);else if("<a></a><span></span>"==t)xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) a",l,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) span",l,i).html(this.handleItemTime(aConfig,l,i,this.tplConfig.itemTitle));else if("<div><a><div><img></div><div><p></p></div></a></div>"==t)xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",l,i).attr("src",this.tplConfig.itemImage),""!=xiyueta(aConfig+":eq(0) img",l,i).attr("alt")&&xiyueta(aConfig+":eq(0) img",l,i).attr("alt",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) p",l,i).html(this.tplConfig.itemTitle);else if("<div><a><i></i><h3></h3><span><span></span></span></a></div>"==t){xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) h3",l,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) span:eq(1)",l,i).html(this.tplConfig.itemBody);var s=xiyueta(void 0,l,i).item("style");for(let t=0;t<=s.length-1;t++){xiyuetaCSS("aa{"+s[t]+"}").parse(),xiyuetaCSS().config({parentdir:""});var a,n=xiyuetaCSS().allcss("|url");xiyuetaCSS().allcss("|url",this.tplConfig.itemImage),""!=n&&(a=xiyuetaCSS().print().trim(),xiyueta().replace("style",s[t],a.substr(3,a.length-4)))}}else"<a><img><p></p></a>"==t?(xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",l,i).attr("src",this.tplConfig.itemImage),""!=xiyueta(aConfig+":eq(0) img",l,i).attr("alt")&&xiyueta(aConfig+":eq(0) img",l,i).attr("alt",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) p",l,i).html(this.tplConfig.itemTitle)):"<a><div><img></div><div><div><div></div></div></div></a>"==t?(xiyueta(aConfig+":eq(0) a",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",l,i).attr("src",this.tplConfig.itemImage),""!=xiyueta(aConfig+":eq(0) img",l,i).attr("alt")&&xiyueta(aConfig+":eq(0) img",l,i).attr("alt",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) div:eq(3)",l,i).html(this.tplConfig.itemTitle)):""==t?(xiyueta(aConfig+":eq(0)",l,i).html(this.tplConfig.itemTitle),"a"==r&&(xiyueta(aConfig+":eq(0)",l,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",l,i).attr("title")&&xiyueta(aConfig+":eq(0) a",l,i).attr("title",this.tplConfig.itemTitle))):console.log("labelType(标签类型项没有处理)="+t);var t=xiyueta(e+r+":eq(0)",l,i).html(null,"all"),h=xiyueta(e+r,l,i).item().length;0==h&&(h=10);for(let t=0;t<=h;t++)xiyueta(e+r+":eq(1)",l,i).remove();n="dedecms"==this.tplConfig.type?"{dede:arclist titlelen='60' row='"+h+"'}":'<%rs.open "select * from " & db_PREFIX & "ArticleDetail where parentId in("& getNameToAllId("产品中心") &") order by sortRank desc" ,conn,1,1\nfor i=1 to '+h+"\nif rs.eof then exit for\n%>\n",n+=t,n+=this.tplConfig.itemEnd,xiyueta(e+r+":eq(0)",l,i).html(n,"all")},_XIYUETA.prototype.handleItemTime=function(t,e,l,i){var r=xiyueta(t+":eq(0) span",e,l).text().trim(),s="",a="",n=!1,h=-1;""!=r&&("["==r.substr(0,1)&&(s="[",r=r.substr(1)),"]"==r.substr(-1,1)&&(a="]",r=r.substr(0,r.length-1)));new RegExp(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/).test(r)&&(n=!0,h=2),n&&(i=this.tplConfig.itemTime,i=s+(i=0<h?this.tplConfig.itemTime1:i)+a),xiyueta(t+":eq(0)  span",e,l).html(i)},xiyueta.fn.extend({tplconfig:function(t){return globalXYG.setTplConfig(t)},nav:function(t){return globalXYG.nav(this.selector,this.x,this.y,t)},news:function(t){return globalXYG.news(this.selector,this.x,this.y,t)},webtpl:function(t){return globalXYG.webtpl(this.selector,t)}});