/*! xiyueta v1.3.3 | Author xiyueta Adream http://xiyueta.com/ | Released under the MIT license  */
var _XIYUETA=function(){"use strict";this.version="1.3.4",this.htmlSource="",this.htmlArr=[],this.lv=0,this.isHtmlErr=!1,this.common=new XiyuetaCommon,this.config={httpurl:"",serverurl:"/api/downWeb/default.asp",jsdir:"js/",cssdir:"css/",imagesdir:"images/"},this.tplConfig={type:"xiyuetacms",minrow:4};for(var e={},t="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),r=0;r<=t.length-1;r++){var i=t[r];e["[object "+i+"]"]=i.toLowerCase()}this.toType=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e[Object.prototype.toString.call(t)]||"object":typeof t},this.parseHTML=function(t){this.htmlSource=t+="";var e="",r="",i="",s="",l=!(this.htmlArr=[]),n=!1,h=!1,o=!1,a=!1,u=!1,f=0,m=-1;this.isHtmlErr=!1;for(var c=0;c<=this.htmlSource.length-1;c++){var d,p,g,x,b,e=this.htmlSource.substr(c,1);l?(i+=e,o?">"==e&&"--\x3e"==i.substr(i.length-3,3)&&(h=l=o=!1,this.htmlArr.push({_index:++m,lv:f+1,label:"!--",upHtml:s,downHtml:"",html:i,tagpair:1}),s=i=""):n&&"\x3c!--"==i?o=!0:a?">"==e&&"%>"==i.substr(i.length-2,2)&&(h=l=a=!1,i=s+i,s=""):n&&"<%"==i?a=!0:u?">"==e&&"?>"==i.substr(i.length-2,2)&&(h=l=u=!1,i=s+i,s=""):n&&"<?"==i?u=!0:-1!=" \n\t".indexOf(e)&&n?n=!1:"<"==e?"%"==(b=this.htmlSource.substr(c+1,1).toLowerCase())?0<(d=this.htmlSource.substr(c+1).indexOf("%>"))&&(i+=this.htmlSource.substr(c+1).substr(0,d+2),c+=d+2):"?"==b?0<(d=this.htmlSource.substr(c+1).indexOf("?>"))&&(i+=this.htmlSource.substr(c+1).substr(0,d+2),c+=d+2):(l=n=!1,i=s,c--):">"==e&&(l=n=!1,p=2,"/"==r.substr(0,1)?h=!0:(f++,"/"!=r.substr(r.length-1,1)&&-1=="|br|hr|img|link|meta|param|input|!doctype|rect|line|col|".indexOf("|"+r.toLowerCase()+"|")||(h=!0,p=1,r=r.replace(/\//g,"").trim())),g=r.toLowerCase(),this.htmlArr.push({_index:++m,lv:f,label:g,upHtml:s,downHtml:"",html:i,tagpair:p}),f<1&&(this.isHtmlErr=!0),s=i="",h&&(f--,h=!1),"script"==g?(x=this.htmlSource.substr(c+1).toLowerCase().indexOf("<\/script>"),i=this.htmlSource.substr(c+1,x),c+=x):"style"==g?(x=this.htmlSource.substr(c+1).toLowerCase().indexOf("</style>"),i=this.htmlSource.substr(c+1,x),c+=x):"textarea"==g?(x=this.htmlSource.substr(c+1).toLowerCase().indexOf("</textarea>"),i=this.htmlSource.substr(c+1,x),c+=x):"pre"==g&&(x=this.htmlSource.substr(c+1).toLowerCase().indexOf("</pre>"),i=this.htmlSource.substr(c+1,x),c+=x)),n&&(r+=e)):"<"==e?(b=this.htmlSource.substr(c+1,1).toLowerCase(),-1!="abcdefghijklmnopqrstuvwxyz!/%?".indexOf(b)?(s=i,i=e,h=!(n=l=!0),r=""):i+=e):i+=e}""!=i&&this.htmlArr.push({_index:++m,lv:f,label:"",upHtml:s,html:i,downHtml:""}),this.lv=f},this.handleLabelParam=function(t,e,r){if(null==r){if(null!=t[e])return t[e]}else r+="";for(var i=!1,s="",l="",n=!1,h="",o=!1,a=!0,u=0,f=0,m=!1,c=t.label.length+1;c<=t.html.length-1;c++){var d=t.html.substr(c,1);if(n)if(o)if(m)">"==d&&(m=!1),l+=d;else if(d==h||">"==d){var p,g,x,b,s=s.toLowerCase();if(t[s]=l,o=n=!1,h="",e==s)return null==r?l:(""==r?(x=t.html.substr(0,f-1).trim(),">"!=(b=t.html.substr(c+1).trim()).substr(0,1)&&(b=" "+b),t.html=x+b,t[s]=void 0):(g=(p=u)+l.length,a&&(p++,g++),x=t.html.substr(0,p),b=t.html.substr(g),t.html=x+r+b,t[s]=r),t);else if(">"==d&&null!=r)return""!=r&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+r+'">'),t[e]=r,t}else"<"==d&&(m=!0),l+=d;else'"'==d||"'"==d?(h=d,u=c,a=o=!0):" "!=d&&(h=" ",u=c,l=d,a=!(o=!0));else{if(">"==d&&0==i)return null==r?void 0:(""!=r&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+r+'">',t[e]=r),t);if(i)if("="==d)n=!(i=!1),h=l="";else if(""!=s&&-1!=" \t\n>".indexOf(d)){if(e==s)return null==r?"":(""==r?(x=t.html.substr(0,f).trim(),">"!=(b=t.html.substr(c).trim()).substr(0,1)&&(b=" "+b),t.html=x+b,t[s]=void 0):(g=f+s.length,x=t.html.substr(0,g),b=t.html.substr(g),t.html=x+'="'+r+'"'+b,t[s]=r),t);i=!1,s=""}else-1==" \t\n".indexOf(d)&&(s+=d);else-1==" \t\n".indexOf(d)&&(i=!0,s=d,f=c)}}},this.getDocument=function(t,e,r,i){if(null==t&&(t=""),null==i&&(i=!1),0==this.htmlArr.length)return console.log("%c 需要先解析一段html文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf(",")){for(var s="",l=t.split(","),n=0;n<=l.length-1;n++)s+=o=this.getDocument(l[n],e,r,i);for(var h="",l=s.split(","),n=0;n<=l.length-1;n++){var o=l[n];-1==(","+h+",").indexOf(","+o+",")&&(""!=h&&(h+=","),h+=o)}return h=""!=h?","+h:h}if(""==(t=t.trim()))return"";null==e&&(e=0),null==r&&(r=this.htmlArr.length-1);var a=-1.1,u=-1.1,f=-1.1,m=-1.1,c=-1.1,d="",p=!1,g="",x="",b="",v="",y="",s="";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var L=!1,s="",n=0;n<=t.length;n++){o=t.substr(n,1);0!=L||"'"!=o&&'"'!=o&&"("!=o?1==L&&(" "==o?o="-Space-":"'"!=o&&'"'!=o&&")"!=o||(L=!1,"'"!=o&&'"'!=o||(o=""))):(L=!0,"'"!=o&&'"'!=o||(o="")),s+=o}t=s}var A,w,O,_,C=t.indexOf(" ");if(-1!=C&&(g=t.substr(C+1).trim(),t=t.substr(0,C)),-1!=(C=t.indexOf(":"))&&(w=O="",A=(o=t.substr(C+1)).indexOf("("),_=o.indexOf(")"),-1!=A&&-1!=_?(O=o.substr(0,A).toLowerCase(),_=(w=o.substr(A+1)).indexOf(")"),("'"==(I=(w=w.substr(0,_).replace(/-Space-/g," ").trim()).trim()).substr(0,1)&&"'"==I.substr(I.length-1,1)||'"'==I.substr(0,1)&&'"'==I.substr(I.length-1,1))&&(w=I.substr(1,I.length-2))):O=o.toLowerCase(),"first"==O?a=0:"last"==O?a=-1:"even"==O?f=1:"odd"==O?f=0:"eq"==O?(a=0,(a=""!=w?parseInt(w):a)+""=="NaN"&&(a=-.1,t="")):"lv"==O?(u=1,(u=""!=w?parseInt(w):u)+""=="NaN"&&(u=-.1,t="")):"gt"==O?""!=w&&(m=parseInt(w)):"lt"==O?""!=w&&(c=parseInt(w)):"header"==O?p=!0:"contains"==O?d=w:console.log(t,"没有动作 "+O),""!=(t=t.substr(0,C))||-.1==a&&-.1==u||(t="*")),-1!=(C=t.indexOf("["))&&(_=(o=t.substr(C+1)).indexOf("]"),-1==(o=o.substr(0,_)).indexOf("=")?(x=o,b="*"):(x=(_=o.split("="))[0],b=_[1].replace(/-Space-/g," "),_=x.substr(x.length-1),-1!="!^$*~|".indexOf(_)&&(x=x.substr(0,x.length-1),v=_)),-1!=x.indexOf("|")&&(x=(H=x.split("|"))[0],"NOUL"==H[1]&&(b=b.toLowerCase(),y=H[1])),""==(t=t.substr(0,C))&&(t="*")),"#"==t.substr(0,1)){if(0<a)return"";a=0}var I,H={type:"",name:"",nFocus:-1.1};if(0<=(C=t.substr(1).lastIndexOf("."))?(t=(I=t).substr(0,C+1),H={type:".",name:I.substr(C+2).toLowerCase()}):0<=(C=t.substr(1).lastIndexOf("#"))&&(t=(I=t).substr(0,C+1),H={type:"#",name:I.substr(C+2).toLowerCase()}),""!=(s=this.serchDocument(t,e,r,x,b,v,y,H))&&-1.1!=a){l=s.split(",");""!=(s=a<0?l[l.length+a]:l[a+1])&&(s=","+s)}else if(""!=s&&-1.1!=u){l=s.split(",");s="";for(n=1;n<=l.length-1;n++){var S=(o=l[n]).split("|");this.htmlArr[S[0]].lv==u&&(s+=","+o)}}else if(""!=s&&-1.1!=f){l=s.split(",");s="";for(n=1;n<=l.length-1;n++)n%2==f&&(s+=","+l[n])}else if(""!=s&&-1.1!=m){l=s.split(",");s="";for(n=m+2;n<=l.length-1;n++)s+=","+l[n]}else if(""!=s&&-1.1!=c){l=s.split(",");s="",c>l.length-1&&(c=l.length-1);for(n=1;n<=c;n++)s+=","+l[n]}else if(""!=s&&""!=d){l=s.split(",");s="";for(n=1;n<=l.length-1;n++)-1!=(o=l[n]).indexOf("|")&&-1!=this.text(","+o).indexOf(d)&&(s+=","+l[n])}else if(p)for(s="",l="h1,h2,h3,h4,h5,h6,,h7,h8,h9".split(","),n=0;n<=l.length-1;n++)s+=o=this.getDocument(t+" "+l[n],e,r,i);if(""!=g&&""!=s){l=s.split(",");s="";for(n=1;n<=l.length-1;n++)-1!=(o=l[n]).indexOf("|")&&(S=o.split("|"),e=parseInt(S[0])+1,r=parseInt(S[1])-1,s+=this.getDocument(g,e,r,!0))}if(0==i){l=s.split(",");s="";for(n=1;n<=l.length-1;n++){o=l[n];-1==(","+s+",").indexOf(","+o+",")&&(s+=","+o)}}return s},this.serchDocument=function(t,e,r,i,s,l,n,h){null==i&&(i=""),null==s&&(s=""),null==l&&(l=""),null==n&&(n="");for(var o=!1,a="",u=0,f=0,m=!1,c=e;c<=r;c++){var d,p,g=this.htmlArr[c];null!=g&&(o&&this.checkEndSelector(g,t)&&u==g.lv?(m&&(a+="|"+c),m=o=!1,a+=this.serchDocument(t,f+1,c,i,s,l,n,h)):this.checkStartSelector(g,t,h)&&0==o&&(2==g.tagpair&&(o=!0,u=g.lv),f=c,d=!0,""!=i&&(p=this.handleLabelParam(g,i),"NOUL"==n&&null!=p&&(p=p.toLowerCase()),"^"==l?null!=p&&p.substr(0,s.length)==s||(d=!1):"|"==l?null!=p&&(p+"-").substr(0,s.length+1)==s+"-"||(d=!1):"$"==l?null!=p&&p.substr(-1*s.length)==s||(d=!1):"~"==l?null!=p&&-1!=(" "+p+" ").indexOf(" "+s+" ")||(d=!1):"*"==l?null!=p&&-1!=p.indexOf(s)||(d=!1):"!"==l?p==s&&(d=!1):null!=p&&"*"==s?d=!0:p!=s&&(d=!1)),d&&(a+=","+c,2==g.tagpair&&(m=!0))))}return a},this.checkStartSelector=function(t,e,r){if(""==t.label)return!1;var i=e+" ",s=t.label.substr(0,1),l=e.substr(0,1);if("/"==s)return!1;{if("*"==l)return"."!=r.type?"#"!=r.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==r.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" ");if("#"==l){var n=e.substr(1,i.indexOf(" ")-1),s=this.handleLabelParam(t,"id");if(s==n)return""==r||("."!=r.type?"#"!=r.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==r.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" "))}else if("."==l){var h,o,n=e.substr(1,i.indexOf(" ")-1).toLowerCase();if(null==(h=" "+this.handleLabelParam(t,"class")+" "))return!1;if(-1!=(h=h.toLowerCase()).indexOf(" "+n+" "))return""==r||("."!=r.type?"#"!=r.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==r.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" "))}else if(t.label+" "==e.substr(0,t.label.length+1).toLowerCase()+" ")return"."!=r.type?"#"!=r.type||null!=(o=this.handleLabelParam(t,"id"))&&o.toLowerCase()==r.name:null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" ")}return!1},this.checkEndSelector=function(t,e){t.label.substr(0,1);var r=e.substr(0,1);return"*"==r||("#"==r||"."==r||t.label=="/"+e.substr(0,t.label.length-1).toLowerCase())},this.callToList=function(t,e){if("function"!=typeof e)return!1;for(var r=[],i=t.split(","),s=1;s<=i.length-1;s++){var l={domList:","+i[s]},n=e.call(l,s-1,l);if("boolean"==typeof n&&0==n)break;l.value=n,r.push(l)}return r},this.find=function(t,e){if(null==t)return"";if(""==(t="object"==typeof t?","+t.x+"|"+t.y:t))return"";if("object"==typeof e){for(var r=e.domList.split(","),i=t.split(","),s="",l=1;l<=r.length-1;l++){var n=-1,h=-1;-1!=r[l].indexOf("|")?(o=r[l].split("|"),n=parseInt(o[0]),h=parseInt(o[1])):n=h=parseInt(m);for(var o,a,u,f=1;f<=i.length-1;f++)-1!=(m=i[f]).indexOf("|")&&(o=m.split("|"),a=parseInt(o[0]),u=parseInt(o[1]),a<=n&&n<=u&&(s+=","+r[l]))}return s}for(s="",i=t.split(","),f=1;f<=i.length-1;f++)-1!=(m=i[f]).indexOf("|")&&(r=m.split("|"),n=parseInt(r[0]),h=parseInt(r[1]),s+=this.getDocument(e,n,h));for(i=s.split(","),s="",f=1;f<=i.length-1;f++){var m=i[f];-1==(","+s+",").indexOf(","+m+",")&&(s+=","+m)}return s},this.add=function(t,e){"object"==typeof(t=null==t?"":t)&&(t=","+t.x+"|"+t.y);var r="";if("number"==typeof e||"function"==typeof e)return t;if(null==e?e="":"object"==typeof e?void 0!==e.domList?r=e.domList:void 0!==t.x&&(r=","+t.x+"|"+t.y):r=this.getDocument(e+=""),""==r)return t;for(var i=(t+r).split(","),s="",l=1;l<=i.length-1;l++){var n=i[l];-1==(","+s+",").indexOf(","+n+",")&&(s+=","+n)}return this.domListAsc(s)},this.domListAsc=function(t){for(var e=t.split(","),t="",r=1;r<=e.length-1;r++){var i,s=e[r];i=-1!=s.indexOf("|")?(o=s.split("|"),parseInt(o[0])):parseInt(e[s]);for(var l=t.split(","),n=!1,h=1;h<=l.length-1;h++){var o,a=l[h];if(i<(-1!=a.indexOf("|")?(o=a.split("|"),parseInt(o[0])):parseInt(l[a]))){t=","+s+t,n=!0;break}}0==n&&(t+=","+s)}return t},this.text=function(t,e){var r=typeof e;if("function"==r){for(var i=this.callToList(t,e),s=0;s<=i.length-1;s++)(o=i[s])&&this.text(o.domList,o.value);return!1}if(null==t)return"";var l="get";if(2<=arguments.length){if(l="set","undefined"==r)return"";null==e?e="":e+="",e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}if(""==(t="object"==typeof t?","+t.x+"|"+t.y:t))return"";for(var n="",i=t.split(","),s=1;s<=i.length-1;s++){var h=i[s];if(-1!=h.indexOf("|"))for(var o,h=h.split("|"),a=parseInt(h[0]),u=parseInt(h[1]),f=a;f<=u;f++)(o=this.htmlArr[f])&&(f==a?"get"==l&&(n+=o.downHtml):f<u?"set"==l?delete this.htmlArr[f]:n+=o.upHtml+o.downHtml:f==u&&("get"==l?n+=o.upHtml:o.upHtml=e))}return"get"==l?n:void 0},this.html=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleHtml(t,e,"",r)},this.htmlwrap=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleHtml(t,e,"all",r)},this.handleHtml=function(t,e,r,i){r+="";var s=this.toType(e);if("function"==s){for(var l=this.callToList(t,e),n=0;n<=l.length-1;n++)(u=l[n])&&this.html(u.domList,u.value,r);return!1}if(null!=t){if("set"==i){if("undefined"==s)return;"object"==s||null==e?e="":e+=""}if(""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){var h="",o=(l=t.split(",")).length-1;"get"==i&&1<o&&(o=1);for(n=1;n<=o;n++){var a=l[n];if(-1!=a.indexOf("|"))for(var u,f=a.split("|"),m=parseInt(f[0]),c=parseInt(f[1]),d=m;d<=c;d++)(u=this.htmlArr[d])&&(d==m?"get"==i?(-1!=r.indexOf("all")&&(h+=u.html),h+=u.downHtml):-1!=r.indexOf("all")&&(u.html=""):d<c?"set"==i?delete this.htmlArr[d]:h+=u.upHtml+u.html+u.downHtml:d==c&&("get"==i?(h+=u.upHtml,-1!=r.indexOf("all")&&(h+=u.html)):(u.upHtml=e,-1!=r.indexOf("all")&&(u.html=""))));else"get"==i&&(u=this.htmlArr[a])&&-1!=r.indexOf("all")&&(h+=u.html)}return"get"==i?h:void 0}}},this.dom=function(t,e,r,i){1!=(r=null==r?-1:r)&&2!=r&&(r=-1),""!=e&&(e="|"+e+"|");for(var s=(i=null==i?"":i).split(" "),l="",n=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),h=1;h<=n.length-1&&!(1<h);h++){var o=n[h];if(-1!=o.indexOf("|"))for(var o=o.split("|"),a=parseInt(o[0]),u=parseInt(o[1]),f=a;f<=u;f++){var m=this.htmlArr[f];if(m){var c="";if(-1!=e.indexOf("label"))for(var d=0;d<=s.length-1;d++){var p,g=s[d];""==g||null!=(p=this.attr(m,g))&&(c+=" "+g+'="'+p+'"')}r!=m.tagpair&&-1!=r||(f==a||f==u?-1!=e.indexOf("all")&&(-1!=e.indexOf("label")?l+="<"+m.label+c+">":l+=m.html):f<u&&(-1!=e.indexOf("label")?l+="<"+m.label+c+">":l+=m.html))}}}return l},this.handleCssParam=function(t,e,r){if(null==r){var i="a{"+(s=null==(s=this.attr(t,"style"))?"":s)+"}";return $xytcss("a").parse(i).css(e)}var s;r=r.toString();var l=s=null==(s=this.attr(t,"style"))?"":s,i="a{"+s+"}",r=($xytcss("a").parse(i).css(e,r),(r=$xytcss().print()).substr(2,r.length-3).trim());l.trim()!=r&&(2<=r.split(";").length&&(r=r.replace(/ /g,"").replace(/:/g,": ").replace(/;/g,"; ").trim()),this.attr(t,"style",r))},this.css=function(t,e,r){if("function"==typeof r){for(var i=this.callToList(t,r),s=0;s<=i.length-1;s++)(h=i[s])&&this.css(h.domList,e,h.value);return!1}if("object"==typeof e){for(var l in e)this.css(t,l,e[l]);return this}if(null!=t&&null!=e&&""!=(e=e.trim())){if("object"==typeof t)return null==r?this.handleCssParam(t,e):this.handleCssParam(t,e,r);if(""!=t){i=t.split(",");if(null==r){if(null==(o=i[1]))return;var n=o.split("|"),h=this.htmlArr[n[0]];return o=this.handleCssParam(h,e)}for(var o,s=1;s<=i.length-1;s++)h=-1!=(o=i[s]).indexOf("|")?(n=o.split("|"),this.htmlArr[n[0]]):this.htmlArr[o],this.handleCssParam(h,e,r)}}},this.attr=function(t,e,r){if("function"==typeof r){for(var i=this.callToList(t,r),s=0;s<=i.length-1;s++)(h=i[s])&&this.attr(h.domList,e,h.value);return!1}if("object"==typeof e){for(var l in e)this.attr(t,l,e[l]);return this}if(null!=t&&null!=e&&("number"==typeof e&&(e+=""),""!=(e=e.trim()))){if("object"==typeof t)return null==r?this.handleLabelParam(t,e):this.handleLabelParam(t,e,r);if(""!=t){i=t.split(",");if(null==r){if(null==(o=i[1]))return;var n=o.split("|"),h=this.htmlArr[n[0]];return o=this.handleLabelParam(h,e)}for(var o,s=1;s<=i.length-1;s++)h=-1!=(o=i[s]).indexOf("|")?(n=o.split("|"),this.htmlArr[n[0]]):this.htmlArr[o],this.handleLabelParam(h,e,r)}}},this.removeAttr=function(t,e){if(null==t||null==e)return!1;if(""==e.trim())return!1;for(var r=e.split(" "),i=0;i<=r.length-1;i++){var s=r[i];""!=s&&_xyt.attr(t,s,"")}return!0},this.val=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++)(m=r[i])&&this.val(m.domList,m.value);return!1}if(null!=(t="object"==typeof t?","+t.x+"|"+t.y:t)&&""!=t){r=t.split(",");if(null==e){if(null==(n=r[1]))return"";var s=n.split("|");if("textarea"==(m=this.htmlArr[s[0]]).label)return m.x=s[0],m.y=s[1],this.html(m);if("select"!=m.label)return this.handleLabelParam(m,"value");if(""==(h=this.getDocument("option",m.x,m.y)))return;for(var l=h.split(","),i=1;i<=l.length-1;i++)-1!=(a=l[i]).indexOf("|")&&(u=a.split("|"),f=this.htmlArr[u[0]],null==this.handleLabelParam(f,"selected")&&null!=o||(o=this.handleLabelParam(f,"value")));return o}for(var n,i=1;i<=r.length-1;i++)if(-1!=(n=r[i]).indexOf("|")){var h,s=n.split("|");if("textarea"==(m=this.htmlArr[s[0]]).label)m.x=s[0],m.y=s[1],this.html(m,e);else if("select"==m.label){if(""!=(h=this.getDocument("option",m.x,m.y)))for(var o,a,u,f,l=h.split(","),i=1;i<=l.length-1;i++)-1!=(a=l[i]).indexOf("|")&&(u=a.split("|"),f=this.htmlArr[u[0]],this.handleLabelParam(f,"value")==e?this.handleLabelParam(f,"selected","selected"):this.handleLabelParam(f,"selected",null))}else this.handleLabelParam(m,"value",e)}else{var m=this.htmlArr[n];this.handleLabelParam(m,"value",e)}return""}},this.each=function(t,e){var r=[];if(null==t)return!1;for(var i=t.split(","),s=1;s<=i.length-1;s++){var l,n,h=i[s];-1!=h.indexOf("|")?(l=h.split("|"),(n=this.htmlArr[l[0]]).x=parseInt(l[0]),n.y=parseInt(l[1])):((n=this.htmlArr[h]).x=parseInt(h),n.y=parseInt(h)),r.push(n)}if("object"==typeof r)for(var s=0,o=r.length;s<o&&0!=e.call(r[s],s,r[s]);s++);},this.remove=function(t,e,r){var i,s,l="",n=!1;if(2==arguments.length?"string"==typeof e?l=e:"boolean"==typeof e&&(n=e):3==arguments.length&&("string"==typeof e&&(l=e),"boolean"==typeof r&&(n=r)),null==(t="object"==typeof t?","+t.x+"|"+t.y:t))return"";if(null==l||-1!=(s=l.indexOf(":"))&&(r=e="",l=(u=l.substr(s+1)).indexOf("("),s=u.indexOf(")"),-1!=l&&-1!=s?(e=u.substr(0,l).toLowerCase(),s=(r=u.substr(l+1)).indexOf(")"),("'"==(s=(r=r.substr(0,s).replace(/-Space-/g," ").trim()).trim()).substr(0,1)&&"'"==s.substr(s.length-1,1)||'"'==s.substr(0,1)&&'"'==s.substr(s.length-1,1))&&(r=s.substr(1,s.length-2))):e=u.toLowerCase(),"contains"==e&&(i=r)),null!=i){for(var h=t.split(","),o="",a=1;a<=h.length-1;a++)-1!=(u=h[a]).indexOf("|")&&-1!=this.text(","+u).indexOf(i)&&(o+=","+h[a]);t=o}for(h=t.split(","),a=1;a<=h.length-1;a++){var u=h[a];if(-1!=u.indexOf("|"))for(var f,m=u.split("|"),c=parseInt(m[0]),d=parseInt(m[1]),p=c;p<=d;p++)(f=this.htmlArr[p])&&(p==c?(f.html="",f.label="",n&&(f.upHtml="")):delete this.htmlArr[p]);else(f=this.htmlArr[u])&&(f.html="",f.label="",n&&(f.upHtml=""))}return t},this.addClass=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++){var s=r[i];s&&this.addClass(s.domList,s.value)}return!1}if("number"==typeof e)return!1;if(null==t||null==e)return!1;if(this.common.isArray(e))var l=e;else{if(""==(e=e.trim()))return!1;"object"==typeof t&&(t=","+t.x+"|"+t.y);l=e.split(" ")}if(""==t)return!1;for(r=t.split(","),i=1;i<=r.length-1;i++){for(var n=r[i],h=(n.split("|"),null!=(h=this.attr(","+n,"class"))?h.trim():""),o=0;o<=l.length-1;o++)""!=l[o]&&(""!=h&&(h+=" "),h+=l[o]);this.attr(","+n,"class",h)}},this.hasClass=function(t,e){if("number"==typeof e)return!1;if(null==t||null==e)return!1;if(""==(e=e.trim()))return!1;if(""==(t="object"==typeof t?","+t.x+"|"+t.y:t))return!1;for(var r=t.split(","),i=1;i<=r.length-1;i++){var s=r[i],s=(s.split("|"),null!=(s=this.attr(","+s,"class"))?s.trim():"");if(""!=s&&-1!=(" "+s+" ").indexOf(" "+e+" "))return!0}return!1},this.removeClass=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++){var s=r[i];s&&this.removeClass(s.domList,s.value)}return!1}if(this.common.isArray(e))var l=e;else{if(null==t||null==e)return!1;if(""==(e=e.trim()))return!1;l=e.split(" ");"object"==typeof t&&(t=","+t.x+"|"+t.y)}if(""==t)return!1;for(r=t.split(","),i=1;i<=r.length-1;i++){var n=r[i];if(null!=(h=this.attr(","+n,"class"))){for(var h=" "+(h=h.trim())+" ",o=0;o<=l.length-1;o++)""!=l[o]&&(h=h.replace(" "+l[o]+" "," "));this.attr(","+n,"class",h.trim())}}},this.wrap=function(t,e,r){for(var i=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),s=1;s<=i.length-1;s++){var l,n=i[s];-1!=n.indexOf("|")?(l=n.split("|"),this.htmlArr[l[0]].upHtml+=e,this.htmlArr[l[1]].downHtml+=r):(this.htmlArr[n].upHtml+=e,this.htmlArr[n].downHtml+=r)}return this},this.unwrap=function(t){for(var e=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),r=1;r<=e.length-1;r++){var i,s=e[r],l=.1,n=0,h=0;-1!=s.indexOf("|")?(i=s.split("|"),l=this.htmlArr[i[0]].lv-1,n=parseInt(i[0]),h=parseInt(i[1])):(l=(a=this.htmlArr[s]).lv-1,n=h=parseInt(s));for(var o=n;0<=o;o--){var a=this.htmlArr[o];if("object"==typeof a&&this.htmlArr[o].lv==l){a.html="";break}}for(o=h;o<=this.htmlArr.length-1;o++){a=this.htmlArr[o];if("object"==typeof a&&this.htmlArr[o].lv==l){a.html="";break}}}return this},this.append=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++){var s=r[i];s&&this.append(s.domList,s.value)}return!1}for(r=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),i=1;i<=r.length-1;i++){var l,n=r[i];-1!=n.indexOf("|")?(l=n.split("|"),this.htmlArr[l[1]].upHtml+=e):this.htmlArr[n].downHtml+=e}return this},this.prepend=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++)(l=r[i])&&this.prepend(l.domList,l.value);return!1}for(r=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),i=1;i<=r.length-1;i++){var s,l,n=r[i];-1!=n.indexOf("|")?(s=n.split("|"),(l=this.htmlArr[s[0]]).downHtml=e+l.downHtml):this.htmlArr[n].downHtml=e+this.htmlArr[n].downHtml}return this},this.after=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++){var s=r[i];s&&this.after(s.domList,s.value)}return!1}for(r=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),i=1;i<=r.length-1;i++){var l,n=r[i];-1!=n.indexOf("|")?(l=n.split("|"),this.htmlArr[l[1]].downHtml=e+this.htmlArr[l[1]].downHtml):this.htmlArr[n].downHtml=e+this.htmlArr[n].downHtml}return this},this.before=function(t,e){if("function"==typeof e){for(var r=this.callToList(t,e),i=0;i<=r.length-1;i++){var s=r[i];s&&this.before(s.domList,s.value)}return!1}for(r=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),i=1;i<=r.length-1;i++){var l,n=r[i];-1!=n.indexOf("|")?(l=n.split("|"),this.htmlArr[l[0]].upHtml+=e):this.htmlArr[n].upHtml+=e}return this},this.next=function(t){for(var e=t.split(","),r=1;r<=e.length-1;r++)for(var i,s,l=e[r],n=-1,h=(s=-1!=l.indexOf("|")?(i=l.split("|"),this.htmlArr[i[0]]):this.htmlArr[l])._index+1;h<=this.htmlArr.length-1;h++){var o=this.htmlArr[h];if(o){if(o.lv<s.lv)break;if(-1!=n){if(s.lv==o.lv&&"/"==o.label.substr(0,1))return","+n+"|"+o._index}else if(s.lv==o.lv&&"/"!=o.label.substr(0,1)){if(1==o.tagpair)return","+o._index;n=o._index}}}return""},this.nextAll=function(t){for(var e="",r=t.split(","),i=1;i<=r.length-1;i++)for(var s,l,n=r[i],h=-1,o=(l=-1!=n.indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n])._index+1;o<=this.htmlArr.length-1;o++){var a=this.htmlArr[o];if(a){if(a.lv<l.lv)break;-1!=h?l.lv==a.lv&&"/"==a.label.substr(0,1)&&(e+=","+h+"|"+a._index,h=-1):l.lv==a.lv&&"/"!=a.label.substr(0,1)&&(1==a.tagpair?e+=","+a._index:h=a._index)}}return e},this.prev=function(t){for(var e=t.split(","),r=1;r<=e.length-1;r++)for(var i,s,l=e[r],n=-1,h=(s=-1!=l.indexOf("|")?(i=l.split("|"),this.htmlArr[i[0]]):this.htmlArr[l])._index-1;0<=h;h--){var o=this.htmlArr[h];if(o){if(o.lv<s.lv)break;if(-1!=n){if(s.lv==o.lv&&"/"!=o.label.substr(0,1))return","+o._index+"|"+n}else if(s.lv==o.lv&&"/"==o.label.substr(0,1)){if(1==o.tagpair)return","+o._index;n=o._index}}}return""},this.prevAll=function(t,e){var r=t.split(",");null==e&&(e="desc");for(var i="",s=1;s<=r.length-1;s++)for(var l,n,h=-1,o=(n=-1!=(a=r[s]).indexOf("|")?(l=a.split("|"),this.htmlArr[l[0]]):this.htmlArr[a])._index-1;0<=o;o--){var a,u=this.htmlArr[o];if(u){if(u.lv<n.lv)break;-1!=h?n.lv==u.lv&&"/"!=u.label.substr(0,1)&&(a=","+u._index+"|"+h,"desc"==e?i+=a:i=a+i,h=-1):n.lv==u.lv&&"/"==u.label.substr(0,1)&&(1==u.tagpair?(a=","+u._index,"desc"==e?i+=a:i=a+i):h=u._index)}}return i},this.parent=function(t){for(var e=t.split(","),r="",i=1;i<=e.length-1;i++){for(var s,l,n=e[i],h=-1,o=-1,a=(l=-1!=n.indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n])._index-1;0<=a;a--){var u=this.htmlArr[a];if(u&&l.lv-1==u.lv&&"/"!=u.label.substr(0,1)){h=u._index;break}}for(a=l._index+1;a<=this.htmlArr.length-1;a++){u=this.htmlArr[a];if(u&&l.lv-1==u.lv&&"/"==u.label.substr(0,1)){o=u._index;break}}-1!=h&&-1==(","+r+",").indexOf(","+h+"|"+o+",")&&(r+=","+h+"|"+o)}return r},this.parents=function(t){for(var e=t.split(","),r="",i=1;i<=e.length-1;i++){for(var s,l,n=e[i],h=-1,o=-1,a=(l=-1!=n.indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n])._index-1;0<=a;a--){var u=this.htmlArr[a];if(u&&l.lv-1==u.lv&&"/"!=u.label.substr(0,1)){h=u._index;break}}for(a=l._index+1;a<=this.htmlArr.length-1;a++){u=this.htmlArr[a];if(u&&l.lv-1==u.lv&&"/"==u.label.substr(0,1)){o=u._index;break}}-1==h||-1==(","+r+",").indexOf(","+(n=","+h+"|"+o)+",")&&(r+=n+this.parents(n))}return r},this.children=function(t){for(var e=t.split(","),r="",i=1;i<=e.length-1;i++){var s=e[i];if(-1!=s.indexOf("|"))for(var l=s.split("|"),s=parseInt(l[0]),n=parseInt(l[1]),h=this.htmlArr[s],o=s+1;o<n;o++){var a=this.htmlArr[o];a.lv-h.lv==1&&(2==a.tagpair&&-1!=a.label.indexOf("/")?r+="|"+a._index:r+=","+a._index)}}return r},this.closest=function(t,e){for(var r=t.split(","),i="",s=1;s<=r.length-1;s++){var l,n,h=r[s];-1!=h.indexOf("|")?(l=h.split("|"),n=parseInt(l[0]),parseInt(l[1])):n=parseInt(h);var o=this.htmlArr[n];if("string"==typeof e){h=this.getDocument(e);if(""!=h)for(var a=h.split(","),u=a.length-1;1<=u;u--){var f=a[u];if(-1!=f.indexOf("|")){var m=f.split("|"),c=parseInt(m[0]),m=(parseInt(m[1]),this.htmlArr[c]);if(c<n&&m.lv-o.lv==-1){i+=","+f;break}}}}}return i},this.filter=function(t,e){for(var r=t.split(","),i="",s=1;s<=r.length-1;s++){var l,n,h=r[s];n=-1!=h.indexOf("|")?(n=h.split("|"),l=parseInt(n[0]),parseInt(n[1])):l=parseInt(h);this.htmlArr[l];"string"==typeof e&&-1!=(","+this.getDocument(e,l,n)+",").indexOf(","+h+",")&&(i+=","+h)}return i},this.eq=function(t,e){null==e||""==e?e=0:(e=parseInt(e))+""=="NaN"&&(e=-1.1);var r="";if(-1.1!=e){t=t.split(",");if(0<=e?e++:e=t.length+e,e>t.length)return"";""!=(r=t[e])&&(r=","+r)}return r},this.slice=function(t,e,r){if(null==e&&null==r)return t;var i=t.split(",");if(isNaN(e)?e=0:(e=parseInt(e))<0&&(e=i.length- -1*e),null==r?r=i.length:isNaN(r)?r=-1:(r=parseInt(r))<0&&(r=i.length-1- -1*r),e+""=="NaN"||r+""=="NaN")return t;for(var s="",l=1;l<=i.length-1;l++)e<=l&&l<=r&&(s+=","+i[l]);return s},this.show=function(t){for(var e=t.split(","),r=1;r<=e.length-1;r++){var i,s=e[r];-1!=s.indexOf("|")?(i=s.split("|"),this.css(","+i[0],"display","")):this.css(","+s,"display","")}return this},this.hide=function(t){for(var e=t.split(","),r=1;r<=e.length-1;r++){var i,s=e[r];-1!=s.indexOf("|")?(i=s.split("|"),this.css(","+i[0],"display","none")):this.css(","+s,"display","none")}return this},this.getlv=function(t){if(null!=t){t=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(",");if(2<=t.length){t=t[1].split("|");return this.htmlArr[t[0]].lv}}},this.getLabel=function(t){if(null!=t){t=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(",");if(2<=t.length){t=t[1].split("|"),t=this.htmlArr[t[0]];if(t)return t.label}}},this.printHTML=function(t){for(var e="",r=0,i=-1!=(t=","+(t=null==t?"":t).replace(/\|/g,",").replace(/\s/g,"")+",").indexOf(",color,")?"<br>":"\n",s=-1!=t.indexOf(",color,")?"&nbsp;&nbsp;&nbsp;&nbsp;":"    ",l=0;l<=this.htmlArr.length-1;l++){var n,h,o,a,u=this.htmlArr[l];u&&(u.id=l,-1!=t.indexOf(",format,")?(n=u.upHtml.trim(),h=u.downHtml.trim(),o=u.html.trim(),-1!=t.indexOf(",color,")&&(n=this.htmlColor(n),h=this.htmlColor(h),o=this.htmlColor(o)),"html"==u.label?r=-1:"head"!=u.label&&"body"!=u.label||(n+=i),""!=o&&(a=!0,2==u.tagpair?"/"==u.label.substr(0,1)&&(a=this.upCheckThisLabel(u)):-1!="|br|hr|rect|line|col|".indexOf("|"+u.label+"|")&&(a=!1),a&&(o=i+this.common.copyStr(s,u.lv-1+r)+o)),e+=n+o+h):-1!=t.indexOf(",zip,")?e+=u.upHtml.trim()+u.html.trim()+u.downHtml.trim():-1!=t.indexOf(",color,")?e+=this.htmlColor(u.upHtml)+this.htmlColor(u.html)+this.htmlColor(u.downHtml):e+=u.upHtml+u.html+u.downHtml)}return-1!=t.indexOf(",format,")&&(e=e.trim()),e=-1!=t.indexOf(",color,")?"<div style='font-family: Menlo, Monaco, Consolas, \"Courier New\", monospace;padding: 0.2em;margin: 0;font-size: 14px;'>"+e+"</div>":e},this.upCheckThisLabel=function(t){if("/head"==t.label||"/body"==t.label)return!0;for(var e=t.id-1;0<=e;e--){var r=this.htmlArr[e];if(r){if(r.lv==t.lv)return!1;if(2==r.tagpair||"img"==r.label)return!0;if(-1!=(r.upHtml+r.downHtml).indexOf("\n"))return!0}}return!1},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.htmlArr)},this.info=function(){console.log("%c xiyueta%c v"+_xyt.version+" website: www.xiyueta.com ","font-size:22px;color:#00bbee","color:#000")}},_xyt=new _XIYUETA;_xyt.info();var xiyueta=function(t,e,r){return new xiyueta.fn.init(t,e,r)};xiyueta.fn=xiyueta.prototype={length:0,selector:"",domList:void 0,x:null,y:null,domListIndex:0},xiyueta.extend=xiyueta.fn.extend=function(){var t,e,r,i=arguments[0]||{},s=1,l=arguments.length;for(s===l&&(i=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&i!==r&&void 0!==r&&(i[e]=r);return i};var init=xiyueta.fn.init=function(t,e,r){this.length=0,this.selector=t,this.domList=void 0,this.x=e,this.y=r,this.domListArray=[],0<_xyt.htmlArr.length&&("string"==typeof t?(r=(e=_xyt.getDocument(t,e,r)).split(","),this.length=r.length-1,this.domList=e):"object"==typeof t&&(this.domList=","+t.x,t.x!=t.y&&(this.domList+="|"+t.y),this.length=1,this.selector="")),null==this.selector&&(this.selector="")};init.prototype=xiyueta.fn,($=$xyt=xiyueta).log=function(t,e){if(null==e&&(e="<br>"),"object"==typeof t)for(var r in t){var i;-1==(t[r]+"").indexOf("function")&&(i=(i=t[r]+"").replace(/</g,"&lt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),void 0===(i="object"==typeof t[r]?xiyueta.log(t[r]," , "):i)?document.write(r+e):document.write(r+":  "+i+e))}else t+="",document.write(t.replace(/</g,"&lt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")+e)},xiyueta.fn.extend({parse:function(t,e){var r;return _xyt.parseHTML(t),1!=(e=null==e&&(0!=_xyt.lv||1==_xyt.isHtmlErr)?!0:e)||0<(r=this.repair(!1)).err&&""!=r.errList&&1==r.state&&(_xyt.parseHTML(this.print()),this.repairHTML=!0),0<_xyt.htmlArr.length&&"string"==typeof this.selector&&(r=(e=_xyt.getDocument(this.selector,this.x,this.y)).split(","),this.length=r.length-1,this.domList=e),this},find:function(t){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.find(this.domList,t);t=this.domList.split(",");return this.length=t.length-1,this.selector="",this},add:function(t){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.add(this.domList,t);t=this.domList.split(",");return this.length=t.length-1,this.selector="",this},text:function(t){return 1<=arguments.length?(_xyt.text(this.domList,t),this):_xyt.text(this.domList)},html:function(t){return 1<=arguments.length?(_xyt.html(this.domList,t),this):_xyt.html(this.domList)},attr:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.attr(this.domList,t,e),this):""!=t.trim()?_xyt.attr(this.domList,t):void 0},removeAttr:function(t){return _xyt.removeAttr(this.domList,t),this},val:function(t){return null==t?_xyt.val(this.domList):(_xyt.val(this.domList,t),this)},remove:function(t){var e=_xyt.remove(this.domList,t);return e!=this.domList&&(t=e.split(","),this.domList=e,this.length=t.length-1),this},each:function(t){return _xyt.each(this.domList,t),this},css:function(t,e){return null==e&&"object"!=typeof t?_xyt.css(this.domList,t):(_xyt.css(this.domList,t,e),this)},print:function(t){return _xyt.printHTML(t)},debug:function(t){return _xyt.debug(t),this}}),xiyueta.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=this.domList.split(","),e="";this.length=0;for(var r=1;r<=t.length-1;r++)r%2==1&&(e+=","+t[r],this.length++);return this.domList=e,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=this.domList.split(","),e="";this.length=0;for(var r=1;r<=t.length-1;r++)r%2==0&&(e+=","+t[r],this.length++);return this.domList=e,this},slice:function(t,e){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.slice(this.domList,t,e);e=this.domList.split(",");return this.length=e.length-1,this},end:function(){var t;return this.domListArray.length<=0?(this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},addClass:function(t){return _xyt.addClass(this.domList,t),this},hasClass:function(t){return _xyt.hasClass(this.domList,t)},removeClass:function(t){return _xyt.removeClass(this.domList,t),this},wrap:function(t,e){if("function"==typeof t){for(var r=_xyt.callToList(this.domList,t),i=0;i<=r.length-1;i++)(u=r[i])&&this.wrap(u.value,u.domList);return this}var s=new _XIYUETA,l=0;s.parseHTML(t),s.repairHTML(!1);var n=s.printHTML();t!=n&&s.parseHTML(n);for(i=0;i<=s.htmlArr.length-1;i++)(u=s.htmlArr[i]).lv>l&&2==u.tagpair&&(l=u.lv);for(var h="",o="",a=!1,i=0;i<=s.htmlArr.length-1;i++){var u,f=(u=s.htmlArr[i]).upHtml;"/"==u.label.substr(0,1)&&u.lv==l&&(a=!0,h+=f,f=""),0==a?h+=f+u.html:o+=f+u.html}return null==e&&(e=this.domList),_xyt.wrap(e,h,o),this},unwrap:function(){return _xyt.unwrap(this.domList),this},append:function(t){return _xyt.append(this.domList,t),this},prepend:function(t){return _xyt.prepend(this.domList,t),this},after:function(t){return _xyt.after(this.domList,t),this},before:function(t){return _xyt.before(this.domList,t),this},show:function(){return _xyt.show(this.domList),this},hide:function(){return _xyt.hide(this.domList),this},next:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.next(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},nextAll:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.nextAll(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},prev:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prev(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},prevAll:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},siblings:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList,"asc")+_xyt.nextAll(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},parent:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parent(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},parents:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=_xyt.parents(this.domList).split(","),e="";this.length=0;for(var r=1;r<=t.length-1;r++)-1==(","+e+",").indexOf(","+t[r]+",")&&(e+=","+t[r],this.length++);return this.domList=e,this},children:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.children(this.domList);var t=this.domList.split(",");return this.length=t.length-1,this},closest:function(t){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.closest(this.domList,t);t=this.domList.split(",");return this.length=t.length-1,this},filter:function(t){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.filter(this.domList,t);t=this.domList.split(",");return this.length=t.length-1,this},replaceWith:function(t){var e;return"object"==typeof(t=null==t?"":t)&&null!=t.domList&&(e=t.domList,t=_xyt.html(t.domList,void 0,"all"),_xyt.remove(e)),this.htmlwrap(t),this},htmlwrap:function(t){return 1<=arguments.length?(_xyt.htmlwrap(this.domList,t),this):_xyt.htmlwrap(this.domList)},dom:function(t){return _xyt.dom(this.domList,"",t)},domwrap:function(t){return _xyt.dom(this.domList,"all",t)},domlabel:function(t,e){return _xyt.dom(this.domList,"label|",t,e)},domlabelwrap:function(t,e){return _xyt.dom(this.domList,"all|label",t,e)},getlabel:function(){return _xyt.getLabel(this.domList)},getlv:function(){return _xyt.getlv(this.domList)},findlv:function(t){return this.find(":lv("+t+")"),this},findlabel:function(t){return this.find(":label("+t+")"),this}});var _XIYUETACSS=function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.lv=0,this.config={parentdir:"../",imagesdir:"images/"},this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);var e,r="",i="",s="",l="",n=!1,h=!1,o=!1,a=!1,u=!1,f=0;this.domList="";for(var m=0;m<=this.cssSource.length-1;m++)e=r,r=this.cssSource.substr(m,1),n?(s+=r,o?"/"==r&&"*"==e&&(n=o=!1,this.cssArr.push({lv:1,label:"/*",upHtml:l,downHtml:"",html:s}),l=s=""):h&&"*"==r&&"/"==e?o=!0:a?!u||";"!=r&&"\n"!=r?" "==r&&h?"@charset "==s.toLowerCase()?h=!(u=!0):"@font-face "==s.toLowerCase()&&(a=!1):"{"==r&&("@font-face{"==s.toLowerCase()?a=!1:(a=n=h=!1,this.cssArr.push({lv:1,label:i.toLowerCase().replace(/ /g,"").trim(),upHtml:l,downHtml:"",html:s}),f++,l=s="")):(a=n=h=u=!1,this.cssArr.push({lv:1,label:i.toLowerCase().replace(/ /g,"").trim(),upHtml:l,downHtml:"",html:s}),l=s=""):"{"==r&&h?h=!1:"}"==r&&(n=h=!1,this.cssArr.push({lv:f+1,label:i.toLowerCase().replace(/ /g,"").trim(),upHtml:l,downHtml:"",html:s}),l=s=""),h&&(" "!=r||" "!=e&&","!=e)&&(i+=r)):" "!=r&&";"!=r&&"\n"!=r?"}"==r&&1==f?(this.cssArr.push({lv:f,label:"}",upHtml:l,downHtml:"",html:"}"}),l=s="",f--):(l=s,h=n=!0,"@"==(i=s=r)&&(a=!0)):s+=r;""!=s&&this.cssArr.push({lv:f,label:"",upHtml:"",downHtml:"",html:s}),this.lv=f},this.handleLabelParam=function(t,e,r){if(null==e&&(e="(all)"),null==r&&null!=t[e])return t[e];var i,s="";-1!=e.indexOf("|")&&(e=(i=e.split("|"))[0],s=i[1],""==e&&(e="(all)"));for(var l=!1,n="",h="",o=!1,a="",u=!1,f=!0,m=0,c=0,d=!1,p="",g=t.html.indexOf("{")+1;g<=t.html.length-1;g++){var x=t.html.substr(g,1);if(o)if(u){if(0!=(d=1==d&&")"==x?!1:d)||x!=a&&"}"!=x&&g!=t.html.length-1)h+=x,"("==x&&(d=!0);else if(t[n=n.toLowerCase().trim()]=h,u=o=!1,a="",e==n||"(all)"==e)if(null==r){if("url"!=s)return h;""!=(h=this.cssSrcUrl(h))&&(""!=p&&(p+="\n"),p+=h)}else{if(""==r){var b=t.html.substr(0,c),v=t.html.substr(g+1);return t.html=b+v,t}var y=m,L=m+h.length;f&&(y++,L++);b=t.html.substr(0,y),v=t.html.substr(L);if("url"!=s){A=b+r+v;return t.html=A,t[n]=r,t}L=this.cssSrcUrl(h,r);if(""!=L){""!=p&&(p+="\n"),p+=L;var A=b+L+v;return t.html=A,g=(b+(t[n]=L)).length,t}}}else" "!=x&&(a=";",m=g,f=!(u=!0),h=x);else l?":"==x?(o=!(l=!1),a=h=""):" "!=x&&(n+=x):" "!=x&&(l=!0,n=x,c=g)}if(null!=r&&""!=r){for(var w=e+": "+r+";",O=t.html.length-1;0<=O;O--)if(" "!=(x=t.html.substr(O,1))&&"}"!=x){if(";"==x)break;if("{"==x)break;w="; "+w;break}t.html=t.html.replace("}",w+"}")}return p=""==p?void 0:p},this.getDocument=function(t,e,r){null==e&&(e=0),null==r&&(r=this.cssArr.length-1);var i=-1.1,s=-1.1,l=-1.1,n=-1.1,h="",o="",a="",u="",f="";if(t=(t=null==t?"":t).trim(),0==this.cssArr.length)return console.log("%c 需要先解析一段css文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var m=!1,c="",d=0;d<=t.length;d++){var p=t.substr(d,1);0!=m||"'"!=p&&'"'!=p&&"("!=p&&")"!=p?1==m?" "==p?p="-Space-":"'"!=p&&'"'!=p&&"("!=p&&")"!=p||(m=!1,"'"!=p&&'"'!=p||(p="")):" "==p&&(p=""):(m=!0,"'"!=p&&'"'!=p||(p="")),c+=p}t=c}var g,x,b,v,y,L=t.indexOf(":");-1!=L&&(x=g="",b=(p=t.substr(L+1)).indexOf("("),v=p.indexOf(")"),-1!=b&&-1!=v?(g=p.substr(0,b).toLowerCase(),v=(x=p.substr(b+1)).indexOf(")"),x=x.substr(0,v).replace(/-Space-/g," ").trim()):g=p.toLowerCase(),"first"==g?i=0:"last"==g?i=-1:"even"==g?s=1:"odd"==g?s=0:"eq"==g?(i=0,(i=""!=x?parseInt(x):i)+""=="NaN"&&(i=-.1,t="")):"gt"==g?""!=x&&(l=parseInt(x)):"lt"==g?""!=x&&(n=parseInt(x)):"contains"==g?h=x:console.log(t,"没有动作 "+g),""==(t=t.substr(0,L))&&-.1!=i&&(t="(all)")),-1!=(L=t.indexOf("["))&&(v=(p=t.substr(L+1)).indexOf("]"),-1==(p=p.substr(0,v)).indexOf("=")?(o=p,a="*"):(o=(y=p.split("="))[0],a=y[1].replace(/-Space-/g," "),y=o.substr(o.length-1),-1!="!^$*~|".indexOf(y)&&(o=o.substr(0,o.length-1),u=y)),-1!=o.indexOf("|")&&(o=(y=o.split("|"))[0],"NOUL"==y[1]&&(a=a.toLowerCase(),f=y[1])),""==(t=t.substr(0,L))&&(t="(all)")),t=t.replace(/ /g,"");for(c="",d=e;d<=r;d++){var A=this.cssArr[d];null!=A&&(t!=A.label&&"(all)"!=t||(c+=","+d))}if(""!=c&&-1.1!=i){var w=c.split(",");""!=(c=i<0?w[w.length+i]:w[i+1])&&(c=","+c)}else if(""!=c&&-1.1!=s){w=c.split(",");c="";for(d=1;d<=w.length-1;d++)d%2==s&&(c+=","+w[d])}else if(""!=c&&-1.1!=l){w=c.split(",");c="";for(d=l+2;d<=w.length-1;d++)c+=","+w[d]}else if(""!=c&&-1.1!=n){w=c.split(",");c="",n>w.length-1&&(n=w.length-1);for(d=1;d<=n;d++)c+=","+w[d]}else if(""!=c&&""!=h){w=c.split(",");c="";for(d=1;d<=w.length-1;d++){p=w[d];this.domList=","+p,-1!=this.text("").indexOf(h)&&(c+=","+w[d])}}else if(""!=o){w=c.split(",");c="";for(d=1;d<=w.length-1;d++){var O=w[d];this.domList=","+O;var _=!0,p=this.css(o);"NOUL"==f&&null!=p&&(p=p.toLowerCase()),"^"==u?null!=p&&p.substr(0,a.length)==a||(_=!1):"|"==u?null!=p&&(p+"-").substr(0,a.length+1)==a+"-"||(_=!1):"$"==u?null!=p&&p.substr(-1*a.length)==a||(_=!1):"~"==u?null!=p&&-1!=(" "+p+" ").indexOf(" "+a+" ")||(_=!1):"*"==u?null!=p&&-1!=p.indexOf(a)||(_=!1):"!"==u?p==a&&(_=!1):null!=p&&"*"==a?_=!0:p!=a&&(_=!1),_&&(c+=","+O)}}return c},this.text=function(t,e,r,i){for(var s=this.domList,l="",n=(s=null==this.domList?this.getDocument(t,r,i):s).split(","),h=1;h<=n.length-1;h++){var o,a,u=this.cssArr[n[h]];null!=u&&(o=u.html.indexOf("{"),a=u.html.indexOf("}"),null==e?-1!=o&&-1!=a&&(l+=u.html.substr(o+1,a-o-1)):u.html=u.html.substr(0,o+1)+e+"}")}return l},this.html=function(t,e,r,i){for(var s=this.domList,l=(s=null==this.domList?this.getDocument(t,r,i):s).split(","),n=1;n<=l.length-1;n++){var h=this.cssArr[l[n]];if(null!=h){if(null==e)return h.html;h.html=e}}},this.after=function(t,e,r,i){for(var s=this.domList,l=(s=null==this.domList?this.getDocument(t,r,i):s).split(","),n=1;n<=l.length-1;n++){var h=this.cssArr[l[n]];null!=h&&null!=e&&(h.downHtml+=e)}return this},this.before=function(t,e,r,i){for(var s=this.domList,l=(s=null==this.domList?this.getDocument(t,r,i):s).split(","),n=1;n<=l.length-1;n++){var h=this.cssArr[l[n]];null!=h&&null!=e&&(h.upHtml+=e)}return this},this.remove=function(t,e,r){for(var i=this.domList,s=(i=null==this.domList?this.getDocument(t,e,r):i).split(","),l=1;l<=s.length-1;l++){var n=this.cssArr[s[l]];null!=n&&(n.html="",n.label="<del>")}return this},this.css=function(t,e,r,i,s){for(var l=this.domList,n=(l=null==this.domList?this.getDocument(t,i,s):l).split(","),h=1;h<=n.length-1;h++){var o=this.cssArr[n[h]];if(null!=o){if(null==r)return this.handleLabelParam(o,e);this.handleLabelParam(o,e,r)}}},this.getBackground=function(t,e,r){for(var i,s=this.domList,l="",n=(s=null==this.domList?this.getDocument(t,e,r):s).split(","),h=1;h<=n.length-1;h++)null!=this.cssArr[n[h]]&&(this.domList=","+n[h],null!=(i=this.css("","background"))&&(i=this.cssSrcUrl(i),l+=this.handleClearBackground(i)));return l},this.setBackground=function(t,e,r,i){for(var s,l=this.domList,n=(l=null==this.domList?this.getDocument(t,r,i):l).split(","),h=1;h<=n.length-1;h++)null!=this.cssArr[n[h]]&&(this.domList=","+n[h],null!=(s=this.css("","background"))&&("server="==e.substr(0,7)?(s=this.handleClearBackground(s),e=this.common.fullHttpUrl(e.substr(7),s)):"dir="==e.substr(0,4)&&(s=this.handleClearBackground(s),e=e.substr(4)+this.common.getUrlFileName(s)),this.css("","background","url("+e+")")));return this},this.getsrc=function(t,e,r,i){for(var s=this.domList,l="",n=(s=null==this.domList?this.getDocument(t,r,i):s).split(","),h=1;h<=n.length-1;h++)if(null!=this.cssArr[n[h]]){this.domList=","+n[h];var o=this.text("").replace(/;/g,","),a=this.cssSrcUrl(o),a=this.handleClearBackground(a);if(null!=e)for(var u=a.split(","),f=0;f<=u.length-1;f++)""!=(a=u[f])&&("server="==e.substr(0,7).toLowerCase()?a=this.common.fullHttpUrl(e.substr(7),a):"dir="==e.substr(0,4).toLowerCase()?a=e.substr(4)+this.common.getUrlFileName(a):"filename"==e.substr(0,8).toLowerCase()&&(a=this.common.getUrlFileName(a)),""!=l&&(l+=","),l+=a);else""!=a&&(""!=l&&(l+=","),l+=a)}return l},this.setSrcUrl=function(t,e,r,i){for(var s=this.domList,l=(s=null==this.domList?this.getDocument(t,r,i):s).split(","),n=1;n<=l.length-1;n++)if(null!=this.cssArr[l[n]]){this.domList=","+l[n];for(var h="",o=this.text(""),a=o.split(";"),u=0;u<=a.length-1;u++){s=a[u];""!=h&&(h+=";"),h+=s=this.cssSrcUrl(s,e)}o!=h&&this.text("",h)}return this},this.handleClearBackground=function(t){var e=t.indexOf("(");if(-1==(t=-1!=(e=(t=-1!=e?t.substr(e+1):t).indexOf(")"))?t.substr(0,e):t).indexOf("'")&&-1==t.indexOf('"')&&-1==t.indexOf("("))return t;for(var r=!1,i="",s=0;s<=t.length;s++){var l=t.substr(s,1);0!=r||"'"!=l&&'"'!=l&&"("!=l&&")"!=l?1==r?"'"!=l&&'"'!=l&&"("!=l&&")"!=l||(r=!1,"'"!=l&&'"'!=l||(l="")):" "==l&&(l=""):(r=!0,"'"!=l&&'"'!=l||(l="")),i+=l}return i.trim()},this.cssSrcUrl=function(t,e){if(-1==t.indexOf(","))return this.handleCssSrcUrl(t,e);for(var r=t.split(","),i="",s=0;s<r.length;s++){var l=r[s];""!=(l=this.handleCssSrcUrl(l,e))&&(""!=i&&(i+=","),i+=l)}return i},this.handleCssSrcUrl=function(t,e){if(null==t)return"";if(null==e){if(-1==t.indexOf("(")||-1==t.indexOf(")"))return null==e||"dir="==e.substr(0,4)||"server="==e.substr(0,7)?"":t;if(-1==t.toLowerCase().indexOf("url"))return null==e||"dir="==e.substr(0,4)||"server="==e.substr(0,7)?"":t}for(var r="",i=!1,s=!1,l="",n=-1,h=0;h<=t.length-1;h++){var o=t.substr(h,1);if(i)if(s){if(l==o){var a=t.substr(n,h-n);if(null!=e)if("server="==e.substr(0,7)){if(-1!=a.indexOf("data:"))return t;a=t.substr(0,n)+this.common.fullHttpUrl(e.substr(7),a)+t.substr(h)}else if("dir="==e.substr(0,4)){if(-1!=a.indexOf("data:"))return t;a=t.substr(0,n)+e.substr(4)+this.common.getUrlFileName(a)+t.substr(h)}else-1==a.indexOf("data:")&&(a=t.substr(0,n)+e+t.substr(h));return a}}else""!=o&&('"'==o||"'"==o?(s=!0,l=o,-1==n&&(n=h+1)):" "!=o&&(s=!0,l=")",-1==n&&(n=h)));else if("("==o){a=r.trim().toLowerCase();if("url"==a.substr(a.length-3,3))i=!0;else if(null==e)return""}else r+=o}return t},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var r=this.cssArr[e];if(null!=r)if("@charset"==r.label)return null!=t?(r.html='@charset "'+t+'";',""):r.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir,null!=t.cssdir)){for(var e=t.cssdir.split("/"),r="",i=0;i<=e.length-2;i++)r+="../";this.config.parentdir=r}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(t){for(var e="",r=0;r<=this.cssArr.length-1;r++){var i,s=this.cssArr[r];null!=s&&(i=s.upHtml+s.html+s.downHtml,"zip"==t?i="/*"==s.label?"":i.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&(i=i.trim()+"\n"),""!=i&&(e+=i))}return e},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.cssArr)}},_xytcss=new _XIYUETACSS,xiyuetaCss=function(t,e,r){return new xiyuetaCss.fn.init(t,e,r)};function XiyuetaCommon(){this.copyStr=function(t,e){for(var r="",i=1;i<=e;i++)r+=t;return r},this.timeFormat=function(t,e){var r,i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[r]:("00"+i[r]).substr((""+i[r]).length)));return e},this.secondToDate=function(t){t=parseFloat(t)/1e3;return t=null!=t&&""!=t?60<t&&t<3600?parseInt(t/60)+" 分钟 "+parseInt(60*(parseFloat(t/60)-parseInt(t/60)))+" 秒 ":3600<=t&&t<86400?parseInt(t/3600)+" 小时 "+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+" 分钟 "+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))))+" 秒 ":parseInt(t)+" 秒 ":t},this.bystesLength=function(t){for(var e=0,r=0;r<t.length;r++)255<t.charCodeAt(r)?e+=2:e++;return e},this.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},this.renderSize=function(t){if(null==t||""==t)return"0 Bytes";var e=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),t=parseFloat(t),r=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,r)).toFixed(2)+e[r]},this.isArray=function(t){return"object"==typeof t&&t.constructor==Array}}xiyuetaCss.fn=xiyuetaCss.prototype={length:1,selector:"",docList:"",x:null,y:null},xiyuetaCss.extend=xiyuetaCss.fn.extend=function(){var t,e,r,i=arguments[0]||{},s=1,l=arguments.length;for(s===l&&(i=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&i!==r&&void 0!==r&&(i[e]=r);return i},(init=xiyuetaCss.fn.init=function(t,e,r){if(this.length=0,this.selector=t,this.x=e,this.y=r,null==this.selector)return this.selector="",this;0<_xytcss.cssArr.length&&("string"==typeof t?(r=(e=_xytcss.getDocument(t,e,r)).split(","),this.length=r.length-1,this.domList=e):"#object"==typeof t&&(this.domList=","+t.x,this.selector="")),_xytcss.domList=this.domList}).prototype=xiyuetaCss.fn,(xiyuetaCSS=$xytcss=$css=xiyuetaCss).fn.extend({parse:function(t){var e;return _xytcss.cssParse(t),0<_xytcss.cssArr.length&&"string"==typeof this.selector&&(t=(e=_xytcss.getDocument(this.selector,this.x,this.y)).split(","),this.length=t.length-1,_xytcss.domList=this.domList=e),this},text:function(t){return null!=t?(_xytcss.text(this.selector,t),this):_xytcss.text(this.selector)},html:function(t){return null!=t?(_xytcss.html(this.selector,t),this):_xytcss.html(this.selector)},css:function(t,e){return null!=e?(_xytcss.css(this.selector,t,e),this):_xytcss.css(this.selector,t)},remove:function(){return _xytcss.remove(this.selector,this.x,this.y),this},after:function(t){return _xytcss.after(this.selector,t,this.x,this.y),this},before:function(t){return _xytcss.before(this.selector,t,this.x,this.y),this},background:function(t){return null==t?_xytcss.getBackground(this.selector,this.x,this.y):(_xytcss.setBackground(this.selector,t,this.x,this.y),this)},getsrc:function(t){return _xytcss.getsrc(this.selector,t,this.x,this.y)},setsrc:function(t){return _xytcss.setSrcUrl(this.selector,t,this.x,this.y),this},charset:function(t){return _xytcss.handleCssCharset(t)},config:function(t){return _xytcss.setConfig(t)},print:function(t){return _xytcss.printCss(t)},debug:function(t){return _xytcss.debug(t)}}),xiyuetaCSS.fn.extend({eq:function(t){null==t||""==t?t=0:(t=parseInt(t))+""=="NaN"&&(t=-1.1);var e,r="";return-1.1==t?(this.selector="",this.length=0):(e=this.domList.split(","),0<=t?t++:t=e.length+t,r=e[t],this.length=1,(this.selector="")!=r&&(r=","+r)),_xytcss.domList=this.domList=r,this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){for(var t=this.domList.split(","),e="",r=1;r<=t.length-1;r++)r%2==1&&(e+=","+t[r]);return _xytcss.domList=this.domList=e,this},odd:function(){for(var t=this.domList.split(","),e="",r=1;r<=t.length-1;r++)r%2==0&&(e+=","+t[r]);return _xytcss.domList=this.domList=e,this},slice:function(t,e){return _xytcss.domList=this.domList=_xytcss.slice(this.domList,this.x,this.y,t,e),-1!=this.domList.indexOf(",")?(e=this.domList.split(","),this.length=e.length-1):this.length=0,this},lv:function(){return _xytcss.lv}}),_XIYUETA.prototype.swap=function(t,e){if(null==t||null==e)return!1;e=this.getDocument(e);if(""==t||""==e||t==e)return!1;t=t.split(",")[1];if(-1==t.indexOf("|"))var r=this.htmlArr[t],i=l=parseInt(t);else{for(var s=t.split("|"),l=parseInt(s[0]),i=parseInt(s[1]),r=this.htmlArr[l],n="",h=parseInt(l)+1;h<=i;h++)null!=(f=this.htmlArr[h])&&(n+=f.upHtml+f.html,delete this.htmlArr[h]);r.html+=n}e=e.split(",")[1];if(-1==e.indexOf("|")){var o=this.htmlArr[e];if(l<=(a=parseInt(e))&&a<=i)return!1}else{var s=e.split("|"),a=parseInt(s[0]),u=parseInt(s[1]),o=this.htmlArr[a];if(l<=a&&u<=i)return!1;for(var f,n="",h=parseInt(a)+1;h<=u;h++)null!=(f=this.htmlArr[h])&&(n+=f.upHtml+f.html,delete this.htmlArr[h]);o.html+=n}a=r.html;return r.html=o.html,o.html=a,!0},_XIYUETA.prototype.getItem=function(t,e){if(null==t)return"";null==e&&(e="");for(var r=[],i=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),s=1;s<=i.length-1;s++)if(-1!=(a=i[s]).indexOf("|")){var l=a.split("|"),n=this.htmlArr[l[0]];if(""!=e)void 0!==(a=this.handleLabelParam(n,e))&&r.push(a);else{for(var h=n.html,o=parseInt(l[0])+1;o<=l[1];o++)null!=(n=this.htmlArr[o])&&(h+=n.upHtml+n.html);""!=h&&r.push(h)}}else{var a,n=this.htmlArr[a];""!=e?void 0!==(a=this.handleLabelParam(n,e))&&r.push(a):r.push(n.html)}return r},_XIYUETA.prototype.setConfig=function(t){if(null==t)return this.config;null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir)},_XIYUETA.prototype.charset=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var r=this.htmlArr[e];if(null!=r)if("meta"==r.label)if(-1!=r.html.toLowerCase().indexOf("charset=")){var i=this.handleLabelParam(r,"charset");if(null!=(i=null!=i?i.toLowerCase().trim():i))return null!=t&&this.handleLabelParam(r,"charset",t),i;if(-1!=(i=null!=(i=this.handleLabelParam(r,"content"))?i.toLowerCase().trim():i).indexOf("utf-8"))return null!=t?(this.handleLabelParam(r,"content","text/html; charset="+t),""):"utf-8";if(-1!=i.indexOf("gb2312"))return null!=t?(this.handleLabelParam(r,"content","text/html; charset="+t),""):"gb2312"}}},_XIYUETA.prototype.getHandleSrc=function(t,e,r,i){for(var s="",l=!0,n=0;n<=this.htmlArr.length-1;n++){var h,o,a,u=this.htmlArr[n];null!=u&&-1!=("|"+t+"|").indexOf("|"+u.label+"|")&&(null==(h=this.handleLabelParam(u,e))&&(h=""),"link"==u.label&&("dns-prefetch"!=(o=(o=null==(o=this.handleLabelParam(u,"rel"))?"":o).trim().toLowerCase())&&"alternate"!=o||(h="")),-1!=("|"+r+"|").indexOf("clean")?(l=!0,""!=h&&-1==h.indexOf("apps.bdimg.com/")&&(a=h=this.common.fullHttpUrl(i,h),-1!=("|"+r+"|").indexOf("web")&&""!=(h=this.common.getUrlFileName(h,u.label))&&("img"==u.label?h=this.config.imagesdir+h:"script"==u.label?h=this.config.jsdir+h:"link"==u.label?-1!=(o=(o=null==(o=this.handleLabelParam(u,"rel"))?"":o).trim().toLowerCase()).indexOf("shortcut icon")?h=this.config.imagesdir+h:-1!=o.indexOf("stylesheet")?h=this.config.cssdir+h:(h="",l=!1):(l=!1,h="")),l&&""!=h&&(-1!=("|"+r+"|").indexOf("down")?(""!=s&&(s+="[,]"),s+=a+"[|]"+h):(""!=s&&(s+="[,]"),s+=h)),this.handleLabelParam(u,e,h))):""!=h&&(""!=s&&(s+="[,]"),s+=h))}return s},_XIYUETA.prototype.replace=function(t,e,r,i){for(var s,l=this.getDocument(t),n=l.split(","),h=1;h<=n.length-1;h++)s=-1!=(l=n[h]).indexOf("|")?(s=l.split("|"),this.htmlArr[s[0]]):this.htmlArr[l],""!=e&&(l=this.handleLabelParam(s,e))==r&&this.handleLabelParam(s,e,i)},_XIYUETA.prototype.repairHTML=function(t,e){var r;null==t&&(t=!1),null==e&&(e=0);var i=0,s=!1,l="",n=0,h=",";if(1<=this.htmlArr.length&&"no"==(o=this.htmlArr[0]).isFindDom)return!1;for(var o,a=0;a<=this.htmlArr.length-1;a++)(o=this.htmlArr[a])&&(o.nIndex=a,2==o.tagpair&&("/"==o.label.substr(0,1)?(f=o.label.substr(1),-1!=(","+h+",").indexOf(","+f+",")?h=h.replace(","+f+",",","):h+=o.label+","):h+=o.label+","));for(var u=h,a=0;a<=this.htmlArr.length-1;a++)if((o=this.htmlArr[a])&&2==o.tagpair&&"/"==o.label.substr(0,1)){var f=o.label.substr(1),s=!0;if(null!=(c=this.upFindSameLvObj(a,o))&&(o.label=="/"+c.label?(s=!1,this.setNoFindDom(c.nIndex,o.nIndex),1==e&&console.log(" 找(Lv1) "+o.label+" "+c.label+"("+o.nIndex+"-"+c.nIndex+")")):0==this.lv||1==c.lv&&1==o.lv&&-1==h.indexOf(","+o.label+",")?1==s&&(l="",t&&(l="\x3c!--xiyueta提示: 原标签(LV) "+o.label+" 替换成 /"+c.label+"--\x3e"),o.html="</"+c.label+">"+l,i+=2,n+=2,s=!1,this.setNoFindDom(c.nIndex,o.nIndex),1!=e&&2!=e||console.log(" 找(Lv2) LV整体层级正确或两标签都为第一层  "+o.label+" 替换成 /"+c.label+" ("+o.nIndex+"-"+c.nIndex+")")):1==e&&console.log(" 找(Lv else) 没找到，交给下面找同名 "+o.label+" ("+o.nIndex+")")),1==s)if(null==(r=this.upFindSameNameObj(a,o)))o.html=t?"\x3c!---xiyueta提示: 有多余结束标签 "+o.label+" --\x3e":"",n++,i++,this.setNoFindDom(o.nIndex,o.nIndex),this.reairHtmlLv(o,1),1!=e&&2!=e||console.log(" 找(Name 出错) 有多余结束标签 "+o.label+" ("+o.nIndex+")"),s=!1,h=h.replace(","+o.label+",",",");else{l="",t&&(r.html+="\x3c!---xiyueta提示: 有问题标签开始位置--\x3e",o.html="\x3c!---xiyueta提示: 有问题标签结束位置--\x3e"+o.html),1!=e&&2!=e||console.log(" 找(Name2 有问题) "+o.label+" 与 "+r.label+"("+o.nIndex+"-"+r.nIndex+") 之间有问题 ");var m="";this.setNoFindDom(r.nIndex,o.nIndex);var c=r.lv-o.lv;this.reairHtmlLv(o,c);for(var d=r.nIndex+1;d<=o.nIndex;d++){var g=this.htmlArr[d];if(g&&"/"!=g.label.substr(0,1)&&2==g.tagpair){var x=!1;for(p=g.nIndex+1;p<=o.nIndex;p++){var b=this.htmlArr[p];if(b&&2==b.tagpair&&"/"==b.label.substr(0,1)&&b.lv==g.lv){x=!0;break}}0==x&&(m+="</"+g.label+">",t&&(m+="\x3c!--xiyueta提示: 追加 /"+g.label+" --\x3e"),1!=e&&2!=e||console.log(" 找(Name3)  追加结束标签 /"+g.label+" ("+g.nIndex+")"),n++,i++,h=h.replace(","+g.label+",",","))}}o.upHtml+=m}}var v=h.split(",");if(v.length>i){m="";for(a=0;a<=v.length-1;a++)""!=v[a]&&"/"!=v[a].substr(0,1)&&(l="",t&&(l="\x3c!--xiyueta提示: 追加 /"+v[a]+" --\x3e"),m="</"+v[a]+">"+l+m,n++,i++,1!=e&&2!=e||console.log(" 最后  追加结束标签 /"+v[a]));this.htmlArr[this.htmlArr.length-1].downHtml+=m}return{lv:this.lv,err:n,repair:i,state:n==i,errList:u=","==u?"":u}},_XIYUETA.prototype.setNoFindDom=function(t,e){for(var r=t;r<=e;r++){var i=this.htmlArr[r];i&&(i.isFindDom="no")}return null},_XIYUETA.prototype.upFindSameLvObj=function(t,e){for(var r=t-1;0<=r;r--){var i=this.htmlArr[r];if(i&&"no"!=i.isFindDom&&e.lv==i.lv)return i}return null},_XIYUETA.prototype.upFindSameNameObj=function(t,e){for(var r=t-1;0<=r;r--){var i=this.htmlArr[r];if(i&&"no"!=i.isFindDom&&e.label=="/"+i.label)return i}return null},_XIYUETA.prototype.reairHtmlLv=function(t,e){for(var r=t.nIndex;r<=this.htmlArr.length-1;r++)(t=this.htmlArr[r])&&(t.lv+=e)},_XIYUETA.prototype.htmlColor=function(t){if("</"==t.substr(0,2))return"<font color='#800000'>"+t.replace("<","&lt;").replace(">","&gt;")+"</font>";if("<"!=t.substr(0,1))return"<font color='#000000'>"+t+"</font>";if("\x3c!--"==t.substr(0,4))return"<font color='#008000'>"+t.replace("<","&lt;").replace(">","&gt;")+"</font>";for(var e="",r="",i="",s=!1,l="",n="",h="",o=0;o<=t.length-1;o++){var a=t.substr(o,1);"findValueStart"==l?(s?a==i||">"==a?(n+=h+"<font color='#0000FF'>"+r+h+"</font>",s=!1,h=i=h="",l="findParamStart"):r+=a:'"'==a||"'"==a?(h+=a,i=a,s=!0):" "!=a?(i=" ",r=a,s=!0):h+="&nbsp;",">"==a&&(n+="<font color='#800000'>&gt;</font>")):"<"==a?(h="&lt;",l="findLabel"):"findLabel"==l?" "==a?(n+="<font color='#800000'>"+h+"</font> ",h="",l="findParamStart"):">"==a?n+="<font color='#800000'>"+h+"&gt;</font>":h+=a:">"==a?n+="<font color='#800000'>&gt;</font>":"findParamEnd"==l?"="==a?(l="findValueStart",n+="<font color='#FF0000'>"+e+"</font><font color='#000000'>=</font>",e=i=r=""):e+=a=" "==a?"&nbsp;":a:(l="findParamEnd",e+=a=" "==a?"&nbsp;":a)}return n},xiyueta.fullurl=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.resolve=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.getUrlFileName=function(t,e){return _xyt.common.getUrlFileName(t,e)},xiyueta.bystesLength=function(t){return _xyt.common.bystesLength(t)},xiyueta.renderSize=function(t){return _xyt.common.renderSize(t)},xiyueta.secondToDate=function(t){return _xyt.common.secondToDate(t)},xiyueta.timeFormat=function(t,e){var r=new Date,i="yyyy-MM-dd hh:mm:ss";return 1==arguments.length?"object"==typeof t?r=t:"string"==typeof t&&(i=t):2==arguments.length&&("object"==typeof t&&(r=t),"string"==typeof e&&(i=e)),_xyt.common.timeFormat(r,i)},xiyueta.getDomain=function(t){return _xyt.common.getDomain(t)},xiyueta.htmlColor=function(t){return _xyt.htmlColor(t)},xiyueta.lv=function(){return _xyt.lv},xiyueta.htmlerr=function(){return _xyt.isHtmlErr},xiyueta.config=function(t){t=_xyt.setConfig(t);return null==t?this:t},xiyueta.charset=function(t){return null==t?_xyt.charset():(_xyt.charset(t),this)},xiyueta.debug=function(t){return xiyueta().debug(t)},xiyueta.load=function(t,e){return xiyueta().parse(t,e),this},xiyueta.html=function(t){return _xyt.printHTML(t)},xiyueta.fn.extend({swap:function(t){return _xyt.swap(this.domList,t),this},item:function(t){return _xyt.getItem(this.domList,t)},handle:function(t,e,r){return _xyt.getHandleSrc(this.selector,t,e,r)},replace:function(t,e,r){return _xyt.replace(this.selector,t,e,r)},clear:function(){return this},repair:function(t,e){return _xyt.repairHTML(t,e)}}),_XIYUETA.prototype.scan=function(t){t="|"+(t=null==t?"":t)+"|";var e=0,r=[],i=!1,s="",l="",n=[],h=this.charset();s+="网页编码="+(h=null==h?"":h)+"\n",s+="网页大小="+this.common.getFileSize(this.common.bystesLength(this.htmlSource))+"\n";for(var o=0;o<=this.htmlArr.length-1;o++)(m=this.htmlArr[o])&&"/"!=m.label.substr(0,1)&&""!=m.label&&(-1==("|"+l+"|").indexOf("|"+m.label+"|")?(""!=l&&(l+="|"),l+=m.label,n[m.label]=1):n[m.label]++);for(var a=l.split("|"),u="",o=0;o<=a.length-1;o++){var f=a[o];u+=f+"("+n[f]+") "}var m=this.repairHTML();s+="网页LV="+this.lv+"\n",s+="网页错误标签数="+m.err+"\n",s+="网页错误标签为="+m.errList+"\n",s+="网页错误标签是否可修复="+m.state+"\n",s+="网页类型标签数="+a.length+"种 "+u+"\n",this.config.downcss=0;for(var c=xiyueta("link[rel|NOUL=stylesheet]").item("href"),d=xiyueta("script").item("src"),o=0;o<=this.htmlArr.length-1;o++)null!=(m=this.htmlArr[o])&&("body"==m.label?(e=m.lv,i=!0):0==i&&-1!="|div|span|table|ul|".indexOf("|"+m.label+"|")?(r.push(m.html),i=!0):i&&m.lv-e==1&&2==m.tagpair&&"/"!=m.label.substr(0,1)&&"!--"!=m.label&&"script"!=m.label.substr(0,6)&&r.push(m.html),"link"==m.label&&"stylesheet"==m.rel&&(p=this.common.fullHttpUrl(this.config.httpurl,m.href),-1!=t.indexOf("|downcss|")&&null==m.content&&(this.getUrlStr(m,p),this.config.downcss++,alert("下载CSS"+p))));if(s+="共有CSS文件 "+c.length+" 条\n",s+="共有JS文件 "+d.length+" 条\n",s+="一层标签共 "+r.length+" 条\n",s+="\n",""!=c){s+="CSS列表:\n";for(o=0;o<=c.length-1;o++)s+=(p=this.common.fullHttpUrl(this.config.httpurl,c[o]))+"\n"}if(""!=d){s+="\n\nJS列表:\n";for(var p,o=0;o<=d.length-1;o++)s+=(p=this.common.fullHttpUrl(this.config.httpurl,d[o]))+"\n"}if(""!=r){s+="\n\n一层标签列表:\n";for(o=0;o<=r.length-1;o++)s+=r[o]+"\n"}return s},xiyueta.fn.extend({scan:function(t){return _xyt.scan(t)}}),_XIYUETA.prototype.cutLabel=function(t,e){for(var r="",i=0;i<=this.htmlArr.length-1;i++)null!=(m=this.htmlArr[i])&&("/style"==m.label?r+=m.upHtml:"link"==m.label&&"stylesheet"==m.rel&&(r+=m.content));var s="*,body,",l=-1;if(""!=(c=this.getDocument(t))){var n=c=c.replace(/,/,""),h=c;-1!=c.indexOf("|")&&(n=(a=c.split("|"))[0],h=a[1]);for(var o,i=n;i<=parseInt(h)-1;i++)null!=(m=this.htmlArr[i])&&"/"!=m.label.substr(0,1)&&(-1==l&&(m.label,l=m.lv),l+1==m.lv&&m.label,l+2==m.lv&&m.label,l+3==m.lv&&m.label,s+=m.label+",",null!=(o=this.handleLabelParam(m,"id"))&&(s+="#"+o.toLowerCase()+","),null!=(o=this.handleLabelParam(m,"class"))&&(s+="."+o.toLowerCase().replace(/ /g,",.")+","));for(var a=s.split(","),s="",i=0;i<=a.length-1;i++)-1==(","+s+",").indexOf(","+a[i]+",")&&(""!=s&&(s+=","),s+=a[i]);var u="",f=new _XIYUETACSS;f.cssParse(r);for(var m,i=0;i<=f.cssArr.length-1;i++)if(null!=(m=f.cssArr[i]))for(var c=","+m.label+",",d=(m.label,0);d<=a.length-1;d++)-1==c.indexOf(","+a[d]+",")&&-1==c.indexOf(","+a[d]+" ")||-1==("\n"+u+"\n").indexOf("\n"+m.html+"\n")&&(u+=m.html+"\n");xiyuetaCSS().parse(u),""!=(u=xiyuetaCSS().print("zip"))&&(u="<style>"+u+"\n</style>\n");n=xiyueta(t).htmlwrap();this.parseHTML(n);n=u+this.printHTML("format")}return n},_XIYUETA.prototype.getUrlStr=function(e,r){var i=this;jQuery.ajax({url:this.config.serverurl+"?act=getUrlStr&n="+Math.random(),type:"POST",data:{httpurl:r},error:function(t,e,r){},success:function(t){xiyuetaCSS().parse(t),xiyuetaCSS().css("|url","server="+r),e.content=xiyuetaCSS().print(),i.config.downcss--,0==i.config.downcss?alert(" 下载全部CSS完成，可以点击下一步了 "):alert(" 下载CSS完成,还乘"+i.config.downcss)}})},xiyueta.fn.extend({cutlabel:function(t){return _xyt.cutLabel(this.selector,t)}}),XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",r=t.indexOf("://");for(-1!=r&&(e=t.substr(0,r+3),t=t.substr(r+3));-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var i=[],s=0,l=t.split("/"),n=0;n<=l.length-1;n++)".."==(h=l[n])?(0==s?s=n-1:--s,0<=s&&delete i[s]):(i.push(h),s=0);for(t="",n=0;n<=i.length-1;n++){var h=i[n];null!=i[n]&&(""!=t&&(t+="/"),t+=i[n])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){if(null==e)return"";if(""==(e=e.replace(/\\/g,"/"))||"./"==e)return"";var r,i="",s="",l="",n=t.indexOf("://");return s=-1!=n?(i=t.substr(0,n+3),n=(r=t.substr(n+3)).lastIndexOf("/"),l=i+r.substr(0,n+1),n=r.indexOf("/"),i+r.substr(0,n+1)):(n=t.lastIndexOf("/"),l=t.substr(0,n+1),n=t.indexOf("/"),t.substr(0,n+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?s+e:l+e),this.handleFileUrl(e)},XiyuetaCommon.prototype.getUrlFileName=function(t,e){if(null==e&&(e=""),""==t||null==t)return"";var r=(t=t.replace(/\\/g,"/").trim()).split("/"),i=r[r.length-1],s="",t="";return-1!=(i=-1!=i.indexOf("?")?i.substr(0,i.indexOf("?")):i).indexOf(".")&&(r=i.lastIndexOf("."),s=i.substr(0,r),t=i.substr(r+1).toLowerCase()),""==s?"":("image"==e?""==t?i+=".jpg":-1=="|bmp|jpg|jpeg|gif|png|".indexOf("|"+t+"|")&&(i=s+".jpg"):"css"==e?""==t?i+=".css":-1=="|css|".indexOf("|"+t+"|")&&(i=s+".css"):"js"==e?""==t?i+=".js":-1=="|js|".indexOf("|"+t+"|")&&(i=s+".js"):i=s+"."+t,i)},XiyuetaCommon.prototype.setFileNameA=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"pie")).replace(/\//g,"la")).replace(/:/g,"maohao")).replace(/\*/g,"xin")).replace(/\?/g,"wen")).replace(/"/g,"yinhao")).replace(/</g,"zou")).replace(/>/g,"you")).replace(/\|/g,"heng")).replace(/\./g,"juhao")).replace(/,/g,"douhao")).replace(/&nbsp;/g," ")).replace(/&quot;/g,"shuang")).replace(/\n/g,"")},XiyuetaCommon.prototype.checkUrl=function(t){return!!/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i.test(t=null==t?"":t)},XiyuetaCommon.prototype.getDomain=function(t){if("string"!=typeof t)return"";if(-1<t.indexOf("//")){var e=t.indexOf("//",1),e=t.substring(e+1,t.length),t=e.indexOf("/",1);return e=e.substring(1,t)}return""},_XIYUETA.prototype.replaceTplLabel=function(t,e){if(null==t)return!1;var r,i=xiyueta(t).domlabel(2);"<a></a>"==i?((r=xiyueta(t).find("a")).attr("href",e.url),null!=r.attr("title")&&r.attr("title",e.title),r.html(e.title)):""==i&&"a"==xiyueta(t).getlabel()&&(xiyueta(t).attr("href",e.url),null!=xiyueta(t).attr("title")&&xiyueta(t).attr("title",e.title),xiyueta(t).html(e.title))},_XIYUETA.prototype.setTplConfig=function(t){if(null==t)return this.tplConfig;"object"==typeof t&&(null!=t.type&&(this.tplConfig.type=t.type),null!=t.minrow&&(this.tplConfig.minrow=t.minrow),this.tplConfig.nav={},this.tplConfig.news={},"dedecms"==this.tplConfig.type?(this.tplConfig.webTitle="{dede:global.cfg_webname/}",this.tplConfig.webKeywords="{dede:global.cfg_keywords/}",this.tplConfig.webDescription="{dede:global.cfg_description/}",this.tplConfig.nav.for="{dede:channel type='top' row='{%row%}'}\n",this.tplConfig.nav.title="[field:typename/]",this.tplConfig.nav.url="[field:typeurl/]",this.tplConfig.nav.end="{/dede:channel}",this.tplConfig.news.for="{dede:arclist titlelen='60' row='{%row%}'}\n",this.tplConfig.news.title="[field:title/]",this.tplConfig.news.url="[field:arcurl/]",this.tplConfig.news.image="[field:image/]",this.tplConfig.news.about="[field:title/]",this.tplConfig.news.body="[field:title/]",this.tplConfig.news.time="[field:pubdate function=\"MyDate('Y-m-d H:i',@me)\"/]",this.tplConfig.news.time1="[field:pubdate function=\"MyDate('Y-m-d',@me)\"/]",this.tplConfig.news.end="{/dede:arclist}"):(this.tplConfig.webTitle="<%=webTitle%>",this.tplConfig.webKeywords="<%=webKeywords%>",this.tplConfig.webDescription="<%=webDescription%>",this.tplConfig.nav.for='<%rs.open "select * from " & db_PREFIX & "WebColumn where parentId=-1 and isThrough=1 order by sortRank asc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.nav.focus="<%if isFocusNav(rs) then%>\n",this.tplConfig.nav.title='<%=rs("columnName")%>',this.tplConfig.nav.url='<%=getNavUrl(rs("id"),rs("columnType"))%>',this.tplConfig.nav.end="<%rs.movenext:next:rs.close%>",this.tplConfig.news.for='<%rs.open "select * from " & db_PREFIX & "ArticleDetail where parentId in("& getNameToAllId("{%did%}") &") order by sortRank desc" ,conn,1,1\nfor i=1 to {%row%}\nif rs.eof then exit for\n%>\n',this.tplConfig.news.focus="<%if i=1 then%>\n",this.tplConfig.news.title='<%=rs("title")%>',this.tplConfig.news.url='detail.asp?id=<%=rs("id")%>',this.tplConfig.news.image='<%=rs("smallimage")%>',this.tplConfig.news.about='<%=rs("aboutContent")%>',this.tplConfig.news.body='<%=cutStr(rs("bodyContent"),260,"...")%>',this.tplConfig.news.time='<%=rs("addDateTime")%>',this.tplConfig.news.time1='<%=format_Time(rs("addDateTime"),2)%>',this.tplConfig.news.end="<%rs.movenext:next:rs.close%>"))},xiyueta.tplconfig=function(t){return _xyt.setTplConfig(t)},xiyueta.autoFindTpl=function(t,e,r){null!=t&&xiyueta.tplconfig(t),"number"!=typeof e&&(e=3);var i,s,t=xiyueta.tplconfig().minrow;return null==r?(i=xiyueta("body").getlv(),0<xiyueta(i=null!=i?"body :lv("+(i+1)+")":":lv(1)").findWithItem(t).length?-1<(s=xiyueta(i).findWithItem(t).find("a").text()).indexOf("首页")?xiyueta(i).findWithItem(t).nav():xiyueta(i).findWithItem(t).news():0<e&&xiyueta(i).each(function(){xiyueta.autoFindTpl(void 0,--e,this)})):(s=xiyueta(r).children().findWithItem(t).find("a").text(),0<xiyueta(r).children().findWithItem(t).length?-1<s.indexOf("首页")?xiyueta(r).children().findWithItem(t).nav():xiyueta(r).children().findWithItem(t).news():0<e&&xiyueta(r).children().each(function(){xiyueta.autoFindTpl(void 0,--e,this)})),i},xiyueta.fn.extend({findWithItem:function(t,e){var r="|div|span|ul|li|tr|a|",i=_xyt.tplConfig.minrow;1==arguments.length?"string"==typeof t?r="|"+t.replace(/\s+/g,"").replace(/,/g,"|")+"|":"number"==typeof t&&(i=t):2==arguments.length&&("string"==typeof t&&(r="|"+t.replace(/\s+/g,"").replace(/,/g,"|")+"|"),"number"==typeof e&&(i=e));for(var s,l,n=[],h=0,o="",a=this.domList.split(","),u=1;u<=a.length-1;u++){var f,m,c,d=a[u];-1!=d.indexOf("|")&&(m=d.split("|"),f=parseInt(m[0]),c=parseInt(m[1]),m=xiyueta({x:f,y:c}).getlabel(),-1!=r.indexOf("|"+m+"|")&&(c=xiyueta({x:f,y:c}).domlabel(2),null==s?(s=c,o=","+d,h=1):s==c?(o+=","+d,h++):(n.push({count:h,c:o}),s=c,o=","+d,h=1)))}""!=o&&n.push({count:h,c:o});for(u=0;u<n.length;u++){var p=n[u];(null==l||p.count>l.count)&&(l=p)}if(this.domList="",this.length=0,null!=l){if((a=l.c.split(",")).length-1<i)return this;this.domList=l.c,this.length=a.length-1}return this},news:function(t){return this.nav(t,"news")},nav:function(t,e){var r,i,s,l,n,h="新闻资讯";"object"==typeof t?($.tplconfig(t),null!=r&&(r=t.row),null!=t.did&&(h=t.did)):null==$.tplconfig().webTitle&&$.tplconfig([]),e="news"==e?$.tplconfig().news:$.tplconfig().nav;var o=0;this.each(function(t,e){var r=$(this).domlabelwrap(2,"id class");0==t?((l=this).domHtml=r,l.count=1,this.x):l.domHtml==r?l.count++:null==n?((n=this).domHtml=r,n.count=1):n.domHtml==r?n.count++:alert(r),this.y,o++}),null==n?i=l:s=l.count>n.count?(i=l,n):(i=n,l),_xyt.replaceTplLabel(i,e),null==r&&(r=o);var a=e.for.replace("{%row%}",r).replace("{%did%}",h);return null!=s?(_xyt.replaceTplLabel(s,e),a+=e.focus+$(s).htmlwrap()+"\n<%else%>\n"+$(i).htmlwrap()+"\n<%end if%>"):a+=$(i).htmlwrap(),a+="\n"+e.end,this.each(function(t,e){0==t?$(this).htmlwrap(a):$(this).remove(!0)}),a},webtpl:function(t,e){var r,i;if(1==arguments.length?"object"==typeof t?r=t:"number"==typeof t&&(i=t):2==arguments.length&&("object"==typeof t&&(r=t),"number"==typeof e&&(i=e)),null!=this.domList)for(var s=this.domList.split(","),l=1;l<=s.length-1;l++){var n,h=s[l];-1<h.indexOf("|")?(n=h.split("|"),xiyueta.autoFindTpl(r,i,{x:n[0],y:n[1]})):xiyueta.autoFindTpl(r,i,{x:h,y:h})}}});