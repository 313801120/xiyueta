/*! xiyueta v1.3.9 | Author xiyueta Adream http://xiyueta.com/ | Released under the MIT license  */
String.prototype.trim=function(){return(this+"").replace(/(^\s*)|(\s*$)/g,"")};var _CONSOLE=function(){this.log=function(){for(var t="<table><tr>",e=0;e<arguments.length;e++)t+="<td valign='top'>"+xiyueta.getLogItem(arguments[e])+"</td>";t+="</tr></table>",response.write(t)}},console=new _CONSOLE;function XiyuetaCommon(){for(var e={},t="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),r=0;r<t.length;r++){var s=t[r];e["[object "+s+"]"]=s.toLowerCase()}this.toType=function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?e[Object.prototype.toString.call(t)]||"object":typeof t},this.isSpaceBr=function(t){return"string"==this.toType(t)&&(" "==t||"\t"==t||"\n"==t||"\r"==t)},this.copyStr=function(t,e){for(var r="",s=1;s<=e;s++)r+=t;return r},this.timeFormat=function(t,e){var r,s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?s[r]:("00"+s[r]).substr((""+s[r]).length)));return e},this.secondToDate=function(t){t=parseFloat(t)/1e3;return t=null!=t&&""!=t?60<t&&t<3600?parseInt(t/60)+" 分钟 "+parseInt(60*(parseFloat(t/60)-parseInt(t/60)))+" 秒 ":3600<=t&&t<86400?parseInt(t/3600)+" 小时 "+parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))+" 分钟 "+parseInt(60*(parseFloat(60*(parseFloat(t/3600)-parseInt(t/3600)))-parseInt(60*(parseFloat(t/3600)-parseInt(t/3600)))))+" 秒 ":parseInt(t)+" 秒 ":t},this.bystesLength=function(t){for(var e=0,r=0;r<t.length;r++)255<t.charCodeAt(r)?e+=2:e++;return e},this.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},this.renderSize=function(t){var e,r;return null==t||""==t?"0 Bytes":(e=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),r=0,t=parseFloat(t),r=Math.floor(Math.log(t)/Math.log(1024)),(t/Math.pow(1024,r)).toFixed(2)+e[r])},this.isArray=function(t){return"object"==typeof t&&t.constructor==Array},this.toTrimLCase=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},this.htmlTranscoding=function(t){return t.replace(/\t/g,"    ").replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g," <br>")},this.checkPositiveNumber=function(t){return!!/^([0-9]*|-[0-9]*)$/.test(t)},this.getRGBColor=function(t,e,r){return sR=t.toString(16),sG=e.toString(16),sB=r.toString(16),1==sR.length&&(sR="0"+sR),1==sG.length&&(sG="0"+sG),1==sB.length&&(sB="0"+sB),"#"+sR+sG+sB}}var _XIYUETA=function(){"use strict";this.version="1.3.9-beta.15",this.htmlSource="",this.htmlArr=[],this.lv=0,this.isHtmlErr=!1,this.common=new XiyuetaCommon,this.config={serverurl:"/api/downWeb/default.asp",httpurl:"",jsdir:"js/",cssdir:"css/",imagesdir:"images/",urlToNameList:"",urlDefaultFileName:"default"},this.tplConfig={type:"xiyuetacms",minrow:4},this.singleLabelList="|embed|path|source|br|hr|img|link|meta|param|input|!doctype|rect|line|col|wbr|base|basefont|area|",this.toType=this.common.toType,this.isSpaceBr=this.common.isSpaceBr,this.parseHTML=function(t){this.htmlSource=t+="";var e="",r="",s="",i="",l=!(this.htmlArr=[]),n=!1,h=!1,a=!1,o=!1,u=!1,f=0,m=!1,c="",d=0,p=-1,g=-1;this.isHtmlErr=!1;for(var b=0;b<this.htmlSource.length;b++){var x,y,v,L,A=e,e=this.htmlSource.substr(b,1);l?(s+=e,1==d?-1==" \n\r\t".indexOf(e)&&(d=2,c="'"!=e&&'"'!=e?"":e,">"==e)&&(d=0,n=!1):2!=d&&(3==d?(c==e||""==c&&">"==e)&&(d=4):4==d&&m&&(e==c||""==c&&">"==e||""==c&&-1!=" \n\r\t".indexOf(e))&&(m=!1,c="",d=0)),a?">"==e&&"--\x3e"==s.substr(s.length-3,3)&&(h=l=a=!1,this.htmlArr.push({_index:++g,lv:f+1,label:"!--",upHtml:i,downHtml:"",html:s,attribute:[],tagpair:1}),p=-1,e=r=i=s=""):n&&"\x3c!--"==s?a=!0:o?">"==e&&"%"==A&&(h=l=o=!1,s=i+s,i="",p=-1):n&&"<%"==s?o=!0:u?">"==e&&"?"==A&&(h=l=u=!1,s=i+s,i="",p=-1):n&&"<?"==s?u=!0:-1!=" \n\r\t".indexOf(e)&&n?n=!1:"<"==e?"%"==(L=this.htmlSource.substr(b+1,1).toLowerCase())?0<(x=this.htmlSource.substr(b+1).indexOf("%>"))&&(s+=this.htmlSource.substr(b+1).substr(0,x+2),b+=x+2):"?"==L?0<(x=this.htmlSource.substr(b+1).indexOf("?>"))&&(s+=this.htmlSource.substr(b+1).substr(0,x+2),b+=x+2):0==d&&-1=="abcdefghijklmnopqrstuvwxyz".indexOf(r.substr(0,1))&&(l=n=!1,s=i,b--):2==d?d=3:3==d?(m=!0,d=4):4==d&&m?(e==c||""==c&&">"==e||""==c&&-1!=" \n\r\t".indexOf(e))&&(m=!1,c="",d=0):"="==e?(d=1,c=""):">"==e&&(l=n=!1,A=2,"/"==r.substr(0,1)?-1!=this.singleLabelList.indexOf("|"+r.substr(1).toLowerCase()+"|")?(f++,h=!0,r=r.substr(A=1).trim()):h=!0:(f++,"/"!=r.substr(r.length-1,1)&&-1==this.singleLabelList.indexOf("|"+r.toLowerCase()+"|")||(h=!0,A=1,r=r.replace(/\//g,"").trim())),y=r.toLowerCase(),this.htmlArr.push({_index:++g,lv:f,label:y,upHtml:i,downHtml:"",html:s,attribute:[],tagpair:A}),f<1&&(this.isHtmlErr=!0),r=i=s="",h&&(f--,h=!1),"script"==y?(v=this.htmlSource.substr(b+1).toLowerCase().indexOf("<\/script>"),s=this.htmlSource.substr(b+1,v),b+=v):"style"==y?(v=this.htmlSource.substr(b+1).toLowerCase().indexOf("</style>"),s=this.htmlSource.substr(b+1,v),b+=v):"textarea"==y&&(v=this.htmlSource.substr(b+1).toLowerCase().indexOf("</textarea>"),s=this.htmlSource.substr(b+1,v),b+=v)),n&&0==o&&0==u&&0==a&&"<"!=e&&(r+=e)):"<"==e&&(d=0,L=this.htmlSource.substr(b+1,1).toLowerCase(),-1!="abcdefghijklmnopqrstuvwxyz!/%?".indexOf(L))?(""!=r&&-1!=p&&(s+=this.htmlSource.substr(p,b-p)),i=s,s=e,h=!(n=l=!0),r="",p=b):s+=e}""!=s&&this.htmlArr.push({_index:++g,lv:f,label:"",upHtml:i,html:s,attribute:[],downHtml:""}),this.lv=f},this.parseattr=function(t){if(null==t)return[];if("!--"==t.label||"!doctype"==t.label)return[];var e,r,s=t.label.length+1,i=!1,l="",n="",h=!1,a=!1,o="",u=0,f=!1,m="",c="",d=[],p=s;d.push(["","",t.html.substr(0,s)]);for(var g=s;g<t.html.length;g++)e=c,c=t.html.substr(g,1),r=t.html.substr(g+1,1),h?a?f?(">"==c&&e==m&&(f=!1,m=""),n+=c):c==o||">"==c&&""==o||" "==o&&this.isSpaceBr(c)?(l=l.toLowerCase().trim(),d.push([l,n,t.html.substr(p,g-p+1),o,u-p]),p=g," "==o&&this.isSpaceBr(c)||p++,a=h=!1,o=""):">"==c&&g==t.html.length-1?(d.push([l.toLowerCase().trim(),n,t.html.substr(p,g-p),o,u-p]),p=-1,d.push(["","",">"])):"<"!=c||"%"!=r&&"?"!=r?n+=c:(f=!0,n+=c,m=r):'"'==c||"'"==c?(o=c,u=g,a=!0):0==this.isSpaceBr(c)&&(o=" ",u=g-1,a=!0,">"==(n=c))&&g==t.html.length-1&&(d.push([l.toLowerCase().trim(),void 0,t.html.substr(p,g-p),o,u-p]),p=-1,d.push(["","",">"])):">"==c&&0==i||(i?f?">"==c&&e==m&&(f=!1):"="==c?(h=!(i=!1),o=n=""):0==this.isSpaceBr(c)&&(-1!=l.indexOf(" ")||-1!=l.indexOf("\r")||-1!=l.indexOf("\n")||-1!=l.indexOf("\t"))||">"==c||"/"==c?"/"==c||">"==c?(g--,i=!1,d.push([l.toLowerCase().trim(),void 0,t.html.substr(p,g-p+1),""]),p=g+1):(d.push([l.toLowerCase().trim(),void 0,t.html.substr(p,g-p-1),""]),p=g-1,i=!0,l=c,0):"<"!=c||"%"!=r&&"?"!=r?l+=c:(f=!0,m=r):0==this.isSpaceBr(c)&&(i=!0,l=c,0));return-1!=p&&d.push(["","",t.html.substr(p,g-p+1)]),t.attribute=d,t.attribut},this.handleLabelParam=function(t,e,r){if(null!=t&&"!--"!=t.label&&"!doctype"!=t.label){var s="get";null!=r&&(s="set",""==(r+=""))&&(s="del"),0==t.attribute.length&&this.parseattr(t);for(var i,l,n,h=0;h<t.attribute.length;h++)if(e==t.attribute[h][0]){if("get"==s)return(u=null==(u=t.attribute[h][1])?"":u).replace(/&quot;/g,'"');if("del"==s){for(var a="",o=0;o<t.attribute.length;o++)o!=h&&(a+=t.attribute[o][2]);return t.html=a,t.attribute=[],!0}if("set"==s){for(var u,f,a=t.attribute[h][2],m=t.attribute[h][3].trim(),a=(null==t.attribute[h][1]?(f=" "+t.attribute[h][2].trim()+'="',m='"'):(u=t.attribute[h][4],f=a.substr(0,u+1)),f+(r='"'!=m||-1==r.indexOf('"')||-1!=r.indexOf("<%")&&-1!=r.indexOf("%>")||-1!=r.indexOf("<?")&&-1!=r.indexOf("?>")?r:r.replace(/"/g,"&quot;"))+m),c=(t.attribute[h][1]=r,t.attribute[h][2]=a,""),o=0;o<t.attribute.length;o++)c+=t.attribute[o][2];return t.html=c,!0}}return"set"==s?(i=" ","/>"==(l=t.html.substr(t.html.length-2))?(a=t.html.substr(0,t.html.length-2),l=" />"):(l=">",a=t.html.substr(0,t.html.length-1)),n=a.substr(a.length-1),-1!=" \t\n\r".indexOf(n)&&(i=""),-1==r.indexOf(m='"')||-1!=r.indexOf("<%")&&-1!=r.indexOf("%>")||-1!=r.indexOf("<?")&&-1!=r.indexOf("?>")||(r=r.replace(/"/g,"&quot;")),t.html=a+=i+e+"="+m+r+m+l,t.attribute=[],!0):"del"!=s&&void 0}},this.getLabelParamList=function(t,e){if(null==e&&(e="name"),0==(t=this.handleDomList(t)).length)return[];for(var r=this.htmlArr[t[0].x],s=(this.parseattr(r),[]),i=0;i<r.attribute.length;i++){var l,n=r.attribute[i][0];""!=n&&("value"==e?(l=r.attribute[i][1],s.push(l)):s.push(n))}return s},this.beautyHtml=function(t){if("!--"==t.label||"!doctype"==t.label||"</"==t.html.substr(0,2))return t.html;this.parseattr(t);for(var e="",r=0;r<t.attribute.length;r++){var s,i=t.attribute[r][0],l=t.attribute[r][1],n=t.attribute[r][2];""!=i?null==l?e+=" "+(i=0==this.checkTagAttrExist(t.label,i)?t.attribute[r][2].trim():i):(0==this.checkTagAttrExist(t.label,i)&&(s=n.indexOf("="),i=n.substr(0,s).trim()),e+=" "+i+'="'+(l=l.replace(/"/g,"&quot;"))+'"'):(n=t.attribute[r][2].trim(),e+=n=0==r&&"<!doctype"==(n=n.toLowerCase())?"<!DOCTYPE":n)}return e},this.parsejquery=function(t){if(""==(t=t.trim()))return[];":"==t.substr(0,1)||"["==t.substr(0,1)?t="*"+t:">"==t&&(t="*:eq(0)");for(var e="",r="",s="",i="",l=-1,n="",h=[],a=0;a<t.length;a++){var o=n,n=t.substr(a,1);t.substr(a+1,1);""==e?(l=0,i=s=r="",","==n||">"==n?h.push([n]):-1!=".#>:[".indexOf(n)?":"==(e=n)&&">"!=h[h.length-1]&&this.isSpaceBr(o)&&h.push(["tag","*"]):0!=this.isSpaceBr(n)&&"*"!=n||(e="tag",r=n)):"tag"==e||"."==e||"#"==e?-1!=" \n\r\t:[>,".indexOf(n)?(h.push([e,r]),r=e="",l=0,a--):0==this.isSpaceBr(n)&&(r+=n):":"==e?0==l?"("==n?(l=1,i=s=""):this.isSpaceBr(n)?(h.push([e,r]),e=""):","==n?(h.push([e,r]),e="",a--):r+=n:1==l?0==this.isSpaceBr(n)&&("'"==n||'"'==n?(l=2,i=n):(s+=n,l=3)):2==l?n==i?l=3:s+=n:3==l&&(")"==n?(h.push([e,r,s]),r=e=""):(","==n&&(l=1),s+=n)):"["==e&&(0==l?"="==n?(l=1,i=s=""):"]"==n?(h.push([e,r]),e=""):r+=n:1==l?0==this.isSpaceBr(n)&&("'"==n||'"'==n?(l=2,i=n):(s=n,l=3)):2==l?n==i?l=3:s+=n:3==l&&("]"==n?(h.push([e,r,s]),r=e=""):s+=n))}""!=e&&h.push([e,r,s]);for(var u=[],f=[],a=0;a<h.length;a++){var m,c=h[a];","==c[0]?(1==f.length&&">"==f[0]&&((f=[]).push(["tag","*"]),f.push([":","eq","0"])),u.push(f),f=[],a+1<h.length&&(":"==(m=h[a+1])[0]||"["==m[0]?f.push(["tag","*"]):">"==m[0]&&a+1==h.length-1&&(f.push(["tag","*"]),f.push([":","eq","0"]),a++))):f.push(c)}return 0<f.length&&u.push(f),u},this.getDocument=function(t,e,r,s,i,l){if("string"!=this.toType(e))return[];if(null==i&&(i=!1),""==(e=e.trim()))return[];if(null==t&&(t=[]),0==this.htmlArr.length)return console.log("%c You need to parse a piece of html text first","font-size:16px;color:#FF3300"),"";null==r&&(r=0),null==s&&(s=this.htmlArr.length-1);for(var n=[],h=this.parsejquery(e,t),a=0;a<h.length;a++){for(var o=h[a],u=0,f=[],m=0;m<o.length;m++){var c=o[m][0],d=o[m][1],p=o[m][2],g="",b=[];if(0==u){var x,y=!0;if(0<t.length&&(x=c,":"!=(x="*"==d&&(x="",2<=o.length)?o[1][0]:x)&&"["!=x||(f=t,y=!1)),y&&(g={type:"",name:"",nFocus:-1.1},-1<(H=d.substr(1).lastIndexOf("."))?(g={type:".",name:d.substr(H+2).toLowerCase()},d=d.substr(0,H+1)):-1<(H=e.substr(1).lastIndexOf("#"))&&(g={type:"#",name:d.substr(H+2).toLowerCase()},d=d.substr(0,H+1)),"."==c?d="."+d:"#"==c&&(d="#"+d),f=this.serchDocument(d,r,s,g,b,l)),u=1,0==f.length){f=[];break}}else if(1==u){var v=[];if("["==c){var L=(d=d).substr(d.length-1,1),A="";-1!=(d=-1!="^|$~*!".indexOf(L)?d.substr(0,d.length-1):d).indexOf("|")&&(d=(S=d.split("|"))[0],"NOUL"==(A=S[1])?p=p.toLowerCase():"TRIM"==A?p=p.trim():"NOULTRIM"==A&&(p=p.toLowerCase().trim()));for(var _=0;_<f.length;_++){var O=f[_],w=this.attr(O,d),C=!0;null!=w&&("NOUL"==A?w=w.toLowerCase():"TRIM"==A?w=w.trim():"NOULTRIM"==A&&(w=w.toLowerCase().trim())),"^"==L?null!=w&&w.substr(0,p.length)==p||(C=!1):"|"==L?null!=w&&(w+"-").substr(0,p.length+1)==p+"-"||(C=!1):"$"==L?null!=w&&w.substr(-1*p.length)==p||(C=!1):"~"==L?null!=w&&-1!=(" "+w+" ").indexOf(" "+p+" ")||(C=!1):"*"==L?null!=w&&-1!=w.indexOf(p)||(C=!1):"!"==L?w==p&&(C=!1):null!=w&&"*"==p?C=!0:w!=p&&(C=!1),C&&v.push(O)}if(0==v.length){f=[];break}f=v}else if(":"==c){if("eq"==d)f=this.eq(f,p);else if("first"==d)f=this.eq(f,0);else if("last"==d)f=this.eq(f,-1);else if("even"==d)f=this.even(f);else if("odd"==d)f=this.odd(f);else if("lv"==d)f=this.findLv(f,p);else if("gt"==d)f=this.slice(f,p);else if("lt"==d)f=this.slice(f,0,p);else if("slice"==d)var S=p.split(","),f=this.slice(f,S[0],S[1]);else if("header"==d){v=[];if(xiyueta(f).each(function(){var t=xiyueta(this).find("h1,h2,h3,h4,h5,h6,,h7,h8,h9").domList;v=v.concat(t)}),0==v.length){f=[];break}f=v}else if("contains"==d){v=[];if(xiyueta(f).each(function(t){-1!=xiyueta(this).text().indexOf(p)&&v.push(f[t])}),0==v.length){f=[];break}f=v}else"siblings"==d?f=xiyueta(f).siblings().domList:"next"==d?f=xiyueta(f).next().domList:"nextAll"==d?f=xiyueta(f).nextAll().domList:"prev"==d?f=xiyueta(f).prev().domList:"prevAll"==d?f=xiyueta(f).prevAll().domList:"singlelabel"==d?f=xiyueta(f).singlelabel().domList:"doublelabel"==d?f=xiyueta(f).doublelabel().domList:"not"==d&&(f=xiyueta(f).not(p).domList);if(0==f.length)break}else if(-1!=".#".indexOf(c)||"tag"==c||">"==c&&m==o.length-1){for(var T=!1,v=(">"==c?(T=!0,d="*"):">"==o[m-1][0]&&(T=!0),[]),_=0;_<f.length;_++){var D,H,O=f[_],g=(T&&(D=this.htmlArr[O.x].lv,D=parseInt(D)+1),{type:"",name:"",nFocus:-1.1}),P=(-1<(H=d.substr(1).lastIndexOf("."))?(g={type:".",name:d.substr(H+2).toLowerCase()},d=d.substr(0,H+1)):-1<(H=e.substr(1).lastIndexOf("#"))&&(g={type:"#",name:d.substr(H+2).toLowerCase()},d=d.substr(0,H+1)),"."==c?d="."+d:"#"==c&&(d="#"+d),this.serchDocument(d,O.x+1,O.y-1,g,b,D));v=v.concat(P)}if(0==v.length){f=[];break}f=v}}}0<f.length&&(n=n.concat(f),n=this.delDomListDuplicate(n),f=[])}return n},this.delDomListDuplicate=function(t){if(t.length<=1)return t;for(var e="",r=-1,s=[],i=0;i<t.length;i++){var l,n=t[i];null!=n&&n&&(l=n.x+"|"+n.y,-1==(","+e+",").indexOf(","+l+","))&&(e+=","+l,r++,n.index=r,s.push(n))}return s},this.domListAsc=function(t){for(var e=[],r=-1,s=0;s<t.length;s++){for(var i,l=void 0,n=0;n<t.length;n++){var h=t[n];null!=h&&(null==l||h.x<l.x)&&(l=h,i=n)}r++,l.index=r,e.push(l),t[i]=void 0}return e},this.serchDocument=function(t,e,r,s,i,l){var n=!1,h=[],a=0,o=0,u=!1;null==l&&(l=-1);for(var f=e;f<=r;f++){var m=this.htmlArr[f];if(null!=m&&(-1==l||l==m.lv))if(n&&this.checkEndSelector(m,t)&&a==m.lv){n=!1,u&&(h[h.length-1].y=f);for(var u=!1,c=this.serchDocument(t,o+1,f,s,i,l),d=0;d<c.length;d++)h.push(c[d])}else if(this.checkStartSelector(m,t,s)&&0==n){2==m.tagpair&&(n=!0,a=m.lv);for(var o=f,p=!0,d=0;d<i.length;d++){var g=i[d].name,b=i[d].value,x=i[d].action,y=i[d].myaction;if(""!=g&&(null!=(g=this.handleLabelParam(m,g))&&("NOUL"==y?g=g.toLowerCase():"TRIM"==y?g=g.trim():"NOULTRIM"==y&&(g=g.toLowerCase().trim())),"^"==x?null!=g&&g.substr(0,b.length)==b||(p=!1):"|"==x?null!=g&&(g+"-").substr(0,b.length+1)==b+"-"||(p=!1):"$"==x?null!=g&&g.substr(-1*b.length)==b||(p=!1):"~"==x?null!=g&&-1!=(" "+g+" ").indexOf(" "+b+" ")||(p=!1):"*"==x?null!=g&&-1!=g.indexOf(b)||(p=!1):"!"==x?g==b&&(p=!1):null!=g&&"*"==b?p=!0:g!=b&&(p=!1)),0==p)break}p&&(h.push({index:h.length,x:f,y:f}),2==m.tagpair)&&(u=!0)}}return h},this.checkStartSelector=function(t,e,r){if(""!=t.label){var s=e+" ",i=t.label.substr(0,1),l=e.substr(0,1);if("/"!=i){if("*"==l)return"."==r.type?null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" "):"#"!=r.type||null!=(a=this.handleLabelParam(t,"id"))&&a.toLowerCase()==r.name;if("#"==l){var n=e.substr(1,s.indexOf(" ")-1);if(this.handleLabelParam(t,"id")==n)return""==r||("."==r.type?null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" "):"#"!=r.type||null!=(a=this.handleLabelParam(t,"id"))&&a.toLowerCase()==r.name)}else if("."==l){var h,a,n=e.substr(1,s.indexOf(" ")-1).toLowerCase();if(null==(h=" "+this.handleLabelParam(t,"class")+" "))return!1;if(-1!=(h=h.toLowerCase()).indexOf(" "+n+" "))return""==r||("."==r.type?null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" "):"#"!=r.type||null!=(a=this.handleLabelParam(t,"id"))&&a.toLowerCase()==r.name)}else if(t.label+" "==e.substr(0,t.label.length+1).toLowerCase()+" ")return"."==r.type?null!=(h=this.handleLabelParam(t,"class"))&&-1!=(" "+h.toLowerCase()+" ").indexOf(" "+r.name+" "):"#"!=r.type||null!=(a=this.handleLabelParam(t,"id"))&&a.toLowerCase()==r.name}}return!1},this.checkEndSelector=function(t,e){t.label.substr(0,1);var r=e.substr(0,1);return"*"==r||"#"==r||"."==r||t.label=="/"+e.substr(0,t.label.length-1).toLowerCase()},this.handleDomList=function(t){return"object"==this.toType(t)?null!=t.domList?t.domList:null!=t._index?[{index:0,x:t._index,y:t._index}]:[t]:"string"==this.toType(t)?this.getDocument([],t):t},this.each=function(t,e){return this.handleEach(t,!0,e)},this.arreach=function(t,e){return this.handleEach(t,!1,e)},this.handleEach=function(t,e,r){if("function"!=typeof r)return!1;null==e&&(e=!0),t=this.handleDomList(t);for(var s=[],i=0;i<t.length;i++){var l=t[i],n=r.call(l,i,l);if(l.value=n,s.push(l),e&&"boolean"==typeof n&&0==n)break}return s},this.find=function(t,e){if(null==t||null==e)return[];if(t=this.handleDomList(t),"object"==this.toType(e)){var r=e.domList;if(null==r)return[];for(var s=[],i=0;i<r.length;i++)for(var l=r[i].x,n=r[i].y,h=0;h<t.length;h++){var a=t[h].x,o=t[h].y;a<l&&l<o&&s.push(r[i])}}else for(var u,s=[],h=0;h<t.length;h++)(l=t[h].x)!=(n=t[h].y)&&(u=this.getDocument([],e,l+1,n-1),s=s.concat(u));return this.delDomListDuplicate(s)},this.add=function(t,e){t=this.handleDomList(t=null==t?[]:t);var r=[];return"number"==typeof e||"function"==typeof e||null==e||("object"==this.toType(e)?null!=e.domList?r=e.domList:null!=e.x&&null!=e.y&&(r=[e]):r=this.getDocument([],e+=""),""==r)?t:(e=[],e=t.concat(r),e=this.delDomListDuplicate(e),this.domListAsc(e))},this.not=function(t,e){t=this.handleDomList(t=null==t?[]:t);var r=[];if("number"==typeof e||"function"==typeof e)return t;if(null==e)return t;if(""==(r="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument(t,e+="")))return t;for(var s=[],i=0,l=0;l<t.length;l++){for(var n=t[l],h=!0,a=0;a<r.length;a++){var o=r[a];if(o.x==n.x&&o.y==n.y){h=!1;break}}h&&(n.index=i++,s.push(n))}return s},this.is=function(t,e){t=this.handleDomList(t=null==t?[]:t);var r=[];if("number"!=typeof e&&"function"!=typeof e&&null!=e&&""!=(r="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument([],e+="")))for(var s=0;s<t.length;s++)for(var i=t[s],l=0;l<r.length;l++){var n=r[l];if(n.x==i.x&&n.y==i.y)return!0}return!1},this.inside=function(t,e){return this.handleInsideOutside(t,e,"inside")},this.outside=function(t,e){return this.handleInsideOutside(t,e,"outside")},this.handleInsideOutside=function(t,e,r){t=this.handleDomList(t=null==t?[]:t);var s=[],i=(null==r&&(r="inside"),[]);if("number"==typeof e||"function"==typeof e)return[];if(null==e)return[];if(0==(i="object"==this.toType(e)?null!=e.domList?e.domList:[e]:this.getDocument([],e+="")).length)return[];for(var l=0;l<t.length;l++){for(var n=t[l],h=!0,a=0;a<i.length;a++){var o=i[a];if("outside"==r){if(!(o.x<n.x&&o.y>n.y)){h=!1;break}}else if("inside"==r&&!(o.x>n.x&&o.y<n.y)){h=!1;break}}h&&s.push(n)}return s},this.text=function(t,e){var r="get",t=this.handleTextHtml(t,e,"text",r=2<=arguments.length?"set":r);return t=null==t?"":t},this.html=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"html",r)},this.htmlwrap=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"htmlwrap",r)},this.handleTextHtml=function(t,e,r,s){if(null!=t&&!((t=this.handleDomList(t)).length<=0)){var i=this.toType(e);if("function"==i){for(var l=this.arreach(t,e),n=0;n<l.length;n++)l[n]&&this.handleTextHtml(l[n],l[n].value,r,s);return!1}if("set"==s){if("undefined"==i)return;if(null==e)e="";else if("boolean"==i&&"text"!=r)0==e?e="":e+="";else if("array"==i&&"text"!=r){for(var h="",n=0;n<e.length;n++)"boolean"==this.toType(e[n])&&0==e[n]&&(e[n]=""),h+=e[n];e=h}else"object"==i&&"text"!=r||"number"==i&&e+""=="NaN"&&"text"!=r?e="":e+="";"text"==r&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"))}for(h="",n=0;n<t.length;n++)if(null!=t[n])for(var a=t[n].x,o=t[n].y,u=a;u<=o;u++){var f=this.htmlArr[u];if(f)if("set"==s&&f.attribute&&(f.attribute=[]),"text"==r)u==a?"get"==s&&(h+=f.downHtml):u<o?"set"==s?delete this.htmlArr[u]:h+=f.upHtml+f.downHtml:u==o&&("get"==s?h+=f.upHtml:f.upHtml=e);else if(u==a)"get"==s?("htmlwrap"==r&&(h+=f.html),h+=f.downHtml):"htmlwrap"==r&&(f.html="",u==o)&&(f.upHtml+=e);else if(u<o)"set"==s?delete this.htmlArr[u]:h+=f.upHtml+f.html+f.downHtml;else if(u==o)if("get"==s){if(h+=f.upHtml,"htmlwrap"==r&&(h+=f.html),"get"==s)return h}else f.upHtml=e,"htmlwrap"==r&&(f.html="")}return"get"==s?h:void 0}},this.purehtml=function(t,e,r){var s="get",t=this.purehtmlarr(t,e,s=2<=arguments.length?"set":s,r);return t="array"==this.toType(t)?t.join(""):t},this.purehtmlarr=function(t,e,r,s){if(null!=t&&(null==s&&(s=0),!((t=this.handleDomList(t)).length<=0))){var i=this.toType(e);if("function"==i){for(var l=this.arreach(t,e),n=0;n<l.length;n++)l[n]&&this.handleTextHtml(l[n],l[n].value,action,r);return!1}"array"!=i&&(e=[e]);for(var h=-1,a="",n=0;n<t.length;n++)if(null!=t[n]){for(var o=t[n].x,u=t[n].y,f=this.htmlArr[o].lv,m=[],c=!1,d=null,p=o;p<=u;p++){var g=this.htmlArr[p];g&&(g.lv==f&&"/"==g.label[0]||g.lv-1==f&&"/"!=g.label[0])&&(h++,"set"==r?(null==d&&s==h&&(d=g),""!=g.upHtml.trim()||2<=e.length?(a="",e.length>h&&(a=e[h]),g.upHtml=a,c=!0):g.upHtml=""):m.push(g.upHtml))}if("set"==r&&0<=s&&0==c&&null!=d&&(d.upHtml=e[0]),"get"==r)return m}return[]}},this.handleCssParam=function(t,e,r){if(null==r)return l="a{"+(s=null==(s=this.attr(t,"style"))?"":s)+"}",$xytcss("a").parse(l).css(e);r+="";var s,i=s=null==(s=this.attr(t,"style"))?"":s,l="a{"+s+"}",n=($xytcss("a").parse(l).css(e,r),(n=$xytcss().print()).substr(2,n.length-3).trim());if(i.trim()!=n){if(2<=n.split(";").length){for(var h=1;h<4;h++)n=(n=n.replace(/ :/g,":").replace(/ ;/g,";")).replace(/: /g,":").replace(/; /g,";");n=n.replace(/:/g,": ").replace(/;/g,"; ").trim()}this.attr(t,"style",n)}},this.css=function(t,e,r){var s=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,r,"css",s)},this.attr=function(t,e,r){var s=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,r,"attr",s)},this.prop=function(t,e,r){var s=3<=arguments.length?"set":"get";return this.handleCssAttr(t,e,r,"prop",s)},this.handleCssAttr=function(t,e,r,s,i){if("function"==this.toType(r)){"attr"==s&&(e=e.toLowerCase());for(var l=this.each(t,r),n=0;n<l.length;n++)l[n]&&this.handleCssAttr(l[n],e,l[n].value,s,i);return!1}if("object"==this.toType(e)){for(var h in e){var a=h;"attr"==s&&(a=h.toLowerCase()),this.handleCssAttr(t,a,e[h],s,i)}return this}if(null!=t&&null!=e&&-1==(e+="").indexOf(" ")&&""!=e){"attr"==s&&(e=e.toLowerCase()),t=this.handleDomList(t);for(n=0;n<t.length;n++){var o=t[n];if("attr"==s){if("get"==i)return this.handleLabelParam(this.htmlArr[o.x],e);this.handleLabelParam(this.htmlArr[o.x],e,r)}else if("prop"==s){var u=this.htmlArr[o.x],f=this.checkTagAttrExist(u.label,e);if("get"==i)return 0==f?void 0:this.handleLabelParam(u,e);f&&this.handleLabelParam(u,e,r)}else{if("get"==i)return this.handleCssParam(o,e);this.handleCssParam(o,e,r)}}}},this.data=function(t,e,r){if(null==t||null==e)return!1;if(""!=e.trim()){e="data_"+e;var s="get",i=(t=this.handleDomList(t)).length;"get"==(s=3<=arguments.length?"set":s)&&(i=1);for(var l=0;l<i;l++){var n=this.htmlArr[t[l].x];if(n){if("get"==s)return n[e];n[e]=r}}}},this.removeAttr=function(t,e){if(null==t||null==e)return!1;if(""==e.trim())return!1;t=this.handleDomList(t);for(var r=e.split(" "),s=0;s<r.length;s++){var i=r[s];""!=i&&this.attr(t,i,"")}return!0},this.val=function(t,e){if(null!=t){var r=this.toType(e);if("function"==r){for(var s=this.each(t,e),i=0;i<s.length;i++)s[i]&&this.val(s[i],s[i].value);return!1}t=this.handleDomList(t);var l="get";if(2<=arguments.length){if(l="set","undefined"==r)return;null==e?e="":e+=""}if("get"==l){if(a=0<t.length?this.htmlArr[t[0].x]:a){if("textarea"==a.label)return this.html(t[0]);if("select"!=a.label)return this.handleLabelParam(a,"value");for(var n=(m=this.getDocument([],"option",o,u)).length,h=0;h<n;h++)m[h].x==m[h].y||null==this.attr(m[h],"selected")&&null!=f||(f=this.attr(m[h],"value"));return f}}else for(i=0;i<t.length;i++)if(null!=t[i]){var a,o=t[i].x,u=t[i].y;if(a=this.htmlArr[o])if(o!=u)if("textarea"==a.label)this.html(t[i],e);else if("select"==a.label)for(var f,m=this.getDocument([],"option",o,u),h=0;h<m.length;h++)m[h].x!=m[h].y&&(this.attr(m[h],"value")==e?this.attr(m[h],"selected","selected"):this.attr(m[h],"selected",null));else this.attr(t[i],"value",e);else this.attr(t[i],"value",e)}}},this.remove=function(t,e,r){var s="",i=!1;if(2==arguments.length?"string"==typeof e?s=e:"boolean"==typeof e&&(i=e):3==arguments.length&&("string"==typeof e&&(s=e),"boolean"==typeof r)&&(i=r),null!=t){if(null==(t=this.handleDomList(t)))return"";var l,n,h,a=[];if(null!=(l=null!=s&&-1!=(e=s.indexOf(":"))&&(h=r="",e=(s=s.substr(e+1)).indexOf("("),n=s.indexOf(")"),-1!=e&&-1!=n?(r=s.substr(0,e).toLowerCase(),n=(h=s.substr(e+1)).indexOf(")"),("'"==(e=(h=h.substr(0,n).replace(/-Space-/g," ").replace(/-MenHao-/g," ").trim()).trim()).substr(0,1)&&"'"==e.substr(e.length-1,1)||'"'==e.substr(0,1)&&'"'==e.substr(e.length-1,1))&&(h=e.substr(1,e.length-2))):r=s.toLowerCase(),"contains"==r)?h:l)){for(var o=0;o<t.length;o++)(u=t[o]).x!=u.y&&-1!=this.text(u).indexOf(l)&&a.push(u);t=a}for(o=0;o<t.length;o++)for(var u,f=t[o].x,m=t[o].y,c=f;c<=m;c++)(u=this.htmlArr[c])&&(c==f?(u.html="",u.label="",u.attribute&&(u.attribute=[]),i&&(u.upHtml="")):delete this.htmlArr[c]);return t}},this.addClass=function(t,e){var r=this.toType(e);if("function"==r){for(var s=this.each(t,e),i=0;i<s.length;i++)s[i]&&this.addClass(s[i],s[i].value);return!1}if(null!=t){if(t=this.handleDomList(t),"number"==r)return!1;if(null==t||null==e)return!1;if(this.common.isArray(e))var l=e;else{if(""==(e=(e+"").trim()))return!1;l=e.split(" ")}for(i=0;i<t.length;i++){for(var n=t[i],h=null!=(h=this.attr(n,"class"))?h.trim():"",a=0;a<l.length;a++)""!=l[a]&&-1==(" "+h+" ").indexOf(" "+l[a]+" ")&&(""!=h&&(h+=" "),h+=l[a]);this.attr(n,"class",h)}}},this.hasClass=function(t,e){if("number"!=typeof e&&null!=t&&null!=e&&""!=(e=e.trim())&&null!=t){t=this.handleDomList(t);for(var r=0;r<t.length;r++){var s=null!=(s=this.attr(t[r],"class"))?s.trim():"";if(""!=s&&-1!=(" "+s+" ").indexOf(" "+e+" "))return!0}}return!1},this.removeClass=function(t,e){if("function"==this.toType(e)){for(var r=this.each(t,e),s=0;s<r.length;s++)r[s]&&this.removeClass(r[s],r[s].value);return!1}if(null!=t){if(t=this.handleDomList(t),"array"==this.toType(e))var i=e;else{if(null==t||null==e)return!1;if(""==(e=(e+"").trim()))return!1;i=e.split(" ")}for(s=0;s<t.length;s++){var l=t[s];if(null!=(n=this.attr(l,"class"))){for(var n=" "+(n=n.trim())+" ",h=0;h<i.length;h++)""!=i[h]&&(n=n.replace(" "+i[h]+" "," "));this.attr(l,"class",n.trim())}}}},this.wrap=function(t,e,r){if(null!=t){t=this.handleDomList(t);for(var s=0;s<t.length;s++){var i=t[s].x,l=t[s].y;this.htmlArr[i].upHtml+=e,this.htmlArr[l].downHtml+=r}return this}},this.unwrap=function(t){if(null!=t){t=this.handleDomList(t);for(var e=0;e<t.length;e++){for(var r=t[e].x,s=t[e].y,i=this.htmlArr[r].lv-1,l=r;0<=l;l--){var n=this.htmlArr[l];if("object"==typeof n&&this.htmlArr[l].lv==i){n.html="";break}}for(l=s;l<this.htmlArr.length;l++){n=this.htmlArr[l];if("object"==typeof n&&this.htmlArr[l].lv==i){n.html="";break}}}return this}},this.append=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var r=this.each(t,e),s=0;s<r.length;s++)r[s]&&this.append(r[s],r[s].value);return!1}t=this.handleDomList(t);for(s=0;s<t.length;s++){var i=t[s].x,l=t[s].y;i!=l?this.htmlArr[l]&&(this.htmlArr[l].upHtml+=e):this.htmlArr[i]&&(this.htmlArr[i].downHtml+=e)}return this},this.prepend=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var r=this.each(t,e),s=0;s<r.length;s++)r[s]&&this.prepend(r[s],r[s].value);return!1}t=this.handleDomList(t);for(s=0;s<t.length;s++){var i=this.htmlArr[t[s].x];i.downHtml=e+i.downHtml}return this},this.after=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var r=this.each(t,e),s=0;s<r.length;s++)r[s]&&this.after(r[s],r[s].value);return!1}"object"==this.toType(t)&&(t=[t]);for(s=0;s<t.length;s++){var i=this.htmlArr[t[s].y];i&&(i.downHtml=e+i.downHtml)}return this},this.before=function(t,e){if(null==t||null==e)return!1;if("function"==typeof e){for(var r=this.each(t,e),s=0;s<r.length;s++)r[s]&&this.before(r[s],r[s].value);return!1}t=this.handleDomList(t);for(s=0;s<t.length;s++){var i=this.htmlArr[t[s].x];i&&(i.upHtml+=e)}return this},this.next=function(t,e){t=this.handleDomList(t),e=(e=null==e?"":e).trim();for(var r=[],s=0;s<t.length;s++)for(var i=this.htmlArr[t[s].x],l=-1,n=i._index+1;n<this.htmlArr.length;n++){var h=this.htmlArr[n];if(h){if(h.lv<i.lv)break;if(i.lv==h.lv)if(-1!=l){if("/"==h.label.substr(0,1)){var a=h._index,o=h.lv,u=!0;(u=""!=e&&0==this.getDocument([],e,l,a,!1,o).length?!1:u)&&r.push({index:r.length,x:l,y:a});break}}else{if(1==h.tagpair){l=h._index,a=h._index,o=h.lv,u=!0;(u=""!=e&&0==this.getDocument([],e,l,a,!1,o).length?!1:u)&&r.push({index:r.length,x:l,y:a});break}"/"!=h.label.substr(0,1)&&(l=h._index)}}}return this.delDomListDuplicate(r)},this.nextAll=function(t,e){t=this.handleDomList(t),e=(e=null==e?"":e).trim();for(var r=[],s=0;s<t.length;s++)for(var i=this.htmlArr[t[s].x],l=-1,n=i._index+1;n<this.htmlArr.length;n++){var h,a,o,u=this.htmlArr[n];if(u){if(u.lv<i.lv)break;i.lv==u.lv&&(-1!=l?"/"==u.label.substr(0,1)&&(h=u._index,a=u.lv,o=!0,(o=""!=e&&0==this.getDocument([],e,l,h,!1,a).length?!1:o)&&r.push({index:r.length,x:l,y:h}),l=-1):1==u.tagpair?1==u.tagpair&&(l=u._index,h=u._index,a=u.lv,o=!0,o=(""==e||0!=this.getDocument([],e,l,h,!1,a).length)&&o)&&r.push({index:r.length,x:l,y:h}):"/"!=u.label.substr(0,1)&&(l=u._index))}}return this.delDomListDuplicate(r)},this.prev=function(t,e){t=this.handleDomList(t),e=(e=null==e?"":e).trim();for(var r=0;r<t.length;r++)for(var s=this.htmlArr[t[r].x],i=-1,l=s._index-1;0<=l;l--){var n,h,a,o=this.htmlArr[l];if(o){if(o.lv<s.lv)break;if(s.lv==o.lv)if(-1!=i){if("/"!=o.label.substr(0,1))return n=o._index,h=o.lv,a=!0,(a=""!=e&&0==this.getDocument([],e,n,i,!1,h).length?!1:a)?[{index:0,x:n,y:i}]:[]}else{if(1==o.tagpair)return n=o._index,i=o._index,h=o.lv,a=!0,(a=""!=e&&0==this.getDocument([],e,n,i,!1,h).length?!1:a)?[{index:0,x:n,y:i}]:[];"/"==o.label.substr(0,1)&&(i=o._index)}}}return[]},this.prevAll=function(t,e,r){t=this.handleDomList(t),null==e&&(e="desc"),r=(r=null==r?"":r).trim();for(var s=[],i=0;i<t.length;i++)for(var l=this.htmlArr[t[i].x],n=-1,h=l._index-1;0<=h;h--){var a,o,u,f=this.htmlArr[h];if(f){if(f.lv<l.lv)break;l.lv==f.lv&&(-1!=n?"/"!=f.label.substr(0,1)&&(a=f._index,o=f.lv,u=!0,(u=""!=r&&0==this.getDocument([],r,a,n,!1,o).length?!1:u)&&s.push({index:0,x:a,y:n}),n=-1):1==f.tagpair?(a=f._index,n=f._index,o=f.lv,u=!0,(u=""!=r&&0==this.getDocument([],r,a,n,!1,o).length?!1:u)&&s.push({index:0,x:a,y:n})):"/"==f.label.substr(0,1)&&(n=f._index))}}return s="asc"==e?this.domListAsc(s):s},this.siblings=function(t){return null==t?[]:(t=this.prevAll(t,"asc").concat(this.nextAll(t)),this.delDomListDuplicate(t))},this.parent=function(t,e){t=this.handleDomList(t),e=(e=null==e?"":e).trim();for(var r=[],s=0;s<t.length;s++){for(var i=this.htmlArr[t[s].x],l=-1,n=-1,h=-1,a=i._index-1;0<=a;a--){var o=this.htmlArr[a];if(o&&i.lv-1==o.lv&&"/"!=o.label.substr(0,1)){l=o._index,h=o.lv;break}}for(var u,a=i._index+1;a<this.htmlArr.length;a++){o=this.htmlArr[a];if(o&&i.lv-1==o.lv&&"/"==o.label.substr(0,1)){n=o._index;break}}-1!=l&&(u=!0,u=(""==e||0!=this.getDocument([],e,l,n,!1,h).length)&&u)&&r.push({x:l,y:n})}return r=this.delDomListDuplicate(r)},this.parents=function(t,e){t=this.handleDomList(t),e=(e=null==e?"":e).trim();for(var r=[],s=0;s<t.length;s++){for(var i=this.htmlArr[t[s].x],l=-1,n=-1,h=-1,a=i._index-1;0<=a;a--){var o=this.htmlArr[a];if(o&&i.lv-1==o.lv&&"/"!=o.label.substr(0,1)){l=o._index,h=o.lv;break}}for(var u,a=i._index+1;a<this.htmlArr.length;a++){o=this.htmlArr[a];if(o&&i.lv-1==o.lv&&"/"==o.label.substr(0,1)){n=o._index;break}}-1!=l&&(u=!0,(u=""!=e&&0==this.getDocument([],e,l,n,!1,h).length?!1:u)?r.push({x:l,y:n}):r=r.concat(this.parents([{x:l,y:n}])))}return this.delDomListDuplicate(r)},this.children=function(t,e){t=this.handleDomList(t),""==(e=(e=null==e?"":e).trim())&&(e="*");for(var r=[],s=0;s<t.length;s++){var i,l=t[s].x,n=t[s].y;l!=n&&((i=this.htmlArr[l]).lv,i=i.lv+1,l=this.getDocument([],e,l+1,n-1,!1,i),r=r.concat(l))}return r=this.delDomListDuplicate(r)},this.closest=function(t,e){t=this.handleDomList(t);for(var r=[],s=0,i=0;i<t.length;i++){var l=t[i].x,n=(t[i].y,this.htmlArr[l]);if("string"==typeof e)for(var h=this.getDocument([],e),a=h.length-1;0<=a;a--){var o=h[a].x,u=h[a].y;if(o!=u){var f=this.htmlArr[o];if(o<l&&f.lv-n.lv==-1){r.push({index:s++,x:o,y:u});break}}}}return r=this.delDomListDuplicate(r)},this.filter=function(t,e){t=this.handleDomList(t);for(var r=[],s=0;s<t.length;s++){var i=t[s].x,l=t[s].y;this.htmlArr[i];"string"==typeof e&&(i=this.getDocument([],e,i,l),r=r.concat(i))}return this.delDomListDuplicate(r)},this.eq=function(t,e){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];if(0==t.length)return[];if("string"==this.toType(e)){if(!this.common.checkPositiveNumber(e))return[];e=parseInt(e)}else"number"==this.toType(e)||null!=e&&""!=e||(e=0);return(e=e<0?t.length+e:e)>t.length-1?[]:[t[e]]},this.even=function(t){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];if(0==t.length)return[];for(var e,r=[],s=0;s<t.length;s++)s%2==0&&(e=t[s],r.push(e));return r},this.odd=function(t){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];if(0==t.length)return[];for(var e,r=[],s=0;s<t.length;s++)s%2==1&&(e=t[s],r.push(e));return r},this.slice=function(t,e,r){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];if(null==e&&null==r)return t;if("string"==this.toType(e)){if(!this.common.checkPositiveNumber(e))return t;e=parseInt(e)}else null==e&&(e=0);if(e<0&&(e=t.length- -1*e),"string"==this.toType(r)){if(!this.common.checkPositiveNumber(r))return t;r=parseInt(r)}else null==r&&(r=t.length);r<0&&(r=t.length- -1*r);for(var s=[],i=0;i<t.length;i++)e<=i&&i<r&&s.push(t[i]);return s},this.show=function(t){for(var e=0;e<t.length;e++){var r=t[e];this.css(r,"display","")}return this},this.hide=function(t){if(t=this.handleDomList(t),"array"==this.toType(t))for(var e=0;e<t.length;e++){var r=t[e];this.css(r,"display","none")}return[]},this.toggle=function(t){if(t=this.handleDomList(t),"array"==this.toType(t))for(var e=0;e<t.length;e++){var r=t[e];"none"==(this.css(r,"display")+"").toLowerCase()?this.css(r,"display",""):this.css(r,"display","none")}return[]},this.dom=function(t,e,r,s){1!=(r=null==r?-1:r)&&2!=r&&(r=-1),""!=e&&(e="|"+e+"|");var i=(s=(s=(s=null==s?"":s).replace(/,/g," ")).replace(/\|/g," ")).split(" ");if(t=this.handleDomList(t),"array"!=this.toType(t))return[];for(var l="",n=-1,h=0;h<t.length&&!(0<h);h++)for(var a=t[h].x,o=t[h].y,u=a;u<=o;u++){var f=this.htmlArr[u];if(f){-1==n&&(n=f.lv);var m="";if(-1!=e.indexOf("label"))for(var c=0;c<i.length;c++){var d,p=i[c];""!=p&&null!=(d=this.attr(f,p))&&(m+=" "+p+'="'+d+'"')}(r==f.tagpair||-1==r||-1!=e.indexOf("all")&&n==f.lv)&&(u==a||u==o?-1!=e.indexOf("all")&&(-1!=e.indexOf("label")?""!=f.label&&(l+="<"+f.label+m+">"):l+=f.html):u<o&&(-1!=e.indexOf("label")?""!=f.label&&(l+="<"+f.label+m+">"):l+=f.html))}}return l},this.getLv=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.htmlArr[t[0].x];if(t)return t.lv}},this.findLv=function(t,e){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];if("string"==this.toType(e)){if(!this.common.checkPositiveNumber(e))return[];e=parseInt(e)}else if("number"!=this.toType(e)&&(null==e||""==e))return[];for(var r=[],s=0;s<t.length;s++)e==this.htmlArr[t[s].x].lv&&r.push(t[s]);return this.domListAsc(r)},this.getLabel=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.htmlArr[t[0].x];if(t)return t.label}},this.getTagpair=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.htmlArr[t[0].x];if(t)return t.tagpair}},this.printHTML=function(t,e,r){var s,i=-1,l=-1,n=(null==e?e=0:i=e,null==r?r=this.htmlArr.length-1:l=r,""),h=0,a=-1!=(t=","+(t=null==t?"":t).replace(/\|/g,",").replace(/\s/g,"")+",").indexOf(",color,")?"<br>":"\n",o=-1!=t.indexOf(",color,")?"&nbsp;&nbsp;&nbsp;&nbsp;":"    ",u=this.htmlArr[e];u&&(h=-1*u.lv+1);for(var f,m,c,d,p,g=e;g<=r;g++)(u=this.htmlArr[g])&&(p=d="",-1!=t.indexOf(",format,")?(g!=i&&(d=u.upHtml.trim()),g!=l&&(p=u.downHtml.trim()),s=this.beautyHtml(u),-1!=t.indexOf(",color,")&&(g!=i&&(d=this.htmlColor(this.common.htmlTranscoding(d))),g!=l&&(p=this.htmlColor(this.common.htmlTranscoding(p))),s=""==u.label?this.common.htmlTranscoding(s):this.htmlColor(s)),"html"==u.label?h=-1:"head"!=u.label&&"body"!=u.label||(d+=a),n+=d+(s=""!=s&&(c=!0,2==u.tagpair?"/"==u.label.substr(0,1)&&(c=this.upCheckThisEndLabel(u)):-1!=this.singleLabelList.indexOf("|"+u.label+"|")&&(c=!1,"br"!=u.label)&&1<(f=xiyueta(u).siblings()).length&&(m=0,xiyueta(f).each(function(){"br"!=xiyueta(this).getlabel()&&m++}),1<m)&&(c=!0),c)?a+this.common.copyStr(o,u.lv-1+h)+s:s)+p):-1!=t.indexOf(",zip,")?(g!=i&&(d=u.upHtml.trim()),g!=l&&(p=u.downHtml.trim()),n+=d+u.html.trim()+p):-1!=t.indexOf(",color,")?(g!=i&&(d=this.htmlColor(this.common.htmlTranscoding(u.upHtml))),g!=l&&(p=this.htmlColor(this.common.htmlTranscoding(u.downHtml))),n+=d+(s=""==u.label?this.common.htmlTranscoding(u.html):this.htmlColor(u.html))+p):(g!=i&&(d=u.upHtml),g!=l&&(p=u.downHtml),n+=d+u.html+p));return-1!=t.indexOf(",format,")&&(n=n.trim()),n=-1!=t.indexOf(",color,")?"<div style='font-family: Menlo, Monaco, Consolas, \"Courier New\", monospace;padding: 0.2em;margin: 0;font-size: 14px;'>"+n+"</div>":n},this.upCheckThisEndLabel=function(t){if("/head"==t.label||"/body"==t.label)return!0;t=xiyueta(t).children();if(1<t.length){var e=0;if(xiyueta(t).each(function(){var t=xiyueta(this).getlabel();"br"!=t&&"hr"!=t&&e++}),1<e)return!0}else if(1==t.length&&2==this.getTagpair(t))return!0;return!1},this.getHtmlArrObjXY=function(t){if(null!=t){if(1==t.tagpair)return{index:0,x:t._index,y:t._index};if("/"==t.label[0])for(var e=t._index-1;0<=e;e--){var r=this.htmlArr[e];if(r&&r.lv==t.lv)return{index:0,x:r._index,y:t._index}}else for(e=t._index+1;e<this.htmlArr.length;e++){r=this.htmlArr[e];if(r&&r.lv==t.lv)return{index:0,x:t._index,y:r._index}}}return[]},this.getDelHtml=function(){for(var t="",e=0;e<this.htmlArr.length;e++){var r=this.htmlArr[e];r&&("/"!=r.label.substr(0,1)&&(t+=r.upHtml.trim()),t+=r.downHtml.trim())}return t},this.debug=function(t,e,r){null==t&&(t=!1);var s=this.htmlArr;if(null!=e&&null!=r)for(var s=[],i=e;i<=r;i++){var l=this.htmlArr[i];s.push(l)}(t?xiyueta:console).log(s)},this.toArray=function(t,e){if("function"!=this.toType(e))return t;for(var r=this.arreach(t,e),s=[],i=0;i<r.length;i++)r[i]&&s.push(r[i].value);return s},this.singlelabel=function(t){return this.singleDoubleLabel(t,1)},this.doublelabel=function(t){return this.singleDoubleLabel(t,2)},this.singleDoubleLabel=function(t,e){if(t=this.handleDomList(t),"array"!=this.toType(t))return[];for(var r=[],s=0;s<t.length;s++)t[s]&&this.htmlArr[t[s].x].tagpair==e&&r.push(t[s]);return r},this.info=function(){console.log("%c xiyueta%c v"+_xyt.version+" website: www.xiyueta.com ","font-size:22px;color:#00bbee","color:#000")}},_xyt=new _XIYUETA,xiyueta=function(t,e,r){return new xiyueta.fn.init(t,e,r)},init=(xiyueta.fn=xiyueta.prototype={length:0,selector:"",domList:void 0,x:null,y:null,domListIndex:0},xiyueta.extend=xiyueta.fn.extend=function(){var t,e,r,s=arguments[0]||{},i=1,l=arguments.length;for(i===l&&(s=this,i--);i<l;i++)if(null!=(t=arguments[i]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&void 0!==r&&(s[e]=r);return s},xiyueta.fn.init=function(t,e,r){this.length=0,this.selector=t,this.domList=[],this.x=e,this.y=r,this.domListArray=[],"string"==typeof t?(this.domList=_xyt.getDocument([],t,e,r),this.length=this.domList.length):"object"==typeof t&&(null!=t.domList?(this.domList=t.domList,"object"==xiyueta.toType(this.domList)&&(this.domList=[this.domList]),this.length=t.domList.length):(null!=t.index?this.domList=[t]:(null!=t._index&&(t=_xyt.getHtmlArrObjXY(t)),this.domList=t),this.length=1),this.selector=""),null==this.selector&&(this.selector="")}),_XIYUETACSS=(init.prototype=xiyueta.fn,($=$xyt=xiyueta).fn.extend({parse:function(t,e){return _xyt.parseHTML(t),1==(e=null!=e||0==_xyt.lv&&1!=_xyt.isHtmlErr?e:!0)&&0<(t=this.repair(!1)).err&&""!=t.errList&&1==t.state&&(_xyt.parseHTML(this.printall()),this.repairHTML=!0),0<_xyt.htmlArr.length&&"string"==typeof this.selector&&(this.domList=_xyt.getDocument([],this.selector,this.x,this.y),this.length=this.domList.length),this},find:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.find(this.domList,t),this.length=this.domList.length,this.selector="",this},add:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.add(this.domList,t),this.length=this.domList.length,this.selector="",this},not:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.not(this.domList,t),this.length=this.domList.length,this.selector="",this},is:function(t){return _xyt.is(this.domList,t)},text:function(t){return 1<=arguments.length?(_xyt.text(this.domList,t),this):_xyt.text(this.domList)},html:function(t){return 1<=arguments.length?(_xyt.html(this.domList,t),this):_xyt.html(this.domList)},purehtml:function(t,e){return 1<=arguments.length?(_xyt.purehtml(this.domList,t,e),this):_xyt.purehtml(this.domList)},puretext:function(t,e){if(1<=arguments.length){if("array"==_xyt.toType(t)){for(var r=[],s=0;s<t.length;s++){var i=(i=t[s]+"").replace(/</g,"&lt;").replace(/>/g,"&gt;");r.push(i)}t=r}else t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");return _xyt.purehtml(this.domList,t,e),this}return _xyt.purehtml(this.domList)},purehtmlarr:function(t,e){return 1<=arguments.length?(_xyt.purehtmlarr(this.domList,t,"set",e),this):_xyt.purehtmlarr(this.domList,void 0,"get")},puretextarr:function(t,e){if(1<=arguments.length){if("array"==_xyt.toType(t)){for(var r=[],s=0;s<t.length;s++){var i=(i=t[s]+"").replace(/</g,"&lt;").replace(/>/g,"&gt;");r.push(i)}t=r}else t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");return _xyt.purehtmlarr(this.domList,t,"set",e),this}return _xyt.purehtmlarr(this.domList,void 0,"get")},inside:function(t){return _xyt.inside(this.domList,t)},outside:function(t){return _xyt.outside(this.domList,t)},attr:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.attr(this.domList,t,e),this):""!=t.trim()?_xyt.attr(this.domList,t):void 0},prop:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.prop(this.domList,t,e),this):""!=t.trim()?_xyt.prop(this.domList,t):void 0},data:function(t,e){if(null!=t)return 2<=arguments.length?(_xyt.data(this.domList,t,e),this):_xyt.data(this.domList,t)},removeAttr:function(t){return _xyt.removeAttr(this.domList,t),this},getLabelParamList:function(t){return _xyt.getLabelParamList(this.domList,t)},getLabelParamValueList:function(){return _xyt.getLabelParamList(this.domList,"value")},lv:function(t){return null!=t?_xyt.findLv(this.domList,t):_xyt.getLv(this.domList)},val:function(t){return null==t?_xyt.val(this.domList):(_xyt.val(this.domList,t),this)},remove:function(t){t=_xyt.remove(this.domList,t);return t!=this.domList&&(this.domList=t,this.length=this.domList.length),this},each:function(t){return _xyt.each(this.domList,t),this},css:function(t,e){return null==e&&"object"!=typeof t?_xyt.css(this.domList,t):(_xyt.css(this.domList,t,e),this)},print:function(t){var e,r;return 0<this.domList.length?(e=this.domList[0].x,r=this.domList[0].y,_xyt.printHTML(t,e,r)):""},printall:function(t){return _xyt.printHTML(t)},debug:function(t){return 0<this.domList.length?(x=this.domList[0].x,y=this.domList[0].y,_xyt.debug(t,x,y),this):[]}}),xiyueta.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),null==t&&(this.domList=[]),this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=_xyt.even(this.domList);return this.domList=t,this.length=t.length,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=_xyt.odd(this.domList);return this.domList=t,this.length=t.length,this},slice:function(t,e){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.slice(this.domList,t,e),this.length=this.domList.length,this},end:function(){var t;return this.domListArray.length<=0?(this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},addClass:function(t){return _xyt.addClass(this.domList,t),this},hasClass:function(t){return _xyt.hasClass(this.domList,t)},removeClass:function(t){return _xyt.removeClass(this.domList,t),this},wrap:function(t,e){if("function"==typeof t)for(var r=_xyt.each(this.domList,t),s=0;s<r.length;s++)(u=r[s])&&this.wrap(u.value,u.domList);else{var i=new _XIYUETA,l=0,n=(i.parseHTML(t),i.repairHTML(!1),i.printHTML());t!=n&&i.parseHTML(n);for(s=0;s<i.htmlArr.length;s++)(u=i.htmlArr[s]).lv>l&&2==u.tagpair&&(l=u.lv);for(var h="",a="",o=!1,s=0;s<i.htmlArr.length;s++){var u,f=(u=i.htmlArr[s]).upHtml;"/"==u.label.substr(0,1)&&u.lv==l&&(o=!0,h+=f,f=""),0==o?h+=f+u.html:a+=f+u.html}null==e&&(e=this.domList),_xyt.wrap(e,h,a)}return this},unwrap:function(){return _xyt.unwrap(this.domList),this},append:function(t){return _xyt.append(this.domList,t),this},prepend:function(t){return _xyt.prepend(this.domList,t),this},after:function(t){return _xyt.after(this.domList,t),this},before:function(t){return _xyt.before(this.domList,t),this},show:function(){return _xyt.show(this.domList),this},hide:function(){return _xyt.hide(this.domList),this},toggle:function(){return _xyt.toggle(this.domList),this},next:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.next(this.domList,t),this.length=this.domList.length,this},nextAll:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.nextAll(this.domList,t),this.length=this.domList.length,this},prev:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prev(this.domList,t),this.length=this.domList.length,this},prevAll:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.prevAll(this.domList,void 0,t),this.length=this.domList.length,this},siblings:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.siblings(this.domList),this.length=this.domList.length,this},parent:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parent(this.domList,t),this.length=this.domList.length,this},parents:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.parents(this.domList,t),this.length=this.domList.length,this},children:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.children(this.domList,t),this.length=this.domList.length,this},closest:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.closest(this.domList,t),this.length=this.domList.length,this},filter:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.filter(this.domList,t),this.length=this.domList.length,this},replaceWith:function(t){var e;return"object"==typeof(t=null==t?"":t)&&null!=t.domList&&(e=t.domList,t=_xyt.htmlwrap(t.domList,""),_xyt.remove(e)),this.htmlwrap(t),this},index:function(t){if(""==t||null==t)return("array"==_xyt.toType(this.domList)?this.domList[0]:this.domList).index;t=xiyueta(t).domList;if(null!=t&&0!=t.length)for(var e=t[0],r=0;r<this.domList.length;r++){var s=this.domList[r];if(s.x==e.x&&s.y==e.y)return s.index}return-1},get:function(t){var e;return 1<=arguments.length?(e=[],"array"==_xyt.toType(this.domList)?e=this.domList:e.push(this.domList),e[t=t<0?e.length+t:t]):0!=this.domList.length?this.domList:void 0},toArray:function(t){return _xyt.toArray(this.domList,t)},empty:function(){return this.html("")},htmlwrap:function(t){return 1<=arguments.length?(_xyt.htmlwrap(this.domList,t),this):_xyt.htmlwrap(this.domList)},dom:function(t){return _xyt.dom(this.domList,"",t)},domwrap:function(t){return _xyt.dom(this.domList,"all",t)},domlabel:function(t,e){return 1==arguments.length&&"string"==_xyt.toType(arguments[0])&&(e=arguments[0],t=-1),_xyt.dom(this.domList,"label|",t,e)},domlabelwrap:function(t,e){return 1==arguments.length&&"string"==_xyt.toType(arguments[0])&&(e=arguments[0],t=-1),_xyt.dom(this.domList,"all|label",t,e)},getlabel:function(){return _xyt.getLabel(this.domList)},gettagpair:function(){return _xyt.getTagpair(this.domList)},getlv:function(){return _xyt.getLv(this.domList)},findlv:function(t){return this.find(":lv("+t+")"),this},parseattr:function(t){var e;if(!(this.domList.length<=0))return e=this.domList[0].x,e=_xyt.htmlArr[e],_xyt.parseattr(e),e.attribute},note:function(t){null==t&&(t="");for(var e=_xyt.handleDomList(this.domList),r=0;r<e.length;r++){var s=e[r],i=xiyueta(s).htmlwrap();xiyueta(s).htmlwrap("\x3c!--"+t+i+"--\x3e"),_xyt.htmlArr[s.x].label="!--"}return this},singlelabel:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.singlelabel(this.domList),this.length=this.domList.length,this},doublelabel:function(){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.doublelabel(this.domList),this.length=this.domList.length,this},getx:function(){return 0==this.domList.length?-1:this.domList[0].x},gety:function(){return 0==this.domList.length?-1:this.domList[0].y},tojs:function(){for(var t=xiyueta(this.domList).htmlwrap().split("\n"),e="",r=0;r<t.length;r++){var s="",i=(""!=e&&(e+="\n"),r!=t.length-1&&(s="\\n"),t[r]);e+='strVar += "'+(i=(i=i.replace(/"/g,'\\"')).replace(/\//g,"\\/"))+s+'";'}return e='<script>\nvar strVar = "";\n'+e+"\n<\/script>"},parsejquery:function(t){return null==t&&(t=this.selector),_xyt.parsejquery(t)},beautyHtml:function(){var t;return 0==this.domList.length?"":(t=_xyt.htmlArr[this.domList[0].x],console.log("obj",t),_xyt.beautyHtml(t))},vue:function(s){this.domList;var t=xiyueta(this.domList).find("*");return console.log("list",t),t.each(function(t){var e,r=xiyueta(this).attr("v-text");null!=r&&(""!=(r=r.trim())&&(e=s.data[r],xiyueta(this).text(e)),xiyueta(this).removeAttr("v-text")),null!=(r=xiyueta(this).attr("v-html"))&&(""!=(r=r.trim())&&(e=s.data[r],xiyueta(this).html(e)),xiyueta(this).removeAttr("v-html")),null!=(r=xiyueta(this).attr("v-if"))&&(""!=(r=r.trim())&&0==s.data[r]&&xiyueta(this).htmlwrap(""),xiyueta(this).removeAttr("v-if")),console.log(t,xiyueta(this).htmlwrap(),xiyueta(this).attr("v-text"))}),this}}),_XIYUETA.prototype.checkTagAttrExist=function(t,e){null==this.tagNameAttrArr&&(this.tagNameAttrArr=[{name:"|a|",value:"|id|class|name|style|href|title|type|shape|coords|target|rel|",count:1},{name:"|map|",value:"|id|class|name|style|title|",count:1},{name:"|area|",value:"|id|class|style|href|title|alt|shape|coords|target|rel|",count:1},{name:"|li|",value:"|id|class|style|title|type|value|",count:1},{name:"|img|",value:"|id|class|name|style|src|title|alt|width|height|border|",count:1},{name:"|audio|",value:"|id|class|style|src|title|loop|",count:1},{name:"|base|",value:"|id|class|style|href|title|target|",count:1},{name:"|body|",value:"|id|class|style|title|background|",count:1},{name:"|basefont|",value:"|id|class|style|title|color|size|",count:1},{name:"|button|",value:"|id|class|name|style|title|type|value|disabled|",count:1},{name:"|video|",value:"|id|class|style|src|title|loop|width|height|",count:1},{name:"|input|",value:"|id|class|name|style|src|title|alt|type|width|height|value|disabled|",count:1},{name:"|select|",value:"|id|class|name|style|title|size|disabled|",count:1},{name:"|form|",value:"|id|class|name|style|title|action|method|target|",count:1},{name:"|meta|",value:"|id|class|name|style|title|content|media|",count:1},{name:"|script|",value:"|id|class|style|src|title|type|",count:1},{name:"|link|",value:"|id|class|style|href|title|type|target|rel|media|disabled|",count:1},{name:"|option|",value:"|id|class|style|title|value|disabled|",count:1},{name:"|ol|ul|",value:"|id|class|style|title|type|",count:2},{name:"|table|table|",value:"|id|class|style|title|width|border|",count:2},{name:"|td|canvas|th|td|",value:"|id|class|style|title|width|height|",count:4},{name:"|abbr|acronym|address|div|span|b|p|br|tr|article|h1|h2|h3|h4|h5|h6|h7|h8|h9|aside|head|title|bdi|bdo|big|blockquote|caption|center|cite|em|strong|dfn|code|samp|kbd|var|wbr|",value:"|id|class|style|title|",count:37}]);for(var r=0;r<this.tagNameAttrArr.length;r++){var s=this.tagNameAttrArr[r];if(-1<s.name.indexOf("|"+t+"|")&&-1<s.value.indexOf("|"+e+"|"))return!0}return-1<"|id|class|title|style|".indexOf("|"+e+"|")},_XIYUETA.prototype.swap=function(t,e){var r,s;return null!=t&&null!=e&&(t=this.handleDomList(t),e=this.handleDomList(e),0!=t.length)&&0!=e.length&&t!=e&&(t=t[0],e=e[0],r=this.htmlwrap(t),s=this.htmlwrap(e),this.htmlwrap(t,s),this.htmlwrap(e,r),!0)},_XIYUETA.prototype.getItem=function(t,e){if(null==t)return"";null==e&&(e=""),t=this.handleDomList(t);for(var r=[],s=0;s<t.length;s++){obj=t[s];var i=!0;""!=e?(obj.value=this.handleLabelParam(this.htmlArr[obj.x],e),null==obj.value&&(i=!1)):obj.value=this.htmlwrap(obj),i&&r.push(obj)}return r},_XIYUETA.prototype.setConfig=function(t){return null!=t&&(null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir),null!=t.urlToNameList&&(this.config.urlToNameList=t.urlToNameList),null!=t.urlDefaultFileName)&&(this.config.urlDefaultFileName=t.urlDefaultFileName),this.config},_XIYUETA.prototype.charset=function(t){for(var e=0;e<this.htmlArr.length;e++){var r=this.htmlArr[e];if(null!=r)if("meta"==r.label)if(-1!=r.html.toLowerCase().indexOf("charset")){var s=this.handleLabelParam(r,"charset");if(null!=(s=null!=s?s.toLowerCase().trim():s))return null!=t&&this.handleLabelParam(r,"charset",t),s;if(-1!=(s=null!=(s=this.handleLabelParam(r,"content"))?s.toLowerCase().trim():s).indexOf("utf-8"))return null!=t?(this.handleLabelParam(r,"content","text/html; charset="+t),""):"utf-8";if(-1!=s.indexOf("gb2312"))return null!=t?(this.handleLabelParam(r,"content","text/html; charset="+t),""):"gb2312"}}},_XIYUETA.prototype.repairHTML=function(t,e){null==t&&(t=!1),null==e&&(e=0);var r=0,s=!1,i="",l=0,n=",";if(1<=this.htmlArr.length&&"no"==(o=this.htmlArr[0]).isFindDom)return!1;for(var h,a,o,u=0;u<this.htmlArr.length;u++)(o=this.htmlArr[u])&&2==o.tagpair&&("/"==o.label.substr(0,1)&&(h=","+o.label.substr(1)+",",-1!=(a=(","+n+",").lastIndexOf(h)))?n=n.substr(0,a)+n.substr(a+h.length-1):n+=o.label+",");for(var f=n,u=0;u<this.htmlArr.length;u++)if((o=this.htmlArr[u])&&2==o.tagpair&&"/"==o.label.substr(0,1)){o.label.substr(1);var m,s=!0;if(null!=(m=this.upFindSameLvObj(u,o))&&(o.label=="/"+m.label?(s=!1,this.setNoFindDom(m._index,o._index),1==e&&console.log(" find(Lv1) "+o.label+" "+m.label+"("+o._index+"-"+m._index+")")):0==this.lv||1==m.lv&&1==o.lv&&-1==n.indexOf(","+o.label+",")?1==s&&(i="",t&&(i="\x3c!--xiyueta提示: 原标签(LV) "+o.label+" 替换成 /"+m.label+"--\x3e"),o.html="</"+m.label+">"+i,r+=2,l+=2,s=!1,this.setNoFindDom(m._index,o._index),1!=e&&2!=e||console.log(" find(Lv2) LV整体层级正确或两标签都为第一层  "+o.label+" 替换成 /"+m.label+" ("+o._index+"-"+m._index+")"),n=n.replace(","+m.label+",",",")):1==e&&console.log(" find(Lv else) 没找到，交给下面找同名 "+o.label+" ("+o._index+")")),1==s)if(null==(m=this.upFindSameNameObj(u,o)))o.html=t?"\x3c!---xiyueta提示: 有多余结束标签 "+o.label+" --\x3e":"",l++,r++,this.setNoFindDom(o._index,o._index),this.reairHtmlLv(o,1),1!=e&&2!=e||console.log(" find(Name 出错) 有多余结束标签 "+o.label+" ("+o._index+")"),s=!1,n=n.replace(","+o.label+",",",");else{i="",t&&(m.html+="\x3c!---xiyueta提示: 有问题标签开始位置--\x3e",o.html="\x3c!---xiyueta提示: 有问题标签结束位置--\x3e"+o.html),1!=e&&2!=e||console.log(" find(Name2 有问题) "+o.label+" 与 "+m.label+"("+o._index+"-"+m._index+") 之间有问题 ");var c="",d=(this.setNoFindDom(m._index,o._index),m.lv-o.lv);this.reairHtmlLv(o,d);for(var g=m._index+1;g<=o._index;g++){var b=this.htmlArr[g];if(b&&"/"!=b.label.substr(0,1)&&2==b.tagpair){var x=!1;for(p=b._index+1;p<=o._index;p++){var y=this.htmlArr[p];if(y&&2==y.tagpair&&"/"==y.label.substr(0,1)&&y.lv==b.lv){x=!0;break}}0==x&&(c+="</"+b.label+">",t&&(c+="\x3c!--xiyueta提示: 追加1 /"+b.label+" --\x3e"),1!=e&&2!=e||console.log(" 找(Name3)  追加1 结束标签 /"+b.label+" ("+b._index+")"),l++,r++,n=n.replace(","+b.label+",",","))}}o.upHtml+=c}}var v=n.split(",");if(v.length>r){c="";for(u=0;u<v.length;u++)""!=v[u]&&"/"!=v[u].substr(0,1)&&(i="",t&&(i="\x3c!--xiyueta提示: 追加end /"+v[u]+" --\x3e"),c="</"+v[u]+">"+i+c,l++,r++,1!=e&&2!=e||console.log(" 最后  追加1 结束标签 /"+v[u]));this.htmlArr[this.htmlArr.length-1]&&(this.htmlArr[this.htmlArr.length-1].downHtml+=c)}return{lv:this.lv,err:l,repair:r,state:l==r,errList:f=","==f?"":f}},_XIYUETA.prototype.setNoFindDom=function(t,e){for(var r=t;r<=e;r++){var s=this.htmlArr[r];s&&(s.isFindDom="no")}return null},_XIYUETA.prototype.upFindSameLvObj=function(t,e){for(var r=t-1;0<=r;r--){var s=this.htmlArr[r];if(s&&"no"!=s.isFindDom&&e.lv==s.lv)return s}return null},_XIYUETA.prototype.upFindSameNameObj=function(t,e){for(var r=t-1;0<=r;r--){var s=this.htmlArr[r];if(s&&"no"!=s.isFindDom&&e.label=="/"+s.label)return s}return null},_XIYUETA.prototype.reairHtmlLv=function(t,e){for(var r=t._index;r<this.htmlArr.length;r++)(t=this.htmlArr[r])&&(t.lv+=e)},_XIYUETA.prototype.htmlColor=function(t,e){if(0==(e=null==e?!1:e)){if("</"==t.substr(0,2))return"<font color='#800000'>"+t.replace("<","&lt;").replace(">","&gt;")+"</font>";if("<"!=t.substr(0,1))return"<font color='#000000'>"+t+"</font>";if("\x3c!--"==t.substr(0,4))return"<font color='#999999'>"+this.common.htmlTranscoding(t)+"</font>"}var r="",s="",i="",l=!1,n="",h="",a="";t=t.replace(/&/g,"&amp;");for(var o=0;o<t.length;o++){var u=t.substr(o,1);"findValueStart"==n?(l?u==i||">"==u&&" "==i||" "==i&&this.isSpaceBr(u)?(h+='<font color="#800000">'+u+'</font><font color="#0000FF">'+s+'</font><font color="#800000">'+u+"</font>",l=!1,i=a="",n="findParamStart"):(" "==u?u="&nbsp;":"\t"==u?u="&nbsp; &nbsp; ":"\n"==u||"\r"==u?u="<br>":"<"==u?u="&lt;":">"==u&&(u="&gt;"),s+=u):'"'==u||"'"==u?(a+=u,i=u,l=!0):0==this.isSpaceBr(u)?(i=" ",s=u,l=!0):" "==u?a="&nbsp;":"\t"==u?a="&nbsp; &nbsp; ":"\n"!=u&&"\r"!=u||(a="<br>"),">"==u&&(h=h+r+"<font color='#800000'>&gt;</font>",n="")):"<"==u?(a="&lt;",n="findLabel"):"findLabel"==n?this.isSpaceBr(u)?(h+="<font color='#800000'>"+a+"</font> ",a="",n="findParamStart"):">"==u?(h+="<font color='#800000'>"+a+"&gt;</font>",n=""):a+=u:">"==u?(h=h+(r=""!=r.trim()?'<font color="#FF0000">'+r+"</font>":r)+"<font color='#800000'>&gt;</font>",n=a=""):"findParamEnd"==n?"="==u?(n="findValueStart",h+="<font color='#FF0000'>"+r+"</font><font color='#000000'>=</font>",r=i=s=""):(" "==u?u="&nbsp;":"\t"==u?u="&nbsp; &nbsp; ":"\n"!=u&&"\r"!=u||(u="<br>"),r+=u):"findParamStart"==n?(n="findParamEnd"," "==u?u="&nbsp;":"\t"==u?u="&nbsp; &nbsp; ":"\n"!=u&&"\r"!=u||(u="<br>"),r+=u):(" "==u?u="&nbsp;":"\t"==u?u="&nbsp;&nbsp;":"\n"!=u&&"\r"!=u||(u="<br>"),h+=u)}return h},_XIYUETA.prototype.getMaxLv=function(){for(var t=0,e=0;e<this.htmlArr.length;e++){var r=this.htmlArr[e];r&&r.lv>t&&(t=r.lv)}return t},xiyueta.fullurl=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.resolve=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.getUrlDir=function(t,e){return _xyt.common.getUrlDir(t,e)},xiyueta.getUrlFileName=function(t,e){return _xyt.common.getUrlFileName(t,e)},xiyueta.setFileNameA=function(t,e){return _xyt.common.setFileNameA(t,e)},xiyueta.getUrlToFileName=function(t,e,r){return _xyt.common.getUrlToFileName(t,e,r)},xiyueta.getUrlParam=function(t,e){return _xyt.common.getUrlParam(t,e)},xiyueta.getQueryString=function(t,e){return _xyt.common.getQueryString(t,e)},xiyueta.bystesLength=function(t){return _xyt.common.bystesLength(t)},xiyueta.renderSize=function(t){return _xyt.common.renderSize(t)},xiyueta.secondToDate=function(t){return _xyt.common.secondToDate(t)},xiyueta.timeFormat=function(t,e){var r=new Date,s="yyyy-MM-dd hh:mm:ss";return 1==arguments.length?"object"==typeof t?r=t:"string"==typeof t&&(s=t):2==arguments.length&&("object"==typeof t&&(r=t),"string"==typeof e)&&(s=e),_xyt.common.timeFormat(r,s)},xiyueta.getDomain=function(t,e){return _xyt.common.getDomain(t,e)},xiyueta.getFileExt=function(t){return _xyt.common.getFileExt(t)},xiyueta.copyStr=function(t,e){return _xyt.common.copyStr(t,e)},xiyueta.htmlColor=function(t){return _xyt.htmlColor(t,!0)},xiyueta.lv=function(){return _xyt.lv},xiyueta.maxlv=function(){return _xyt.getMaxLv()},xiyueta.htmlerr=function(){return _xyt.isHtmlErr},xiyueta.config=function(t){t=_xyt.setConfig(t);return null==t?this:t},xiyueta.charset=function(t){return null==t?_xyt.charset():(_xyt.charset(t),this)},xiyueta.toType=function(t){return _xyt.toType(t)},xiyueta.isSpaceBr=function(t){return _xyt.isSpaceBr(t)},xiyueta.repairHTML=function(t){return _xyt.repairHTML()},xiyueta.delHtml=function(t){var e=new _XIYUETA;return e.parseHTML(t),e.getDelHtml()},xiyueta.debug=function(t){return _xyt.debug(t)},xiyueta.load=function(t,e){return xiyueta().parse(t,e),this},xiyueta.html=function(t){return _xyt.printHTML(t)},xiyueta.log=function(){for(var t="<table><tr>",e=0;e<arguments.length;e++)t+="<td valign='top'>"+this.getLogItem(arguments[e])+"</td>";t+="</tr></table>",response.write(t)},xiyueta.getlog=function(){for(var t="<table><tr>",e=0;e<arguments.length;e++)t+="<td valign='top'>"+this.getLogItem(arguments[e])+"</td>";return t+="</tr></table>"},xiyueta.getLogItem=function(t,e){var r,s="",i="<div style='background:"+["#f3f3f3","#ff461f","#bce672","#70f3ff","#ff4777","#00bc12","#44cef6","#ffb3a7","#057748","#1685a9","#f47983","#00e500","#003472","#c93756","#3de1ad","#4b5cc4","#ff0097","#1bd1a5","#b0a4e3","#8d4bbb"][e=null==e?0:e]+";padding:6px;'>";if("object"==this.toType(t)||"array"==this.toType(t)){for(var l in t)-1==(t[l]+"").indexOf("function")&&(r=(r=(r=t[l]+"").replace(/&/g,"&amp;")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),s+=void 0===(r="object"!=this.toType(t[l])&&"array"!=this.toType(t[l])?r:this.getLogItem(t[l],++e))?l+"<br>":l+":  "+r+"<br>");"array"==this.toType(t)&&(s+="length: "+t.length)}else s+=(t=(t=(t+="").replace(/&/g,"&amp;")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"))+"<br>";return s=i+s+"</div>"},xiyueta.fn.extend({swap:function(t){return _xyt.swap(this.domList,t),this},item:function(t){return _xyt.getItem(this.domList,t)},handle:function(t,e,r){return" delete function 20221215 "},replace:function(t,e,r){return _xyt.replace(this.selector,t,e,r)},clear:function(){return this},repair:function(t,e){return _xyt.repairHTML(t,e)}}),function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.lv=0,this.config={parentdir:"../",imagesdir:"images/"},this.toType=this.common.toType,this.isSpaceBr=this.common.isSpaceBr,this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);for(var e="",r="",s="",i="",l=!1,n=!1,h=!1,a=!1,o=!1,u=0,f=-1,m=!1,c=0;c<this.cssSource.length;c++){var d,p,g=e,e=this.cssSource.substr(c,1);l?(s+=e,h?"/"==e&&"*"==g&&(l=h=!1,this.cssArr.push({_index:++f,lv:1,label:"/*",upHtml:i,downHtml:"",attribute:{},html:s}),i=s=""):n&&"*"==e&&"/"==g?h=!0:a?m?(g=!1,p=(d=s.substr(0,s.length-1).trim()).substr(d.length-1),(g=0==(g=";"!=e&&"\n"!=e&&"\r"!=e||")"!=p?g:!0)&&c+1>=this.cssSource.length&&")"==(p=(d=s.trim()).substr(d.length-1))?!0:g)&&(m=a=l=n=o=!1,this.cssArr.push({_index:++f,lv:1,label:this.handleClsCssLabel(r),upHtml:i,downHtml:"",attribute:{},html:s}),i=s="")):!o||";"!=e&&"\n"!=e&&"\r"!=e?" "==e&&n?"@charset "==s.toLowerCase()?n=!(o=!0):"@import"==this.common.toTrimLCase(s)?m=!(n=!(o=!0)):"@font-face "!=s.toLowerCase()&&"@page "!=s.toLowerCase()||(a=!1):"{"==e&&("@font-face{"==s.toLowerCase()||"@page{"==s.toLowerCase()?a=!1:(a=l=n=!1,this.cssArr.push({_index:++f,lv:1,label:this.handleClsCssLabel(r),upHtml:i,downHtml:"",attribute:{},html:s}),u++,i=s="")):(m=a=l=n=o=!1,this.cssArr.push({_index:++f,lv:1,label:this.handleClsCssLabel(r),upHtml:i,downHtml:"",attribute:{},html:s}),i=s=""):"{"==e&&n?n=!1:"}"==e&&(l=n=!1,this.cssArr.push({_index:++f,lv:u+1,label:this.handleClsCssLabel(r),upHtml:i,downHtml:"",attribute:{},html:s}),i=s=""),n&&(r+=e)):" "!=e&&";"!=e&&"\n"!=e&&"\r"!=e&&"\t"!=e?"}"==e&&1==u?(this.cssArr.push({_index:++f,lv:u,label:"}",upHtml:s,downHtml:"",attribute:{},html:"}"}),i=s="",u--):(i=s,n=l=!0,r=s=e,"@"==this.common.toTrimLCase(this.cssSource.substr(c,100)).substr(0,1)&&(a=!0)):s+=e}""!=s&&this.cssArr.push({_index:++f,lv:u,label:"",upHtml:"",downHtml:"",attribute:{},html:s}),this.lv=u},this.handleClsCssLabel=function(t){return this.handleClsCssLabel20221218(t).toLowerCase()},this.handleClsCssLabel20221218=function(t){for(var e=0;e<9;e++){var r=t;if((t=(t=(t=(t=t.replace(/  /g," ")).replace(/ ,/g,",")).replace(/, /g,",")).replace(/\n/g,""))==r)break}return t.trim()},this.handleLabelParam=function(t,e,r,s){if(null==e&&(e="(all)"),null==s&&(s=0),null==r&&null!=t.attribute[e+(0!=s?"__"+s:"")])return t.attribute[e+(0!=s?"__"+s:"")];for(var i,l="",n=(-1!=e.indexOf("|")&&(e=(i=e.split("|"))[0],l=i[1],""==e)&&(e="(all)"),-1),h=!1,a="",o="",u=!1,f="",m=!1,c=!0,d=0,p=0,g=!1,b=!1,x="",y="",v=t.html.indexOf("{")+1;v<t.html.length;v++){var L=x;if(x=t.html.substr(v,1),u)if(m){if(0!=(g=1==g&&")"==x?!1:g)||x!=f&&"}"!=x&&v!=t.html.length-1)o+=x,"("==x&&(g=!0);else if(a=a.toLowerCase().trim(),0==s&&null==t.attribute[a+(0!=s?"__"+s:"")]&&(t.attribute[a+(0!=s?"__"+s:"")]=o),m=u=!1,f="",(e==a||"(all)"==e)&&++n==s)if(0<s&&(t.attribute[a+"__"+s]=o),null==r){if("url"!=l)return o;""!=(o=this.cssSrcUrl(o))&&(""!=y&&(y+="\n"),y+=o)}else{if(""==r)return O=t.html.substr(0,p),w=-1<(w=t.html.substr(v).indexOf(";"))?t.html.substr(v+w+1):t.html.substr(v),t.html=O+w,delete t.attribute[a+(0!=s?"__"+s:"")],t;var A=d,_=d+o.length,O=(c&&(A++,_++),t.html.substr(0,A)),w=t.html.substr(_);if("url"!=l)return t.html=O+r+w,t.attribute[a+(0!=s?"__"+s:"")]=r,t;A=this.cssSrcUrl(o,r);if(""!=A)return""!=y&&(y+="\n"),y+=A,t.html=O+A+w,v=(O+(t.attribute[a+(0!=s?"__"+s:"")]=A)).length,t}}else" "!=x&&(f=";",d=v,c=!(m=!0),o=x);else h?(":"==x?(u=!(h=!1),f=o=""):" "!=x&&(a+=x),-1!=a.indexOf("/*")&&4<=(_=a.trim()).length&&"/*"==_.substr(0,2)&&"*/"==_.substr(_.length-2,2)&&(h=!1)):b&&"/"==x&&"*"==L?b=!1:0==this.isSpaceBr(x)&&0==(b="/"==x&&"*"==t.html.substr(v+1,1)?!0:b)&&(h=!0,a=x,p=v)}if(null!=r&&""!=r&&""==l){for(var C=e+": "+r+";",S=t.html.length-1;0<=S;S--)if(" "!=(x=t.html.substr(S,1))&&"}"!=x){if(";"==x)break;if("{"==x)break;C="; "+C;break}t.html=t.html.replace("}",C+"}")}return y=""==y?void 0:y},this.getDocument=function(t,e,r){null==e&&(e=0),null==r&&(r=this.cssArr.length-1);var s=-1.1,i=-1.1,l=-1.1,n=-1.1,h="",a="",o="",u="",f="";if(t=(t=null==t?"":t).trim(),0==this.cssArr.length)return console.log("%c 需要先解析一段css文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var m=!1,c="",d=0;d<=t.length;d++){var p=t.substr(d,1);0!=m||"'"!=p&&'"'!=p&&"("!=p&&")"!=p?1==m?" "==p?p="-Space-":"'"!=p&&'"'!=p&&"("!=p&&")"!=p||(m=!1,"'"!=p&&'"'!=p)||(p=""):" "==p&&(p=""):(m=!0,"'"!=p&&'"'!=p||(p="")),c+=p}t=c}var g,b,x,y,v=t.indexOf(":");-1!=(v=(t=-1!=v&&(x=y="",b=(p=t.substr(v+1)).indexOf("("),g=p.indexOf(")"),-1!=b&&-1!=g?(y=p.substr(0,b).toLowerCase(),g=(x=p.substr(b+1)).indexOf(")"),x=x.substr(0,g).replace(/-Space-/g," ").trim()):y=p.toLowerCase(),"first"==y?s=0:"last"==y?s=-1:"even"==y?i=1:"odd"==y?i=0:"eq"==y?(s=0,(s=""!=x?parseInt(x):s)+""=="NaN"&&(s=-.1,t="")):"gt"==y?""!=x&&(l=parseInt(x)):"lt"==y?""!=x&&(n=parseInt(x)):"contains"==y?h=x:console.log(t,"没有动作 "+y),""==(t=t.substr(0,v)))&&-.1!=s?"(all)":t).indexOf("["))&&(g=(p=t.substr(v+1)).indexOf("]"),-1==(p=p.substr(0,g)).indexOf("=")?(a=p,o="*"):(a=(b=p.split("="))[0],o=b[1].replace(/-Space-/g," "),x=a.substr(a.length-1),-1!="!^$*~|".indexOf(x)&&(a=a.substr(0,a.length-1),u=x)),-1!=a.indexOf("|")&&(a=(y=a.split("|"))[0],"NOUL"==y[1])&&(o=o.toLowerCase(),f=y[1]),""==(t=t.substr(0,v)))&&(t="(all)");for(d=0;d<10&&-1!=t.indexOf("  ");d++)t=t.replace(/  /g," ");for(c="",d=e;d<=r;d++){var L=this.cssArr[d];null!=L&&(t==L.label||"(all)"==t&&""!=L.label)&&(c+=","+d)}if(""!=c&&-1.1!=s){var A=c.split(",");""!=(c=s<0?A[A.length+s]:A[s+1])&&(c=","+c)}else if(""!=c&&-1.1!=i){A=c.split(",");c="";for(d=1;d<A.length;d++)d%2==i&&(c+=","+A[d])}else if(""!=c&&-1.1!=l){A=c.split(",");c="";for(d=l+2;d<A.length;d++)c+=","+A[d]}else if(""!=c&&-1.1!=n){A=c.split(",");c="",n>A.length-1&&(n=A.length-1);for(d=1;d<=n;d++)c+=","+A[d]}else if(""!=c&&""!=h){A=c.split(",");c="";for(d=1;d<A.length;d++){p=A[d];-1!=this.text(","+p).indexOf(h)&&(c+=","+A[d])}}else if(""!=a){A=c.split(",");c="";for(d=1;d<A.length;d++){var _=A[d],O=!0,p=this.css(domList=","+_);"NOUL"==f&&null!=p&&(p=p.toLowerCase()),"^"==u?null!=p&&p.substr(0,o.length)==o||(O=!1):"|"==u?null!=p&&(p+"-").substr(0,o.length+1)==o+"-"||(O=!1):"$"==u?null!=p&&p.substr(-1*o.length)==o||(O=!1):"~"==u?null!=p&&-1!=(" "+p+" ").indexOf(" "+o+" ")||(O=!1):"*"==u?null!=p&&-1!=p.indexOf(o)||(O=!1):"!"==u?p==o&&(O=!1):null!=p&&"*"==o?O=!0:p!=o&&(O=!1),O&&(c+=","+_)}}for(var w=c.split(","),C=[],d=0;d<w.length;d++)""!=w[d]&&C.push({index:w[d],x:w[d],y:w[d]});return C},this.handleDomList=function(t){return"object"==this.toType(t)?null!=t.domList?t.domList:null!=t._index?[{index:t._index,x:t._index,y:t._index}]:[t]:"string"==this.toType(t)?this.getDocument(t):t},this.each=function(t,e){if("function"!=typeof e)return!1;t=this.handleDomList(t);for(var r=[],s=0;s<t.length;s++){var i=t[s],l=e.call(i,s,i);if(i.value=l,r.push(i),"boolean"==typeof l&&0==l)break}return r},this.text=function(t,e){var r="get",t=this.handleHtmlText(t,e,"text",r=2<=arguments.length?"set":r);return t=null==t?"":t},this.html=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleHtmlText(t,e,"html",r)},this.htmlwrap=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleHtmlText(t,e,"htmlwrap",r)},this.getBackground=function(t,e){var r="get",t=this.handleHtmlText(t,e,"background",r=2<=arguments.length?"set":r);return t=null==t?"":t},this.handleHtmlText=function(t,e,r,s){if(null!=t){t=this.handleDomList(t);var i=this.toType(e);if("function"==i){for(var l=this.each(t,e),n=0;n<l.length;n++)l[n]&&this.handleHtmlText(l[n],l[n].value,r,s);return!1}if("set"==s){if("undefined"==i)return;null==e?e="":e+=""}for(var h="",n=0;n<t.length;n++){var a=this.cssArr[t[n].index];if(null!=a)if("htmlwrap"==r){if("get"==s)return a.html;a.html=e}else if("background"==r){var o,u=this.css(a,"background");"get"==s?null!=u&&(o=this.cssSrcUrl(u),h+=this.handleClearBackground(o)):null!=u&&(o=u,"server="==e.substr(0,7)?(o=this.handleClearBackground(o),e=this.common.fullHttpUrl(e.substr(7),o)):"dir="==e.substr(0,4)&&(o=this.handleClearBackground(o),e=e.substr(4)+this.common.getUrlFileName(o)),e=this.cssSrcUrl(u,e),this.css(a,"background",e))}else if("@charset"==a.label)if("get"==s){if(h+=a.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim(),"html"==r)return h}else a.html='@charset "'+e+'";';else if("@import"==a.label)if("get"==s){u=(u=a.html.substr(8)).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim();if(h+=u=this.handleClearBackground(u),"html"==r)return h}else a.html='@import url("'+e+'");';else{var f=a.html.indexOf("{"),m=a.html.indexOf("}");if("get"==s){if(-1!=f&&-1!=m&&(h+=a.html.substr(f+1,m-f-1)),"html"==r)return h}else a.html=a.html.substr(0,f+1)+e+"}"}}return h}},this.css=function(t,e,r){if(null!=t){t=this.handleDomList(t);var s=this.toType(r);if("function"==s){for(var i=this.each(t,r),l=0;l<i.length;l++)i[l]&&this.css(i[l],e,i[l].value);return!1}var n=3<=arguments.length?"set":"get";if("set"==n){if("undefined"==s)return;null==r?r="":r+=""}for(l=0;l<t.length;l++){var h=this.cssArr[t[l].index];if(null!=h){if("get"==n)return this.handleLabelParam(h,e);this.handleLabelParam(h,e,r)}}}},this.remove=function(t){if(null!=t){t=this.handleDomList(t);for(var e=0;e<t.length;e++){var r=this.cssArr[t[e].index];null!=r&&(r.html="",r.label="<del>")}return this}},this.getsrc=function(t,e){if(null!=t){t=this.handleDomList(t);for(var r="",s=0;s<t.length;s++){var i=this.cssArr[t[s].index];if(null!=i){var l,n=this.text(i),h=this.cssSrcUrl(n);if("@import"==i.label&&(h=n),h=this.handleClearBackground(h),null!=e){l=-1!=h.indexOf(";base64,")?[h]:h.split(",");for(var a=0;a<l.length;a++)""!=(h=l[a])&&-1==h.indexOf(";base64,")&&("server="==e.substr(0,7).toLowerCase()?7<e.length&&(h=this.common.fullHttpUrl(e.substr(7),h)):"dir="==e.substr(0,4).toLowerCase()?4<e.length&&(h=e.substr(4)+this.common.getUrlFileName(h)):"filename"==e.substr(0,8).toLowerCase()&&8<e.length&&(h=this.common.getUrlFileName(h)),""!=r&&(r+=","),r+=h)}else""!=h&&(""!=r&&(r+=","),r+=h)}}return r}},this.setsrc=function(t,e,r){if(null!=t){t=this.handleDomList(t);var s=this.toType(e);if("function"==s){for(var i=this.each(t,e),l=0;l<i.length;l++)i[l]&&this.setsrc(i[l],i[l].value);return!1}if("undefined"!=s){null==e?e="":e+="";for(l=0;l<t.length;l++){var n=this.cssArr[t[l].index];if(null!=n){for(var h="",a=this.text(n),o=a.split(";"),u=0;u<o.length;u++){var f=o[u];""!=h&&(h+=";"),"@import"==n.label&&(f="url("+f+")"),f=this.cssSrcUrl(f,e),h+=f="@import"==n.label?(f=f.substr(4)).substr(0,f.length-1):f}a!=h&&this.text(n,h)}}return this}}},this.handleClearBackground=function(t){var e=t.indexOf("(");if(-1==(t=-1!=(e=(t=-1!=e?t.substr(e+1):t).indexOf(")"))?t.substr(0,e):t).indexOf("'")&&-1==t.indexOf('"')&&-1==t.indexOf("("))return t;for(var r=!1,s="",i=0;i<=t.length;i++){var l=t.substr(i,1);0!=r||"'"!=l&&'"'!=l&&"("!=l&&")"!=l?1==r?"'"!=l&&'"'!=l&&"("!=l&&")"!=l||(r=!1,"'"!=l&&'"'!=l)||(l=""):" "==l&&(l=""):(r=!0,"'"!=l&&'"'!=l||(l="")),s+=l}return s.trim()},this.cssSrcUrl=function(t,e){if(-1==t.indexOf(",")||-1!=t.indexOf(";base64,"))return this.handleCssSrcUrl(t,e);for(var r=t.split(","),s="",i=0;i<r.length;i++){var l=r[i];""!=(l=this.handleCssSrcUrl(l,e))&&(""!=s&&(s+=","),s+=l)}return s},this.handleCssSrcUrl=function(t,e){if(null==t)return"";if(null==e){var r=t.toLowerCase();if(-1==r.indexOf("url(")||-1==t.indexOf(")"))return null!=e&&"dir="!=e.substr(0,4)&&"server="!=e.substr(0,7)?t:"";if(-1==r.indexOf("url"))return null!=e&&"dir="!=e.substr(0,4)&&"server="!=e.substr(0,7)?t:""}for(var s="",i=!1,l=!1,n="",h=-1,a=0;a<t.length;a++){var o=t.substr(a,1);if(i)if(l){if(n==o){var u=t.substr(h,a-h);if(null!=e)if("server="==e.substr(0,7)){if(-1!=u.indexOf("data:"))return t;u=t.substr(0,h)+this.common.fullHttpUrl(e.substr(7),u)+t.substr(a)}else if("dir="==e.substr(0,4)){if(-1!=u.indexOf("data:"))return t;u=t.substr(0,h)+e.substr(4)+xiyueta.getUrlToFileName(u)+t.substr(a)}else-1==u.indexOf("data:")&&(u=t.substr(0,h)+e+t.substr(a));return u}}else""!=o&&('"'==o||"'"==o?(l=!0,n=o,-1==h&&(h=a+1)):" "!=o&&(l=!0,n=")",-1==h)&&(h=a));else"("==o&&"url"==(u=s.trim().toLowerCase()).substr(u.length-3,3)?i=!0:s+=o}return t},this.after=function(t,e){if(null!=t){t=this.handleDomList(t);var r=this.toType(e);if("function"==r){for(var s=this.each(t,e),i=0;i<s.length;i++)s[i]&&this.after(s[i],s[i].value);return!1}if("undefined"!=r){null==e?e="":e+="";for(i=0;i<t.length;i++){var l=this.cssArr[t[i].index];null!=l&&null!=e&&(l.downHtml+=e)}return this}}},this.getLv=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.cssArr[t[0].x];if(t)return t.lv}},this.getLabel=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)&&1<=t.length){t=this.cssArr[t[0].x];if(t)return t.label}},this.delrepeat=function(t){if(t=this.handleDomList(t),"array"==this.toType(t)){for(var e=0,r=0;r<t.length;r++){var s=this.cssArr[t[r].index];if(null!=s){var i=s.label.substr(0,1);if(1==s.lv&&"}"!=i&&"@"!=i){for(var l=!1,n=0;n<t.length;n++){var h=this.cssArr[t[n].index];if(null!=h&&r!=n&&1==h.lv&&s.label==h.label&&s.html.trim()==h.html.trim()){l=!0;break}}l&&(xiyuetaCSS(s).remove(),e++)}}}return e}},this.before=function(t,e){if(null!=t){t=this.handleDomList(t);var r=this.toType(e);if("function"==r){for(var s=this.each(t,e),i=0;i<s.length;i++)s[i]&&this.before(s[i],s[i].value);return!1}if("undefined"!=r){null==e?e="":e+="";for(i=0;i<t.length;i++){var l=this.cssArr[t[i].index];null!=l&&null!=e&&(l.upHtml+=e)}return this}}},this.handleCssCharset=function(t){for(var e=0;e<this.cssArr.length;e++){var r=this.cssArr[e];if(null!=r)if("@charset"==r.label)return null!=t?(r.html='@charset "'+t+'";',""):r.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.importurl=function(t,e,r){if(null!=t){t=this.handleDomList(t);var s=this.toType(r);if("function"==s){for(var i=this.each(t,r),l=0;l<i.length;l++)i[l]&&this.before(i[l],i[l].value);return!1}if("set"==e){if("undefined"==s)return;null==r?r="":r+=""}for(l=0;l<t.length;l++){var n=this.cssArr[t[l].index];if(null!=n)return"set"==e?(n.html='@import url("'+r+'");',!0):(n=(n=n.html.substr(8)).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase(),this.handleClearBackground(n))}return this}},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir,null!=t.cssdir)){for(var e=t.cssdir.split("/"),r="",s=0;s<=e.length-2;s++)r+="../";this.config.parentdir=r}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(t){for(var e="",r=0;r<this.cssArr.length;r++){var s=this.cssArr[r];if(null!=s){null!=t&&(xiyuetaCSS(s).css("#aA-@"),this.cssAttrStructure(s));var i,l="",n=s.upHtml+(i=s.html)+s.downHtml;if("zip"==t||"purify"==t)if("/*"==s.label)n="";else{var h=i.indexOf("{");if(-1!=h){for(var n=this.handleClsCssLabel20221218(i.substr(0,h))+"{",a=0;a<s.attr.length;a++)""!=l&&(l+=";"),l+=s.attr[a][0]+":"+s.attr[a][1];")"!=s.label.substr(s.label.length-1)&&(n+=l+"}")}}else"format"==t&&(n=n.trim()+"\n");"purify"==t&&""!=n&&(n+="\n"),""!=n&&(e+=n)}}return e},this.cssAttrStructure=function(t){for(var e=!1,r="",s="",i=!1,l="",n=!1,h=0,a=!1,o=!1,u="",f=[],m=t.html.indexOf("{")+1;m<t.html.length;m++){var c,d=u,u=t.html.substr(m,1);i?n?0!=(a=1==a&&")"==u?!1:a)||u!=l&&"}"!=u&&m!=t.html.length-1?(s+=u,"("==u&&(a=!0)):(f.push([r,s,h,m]),n=i=!1,l=""):" "!=u&&(l=";",n=!0,s=u):e?(":"==u?(i=!(e=!1),l=s=""):" "!=u&&(r+=u),-1!=r.indexOf("/*")&&4<=(c=r.trim()).length&&"/*"==c.substr(0,2)&&"*/"==c.substr(c.length-2,2)&&(e=!1)):o&&"/"==u&&"*"==d?o=!1:0==this.isSpaceBr(u)&&0==(o="/"==u&&"*"==t.html.substr(m+1,1)?!0:o)&&(e=!0,r=u,h=m)}t.attr=f},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.cssArr)},this.eq=function(t,e){return t=this.handleDomList(t),"array"==this.toType(t)&&(null==e||""==e?e=0:(e=parseInt(e))+""=="NaN"&&(e=-1.1),-1.1!=e)?(e=e<0?t.length+e:e)>t.length?"":[t[e]]:[]},this.appendRoot=function(t,e){if(null!=t){t=this.handleDomList(t);var r=this.toType(e);if("function"==r){for(var s=this.each(t,e),i=0;i<s.length;i++)s[i]&&this.before(s[i],s[i].value);return!1}if("undefined"!=r){null==e?e="":e+="";for(var l=e.length,i=0;i<t.length;i++){var n=this.cssArr[t[i].index];if(null!=n&&null!=e&&"@"!=n.label.substr(0,1)&&"}"!=n.label.substr(0,1)&&-1==n.label.indexOf("%")){for(var h=n.label.split(","),a="",o=0;o<h.length;o++){var u,f=h[o].trim(),m=!0;e==f.substr(0,l)&&(u=f.substr(l,1).toLowerCase(),m=!1,console.log("s2",u,m=" "!=u&&""!=u&&"."!=u&&"#"!=u&&"["!=u&&":"!=u&&"{"!=u?!0:m)),""!=a&&(a+=","),1==m&&(a+=e+" "),a+=f}n.label=a;var c=n.html.indexOf("{");0<c&&(n.html=a+n.html.substr(c))}}}}},this.testABC=function(t){if(null!=t){t=this.handleDomList(t);for(var e=[],r=0;r<t.length;r++){var s=this.cssArr[t[r].index];if(null!=s)for(var i=0;i<6;i++){var l=this.cssall(s,"src",i);if(null==l)break;var n=this.handleSrcArr(l);console.log("arr",n);for(var h=0;h<n.length;h++)e.push(n[h])}}return e}},this.imgarr=function(t,e,r,s){var i,l;return"get"==e?(i=this.srcarr(t,e,r,s,"background"),l=this.srcarr(t,e,r,s,"background-image"),i.concat(l)):(this.srcarr(t,e,r,s,"background"),this.srcarr(t,e,r,s,"background-image"),this)},this.importarr=function(t,e,r,s){if(null==t)return[];t=this.handleDomList(t),"set"==e&&null==s&&(s="<action.set>");for(var i=[],l=0;l<t.length;l++){var n,h,a=this.cssArr[t[l].index];null!=a&&"@import"==a.label&&null!=(n=this.htmlwrap(a))&&("set"==e?(h=this.handleSrcArr(n,s,r,"css"),this.htmlwrap(a,h)):(a=this.handleSrcArr(n,void 0,r,"css"),i=i.concat(a)))}return"set"==e?this:i},this.srcarr=function(t,e,r,s,i){if(null==t)return[];t=this.handleDomList(t);null==i&&(i="src"),"set"==e&&null==s&&(s="<action.set>");for(var l=[],n=0;n<t.length;n++){var h=this.cssArr[t[n].index];if(null!=h&&"/*"!=h.label)for(var a=0;a<6;a++){var o,u=this.cssall(h,i,a);if(null==u)break;"set"==e?(o=this.handleSrcArr(u,s,r,"image"),this.cssall(h,i,a,o)):(o=this.handleSrcArr(u,void 0,r,"image"),l=l.concat(o))}}return"set"==e?this:l},this.cssall=function(t,e,r,s){if(null!=t){t=this.handleDomList(t);var i=this.toType(s);if("function"==i){for(var l=this.each(t,s),n=0;n<l.length;n++)l[n]&&this.css(l[n],e,l[n].value);return!1}var h=4<=arguments.length?"set":"get";if("set"==h){if("undefined"==i)return;null==s?s="":s+=""}for(n=0;n<t.length;n++){var a=this.cssArr[t[n].index];if(null!=a){if("get"==h)return this.handleLabelParam(a,e,void 0,r);this.handleLabelParam(a,e,s,r)}}}},this.handleSrcArr=function(t,e,r,s){if(null==t)return"";for(var i,l="get",n=(null!=e&&(l="set","string"==(i=this.toType(e))?"<action.set>"==e?l="replace":e=[e]:"null"==i?e=[]:"array"!=i&&(e=[e])),[]),h=0,a=-1,o=-1,u=0;u<9&&h!=a;u++)for(var a=h,f="",m=!1,c=!1,d="",p=-1,g=h;g<t.length;g++){var b,x=t.substr(g,1);if(m)if(c){if(d==x){if("get"==l&&(y=t.substr(p,g-p),n.push(this.hanldeUrlConfig(y,r,s))),"replace"==l){var y=t.substr(p,g-p);y=this.hanldeUrlConfig(y,r,s);var v,h=(v=t.substr(0,p)+y).length;t=v+t.substr(g);break}if("set"==l){++o<e.length&&(y=e[o],y=this.hanldeUrlConfig(y,r,s),h=(v=t.substr(0,p)+y).length,t=v+t.substr(g));break}h=g+1;break}}else""!=x&&('"'==x||"'"==x?(c=!0,d=x,-1==p&&(p=g+1)):" "!=x&&(c=!0,-1==p&&(p=g),(d=")")==x)&&g--);else"("==x&&"url"==(b=f.trim().toLowerCase()).substr(b.length-3,3)?m=!0:f+=x}return"set"==l||"replace"==l?t:n},this.hanldeUrlConfig=function(t,e,r){if(null!=e&&(t=(t+"").trim(),null!=(e=e.trim()))){if("server="==e.substr(0,7).toLowerCase())return-1==t.indexOf("data:")&&""!=t?this.common.fullHttpUrl(e.substr(7),t):t;if("dir="==e.substr(0,4).toLowerCase())return-1==t.indexOf("data:")&&""!=t?e.substr(4)+xiyueta.getUrlToFileName(t,r):t;if("filename"==e.substr(0,8).toLowerCase())return-1==t.indexOf("data:")&&""!=t?this.common.getUrlFileName(t,r):t;if(-1==t.indexOf("data:"))return e}return t}}),_xytcss=new _XIYUETACSS,xiyuetaCss=function(t,e,r){return new xiyuetaCss.fn.init(t,e,r)};xiyuetaCss.fn=xiyuetaCss.prototype={length:0,selector:"",docList:void 0,x:null,y:null},xiyuetaCss.extend=xiyuetaCss.fn.extend=function(){var t,e,r,s=arguments[0]||{},i=1,l=arguments.length;for(i===l&&(s=this,i--);i<l;i++)if(null!=(t=arguments[i]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&void 0!==r&&(s[e]=r);return s};(init=xiyuetaCss.fn.init=function(t,e,r){this.length=0,this.selector=t,this.domList=void 0,this.x=e,this.y=r,this.domListArray=[],0<_xytcss.cssArr.length&&("string"==typeof t?(this.domList=_xytcss.getDocument(t,e,r),this.length=this.domList.length):"object"==typeof t&&(this.domList=t,this.length=1,this.selector="")),null==this.selector&&(this.selector="")}).prototype=xiyuetaCss.fn,(xiyuetaCSS=$xytcss=$css=xiyuetaCss).fn.extend({parse:function(t){return _xytcss.cssParse(t),0<_xytcss.cssArr.length&&"string"==typeof this.selector&&(this.domList=_xytcss.getDocument(this.selector,this.x,this.y),this.length=this.domList.length),this},each:function(t){return _xytcss.each(this.domList,t),this},text:function(t){return 1<=arguments.length?(_xytcss.text(this.domList,t),this):_xytcss.text(this.domList)},html:function(t){return 1<=arguments.length?(_xytcss.html(this.domList,t),this):_xytcss.html(this.domList)},htmlwrap:function(t){return 1<=arguments.length?(_xytcss.htmlwrap(this.domList,t),this):_xytcss.htmlwrap(this.domList)},css:function(t,e){return 2<=arguments.length?(_xytcss.css(this.domList,t,e),this):_xytcss.css(this.domList,t)},cssall:function(t,e,r){return 3<=arguments.length?(_xytcss.cssall(this.domList,t,e,r),this):_xytcss.cssall(this.domList,t,e)},background:function(t){return 1<=arguments.length?(_xytcss.getBackground(this.domList,t),this):_xytcss.getBackground(this.domList)},remove:function(){return _xytcss.remove(this.domList),this},getsrc:function(t){return _xytcss.getsrc(this.domList,t)},setsrc:function(t){return _xytcss.setsrc(this.domList,t),this},after:function(t){return _xytcss.after(this.domList,t),this},before:function(t){return _xytcss.before(this.domList,t),this},appendRoot:function(t){return _xytcss.appendRoot(this.domList,t),this},print:function(t){return _xytcss.printCss(t)},debug:function(t){return _xytcss.debug(t)},getlabel:function(){return _xytcss.getLabel(this.domList)},getlv:function(){return _xytcss.getLv(this.domList)},index:function(t){if(""==t||null==t)return("array"==_xyt.toType(this.domList)?this.domList[0]:this.domList).index;t=xiyuetaCSS(t).domList;if(null!=t&&0!=t.length)for(var e=t[0],r=0;r<this.domList.length;r++){var s=this.domList[r];if(s.x==e.x&&s.y==e.y)return s.index}return-1},getsrcarr:function(t){return _xytcss.srcarr(this.domList,"get",t)},setsrcarr:function(t,e){return _xytcss.srcarr(this.domList,"set",e,t),this},getimgarr:function(t){return _xytcss.imgarr(this.domList,"get",t)},setimgarr:function(t,e){return _xytcss.imgarr(this.domList,"set",e,t),this},getimportarr:function(t){return _xytcss.importarr(this.domList,"get",t)},setimportarr:function(t,e){return _xytcss.importarr(this.domList,"set",e,t),this}}),xiyuetaCSS.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,r=[],s=0;s<this.domList.length;s++)s%2==0&&((t=this.domList[s]).index=++e,r.push(t));return this.domList=r,this.length=r.length,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});for(var t,e=-1,r=[],s=0;s<this.domList.length;s++)s%2==1&&((t=this.domList[s]).index=++e,r.push(t));return this.domList=r,this.length=r.length,this},slice:function(t,e){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),this.domList=_xyt.slice(this.domList,t,e),this.length=this.domList.length,this},end:function(){var t;return this.domListArray.length<=0?(this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},delrepeat:function(){return _xytcss.delrepeat(this.domList)},importurl:function(t){return 1<=arguments.length?(_xytcss.importurl(this.domList,"set",t),this):_xytcss.importurl(this.domList)},note:function(t){null==t&&(t="");for(var e=_xytcss.handleDomList(this.domList),r=0;r<e.length;r++){var s=e[r],i=xiyuetaCSS(s).htmlwrap();xiyuetaCSS(s).htmlwrap("/*"+t+i+"*/")}return this},testABC:function(t){return _xytcss.testABC(this.domList)}}),xiyuetaCSS.debug=function(t){return xiyuetaCSS().debug(t)},xiyuetaCSS.load=function(t,e){return xiyuetaCSS().parse(t,e),this},xiyuetaCSS.html=function(t){return _xytcss.printCss(t)},xiyuetaCSS.charset=function(t){return _xytcss.handleCssCharset(t)},xiyuetaCSS.config=function(t){return _xytcss.setConfig(t)},xiyuetaCSS.lv=function(){return _xytcss.lv};var _XIYUETAASP=function(t){"use strict";this.aspSource=t=null==t?"":t,this.aspArr=[],this.common=new XiyuetaCommon,this.config={},this.phpPublicObjectList="",this.phpPublicFunList=",now,date,time,",this.aspBuiltInFunction=",xor,randomize,not,strcomp,vbtextcompare,step,dim,if,then,elseif,else,end,function,sub,select,case,call,for,to,next,set,nothing,do,while,loop,and,true,false,vbcrlf,in,class,new,mod,byval,byref,or,exit,rnd,lcase,ucse,asc,",this.aspFunList=this.aspBuiltInFunction,this.haveParamFunction=",response.write,response.addheader,rs.open,",this.toType=this.common.toType,this.isSpaceBr=this.common.isSpaceBr,this.aspParse=function(t){null!=t&&(this.aspSource=t,this.aspArr=[]);for(var e="",r="",s="",i="",l="",n="",h=!1,a=!1,o=0,u="",f=0,m=(this.aspSource=this.aspSource.replace(/\t/g,"  "),this.aspSource.split("\n")),c=0;c<m.length;c++){for(var d,p,g,b,x=0;x<=m[c].length;x++)if(b=e,e=m[c].substr(x,1),r=m[c].substr(x+1,1),p=m[c].substr(x+1,2),0==h)"%"==e&&"<"==b?(h=!0,this.aspArr.push({lv:o,type:"<asp>",label:"<%",upHtml:n.substr(0,n.length-1),downHtml:"",html:"<%",tagpair:2}),s=n=l="",o++):n+=e;else if("%"==e&&">"==r)h=!1,o--,this.aspArr.push({lv:o,type:"<asp>",label:"%>",upHtml:n,downHtml:"",html:"%>",tagpair:2}),s=n=l="",x++,e=m[c].substr(x,1),r=m[c].substr(x+1,1);else if(l+=e,'"'==e||""!=u)'"'==e&&f++,f%2==0&&'"'!=r?(u+=e,this.aspArr.push({lv:o,type:"<str>",label:s,upHtml:n,downHtml:"",html:u,tagpair:2}),f=0,s=n=l=u=""):u+=e;else if("("==e)o++,this.aspArr.push({lv:o,type:"<(>",label:e,upHtml:n,downHtml:"",html:l,tagpair:2}),s=n=l="";else if(")"==e)this.aspArr.push({lv:o,type:"<)>",label:e,upHtml:n,downHtml:"",html:l,tagpair:2}),s=n=l="",o--;else if(-1!="|&|,|+|-|*|/|=|:|>|<|".indexOf("|"+e+"|"))this.aspArr.push({lv:o,type:"<fuhao>",label:e,upHtml:n,downHtml:"",html:l,tagpair:1}),"="!=e&&">"!=e||">"!=(g=this.aspArr[this.aspArr.length-2]).label&&"<"!=g.label||(g.label+=e,g.html=" "+(g.html+e).trim(),this.aspArr.pop()),s=n=l="";else{if("'"==e){this.aspArr.push({lv:o,type:"<note>",label:e,upHtml:l,downHtml:"",html:m[c].substr(x+1),tagpair:1}),s=n=l="";break}""==e||!(0==this.isSpaceBr(e)||this.isSpaceBr(e)&&""!=s)||-1=="' ()+-*/=><&,:\"".indexOf(r)&&x!=m[c].length&&"%>"!=p?0==this.isSpaceBr(e)&&(s+=e.toLowerCase()):(s+=e.toLowerCase().trim(),-1!="0123456789".indexOf(s.substr(0,1))?i="<int>":"("==r||-1!=this.aspFunList.indexOf(","+s+",")||-1!=s.indexOf(".")?(i="<fun>",b=this.aspArr[this.aspArr.length-1],-1!=this.aspFunList.indexOf(","+s+",")||"("!=r||"function"!=b.label&&"sub"!=b.label||(")"!=m[c].substr(x+2).trim().substr(0,1)&&(this.haveParamFunction+=s+","),this.aspFunList+=s+",")):i="<var>",this.aspArr.push({lv:o,type:i,label:s,upHtml:n,downHtml:"",html:l,tagpair:2}),"function"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(o--,d.lv--,d.label+="function",d.html+=" function",this.aspArr.pop()):"exit"==d.label?(d.label+="function",d.html+=" function",this.aspArr.pop()):o++:"sub"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(o--,d.lv--,d.label+="sub",d.html+=" sub",this.aspArr.pop()):"exit"==d.label?(d.label+="sub",d.html+=" sub",this.aspArr.pop()):o++:"if"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(o--,d.lv--,d.label+="if",d.html+=" if",this.aspArr.pop()):o++:"else"==s||"elseif"==s||"then"==s?(this.aspArr[this.aspArr.length-1].lv--,"else"==s&&"case"==(d=this.aspArr[this.aspArr.length-2]).label&&(d.lv,d.label+="else",d.html+=" else",this.aspArr.pop())):"select"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(o--,d.lv--,d.label+="select",d.html+=" select",this.aspArr.pop(),a&&(a=!1,o--,d.lv--)):o++:"case"==s?"select"==(g=this.aspArr[this.aspArr.length-2]).label?(g.label+="case",g.html+=" case",this.aspArr.pop()):a?this.aspArr[this.aspArr.length-1].lv--:(o++,a=!0):"class"==s?"end"==(d=this.aspArr[this.aspArr.length-2]).label?(o--,d.lv--,d.label+="class",d.html+=" class",this.aspArr.pop()):o++:"each"==s?"for"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.label+="each",g.html+=" each",this.aspArr.pop()):"while"==s?("do"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.label+="while",g.html+=" while",this.aspArr.pop()),o++):"do"==s?"exit"==(g=this.aspArr[this.aspArr.length-2]).label&&(g.label+="do",g.html+=" do",this.aspArr.pop()):"loop"==s?(o--,this.aspArr[this.aspArr.length-1].lv--):"for"==s?"exit"==(g=this.aspArr[this.aspArr.length-2]).label?(g.label+="for",g.html+=" for",this.aspArr.pop()):o++:"next"==s?(g=this.aspArr[this.aspArr.length-2],p=this.aspArr[this.aspArr.length-4],"resume"==g.label?(p.label+="errorresumenext",p.html+=" error resume next",this.aspArr.pop(),this.aspArr.pop(),this.aspArr.pop()):(o--,this.aspArr[this.aspArr.length-1].lv--)):"goto"==s&&(g=this.aspArr[this.aspArr.length-2],b=this.aspArr[this.aspArr.length-3],"error"==g.label)&&(b.label+="errorgoto",b.html+=" error goto",this.aspArr.pop(),this.aspArr.pop()),i=s=n=l="")}c+1<m.length&&(this.aspArr.push({lv:o,type:"<br>",label:"\n",upHtml:n,downHtml:"",html:"\n",tagpair:1}),n="")}""!=n&&this.aspArr.push({lv:o,type:"<html>",label:"",upHtml:n,downHtml:"",html:"",tagpair:1})},this.tophp=function(){for(var t,e,r="",s="",i=[],l=[],n=[],h=0,a=!1,o=!1,u=!1,f="",m="",c="++",d="",p=!1,g=-1,b=-1,x=!1,y=-1,v="",L=",",A=","+this.phpPublicFunList,_=","+this.phpPublicObjectList,O=-1,w=[],C=!0,S="",T="",D=",",H=!1,P=!1,k=!1,F=!1,I=!1,U=0;U<this.aspArr.length;U++)C=!0,O==U&&(":"==(i=this.aspArr[U]).label?(s+=":",U++):s+=":",O=-1),0<U&&(l=this.aspArr[U-1]),i=this.aspArr[U],n={},U<this.aspArr.length-1&&(n=this.aspArr[U+1]),null!=w[i.lv]&&(s=w[i.lv]+"\n"+s,w[i.lv]=void 0),"<br>"==l.type&&(s+=this.common.copyStr("    ",i.lv+h)),1!=i.phpDel&&("<%"==i.label?(s+=i.upHtml+"<?",h--,"="!=n.label&&(s+="PHP","<br>"!=n.type)&&"<note>"!=n.type&&"<asp>"!=n.type&&(s+=" ")):"%>"==i.label?s+="?>":"<br>"==i.type?(o&&(s+="}",o=!1),s+=i.upHtml+"\n"):"<note>"==i.type?s+="//"+i.html:"<html>"==i.type?s+=i.upHtml+i.html:"<var>"==i.type?"onerrorresumenext"!=i.label&&("onerrorgoto"==i.label?s+="$"+i.label:(!u&&0!=H||""==S||(D+=i.label+","),-1!=A.indexOf(","+i.label+",")?"class"==l.label?(C=!1,s+=i.label+"{"):"new"==l.label?s+=i.label+"()":"="==n.label?(s+="return ",U++):(s+=i.label,"<(>"!=n.type&&(s+="()")):0==u&&-1==D.indexOf(","+i.label+",")&&H?s+="$GLOBALS['"+i.label+"']":(s+="$"+i.label,u&&(s+="=''")),0==P&&(s+=this.getAddFenHao(s,n,o)))):"<fuhao>"==i.type||"<int>"==i.type||"<(>"==i.type||"<)>"==i.type?a&&"="==i.label?s+="==":"&"==i.label?s+=".":"("==i.label?g==i.lv?s+="[":s+="(":")"==i.label?(g==i.lv?(s+="]","("!=n.label&&(g=-1)):y==i.lv?(r+=s+","+v+")",y=-1,v=s=""):b==i.lv?(b=-1,s+="){",""!=S&&(H=!0,"function"==T)&&(s+="\n"+this.common.copyStr("    ",i.lv+h-1)+"$"+S+"=''")):s+=")",0==P&&(s+=this.getAddFenHao(s,n,o))):","==i.label?p?(s+="]=",p=!1):y==i.lv?(v=s,s=""):u?(s+=";","<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||(u=!1)):s+=",":":"==i.label?(";"!=s.substr(s.length-1)&&(s+=";"),u=!1):"<>"==i.label?s+="!=":"<int>"==i.type?(s+=i.label,-1!=O||"selectcase"==d||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||(s+=";")):s+=i.label:"<str>"==i.type?s=(s+="'"+i.html.substr(1,i.html.length-2).replace(/""/g,'"').replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'")+this.getAddFenHao(s,n,o):"<fun>"==i.type&&("ucase"==i.label?s+="strtoupper":"setcookie"==i.label?s+="aspSetCookie":"getcookie"==i.label?s+="aspGetCookie":"response.addheader"==i.label?(s+="aspHeader","<(>"!=n.type&&-1!=this.haveParamFunction.indexOf(","+i.label+",")&&(s+="(",I=!0)):"lcase"==i.label?s+="strtolower":"date"==i.label?(s+="aspDate",this.aspArr.length>U+1&&"("!=this.aspArr[U+1].label&&(s+="()")):"time"==i.label?(s+="aspTime",this.aspArr.length>U+1&&"("!=this.aspArr[U+1].label&&(s+="()")):"randomize"==i.label?C=!1:"xor"==i.label?s+=" xor ":"rnd"==i.label?(s+="rnd",this.aspArr.length>U+1&&"("!=this.aspArr[U+1].label&&(s+="()")):"response.write"==i.label?s+="echo":"response.end"==i.label?s+="die":"session"==i.label?(s+="@$_SESSION",g=n.lv):"request.form"==i.label?(s+="@$_POST",g=n.lv):"request.querystring"==i.label?(s+="@$_GET",g=n.lv):"request"==i.label?(s+="@$_REQUEST",g=n.lv):"request.servervariables"==i.label?s+="servervariables":"err.number"==i.label?s+="0":"err.clear"==i.label?s+="echo('');":"nothing"==i.label?s+="null":"step"==i.label?(s+=";",c="+="+n.label,n.phpDel=!0):"byref"==i.label?s+="&":"isnumeric"==i.label?s+="is_numeric":"strcomp"==i.label?s+="aspStrComp":"vbtextcompare"==i.label?s+="''":"chr"==i.label?s+="aspchr":"hex"==i.label?s+="dechex":"and"==i.label?s+=" && ":"or"==i.label?s+=" || ":"mod"==i.label?s+=" % ":"not"==i.label?s+="!":"exitfor"==i.label?s+="break":"ubound"==i.label?s+="count":"split"==i.label?(L+=this.aspArr[U-2].label+".add,",r+=s+="explode(",s="",y=i.lv+1,U++):"new"==i.label?s+="new ":"function"==i.label||"sub"==i.label?(b=this.aspArr[U+2].lv,s+="function ",-1==A.indexOf(","+n.label+",")&&(A+=n.label+","),S=n.label,T=i.label):"endfunction"==i.label||"endsub"==i.label?("endsub"==i.label?s+=this.common.copyStr("    ",i.lv)+"return '';\n}":s+=this.common.copyStr("    ",i.lv)+"return @$"+S+";\n}",T=S="",H=!(D=",")):"exitfunction"==i.label?s+="return ''":"if"==i.label?(s+=i.label+"(",a=!0):"elseif"==i.label?(s+="}else if(",a=!0):"then"==i.label?(s+="){","<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type&&(o=!0),a=!1):"else"==i.label?s+="}else{":"endif"==i.label?(s+="}",o=!1):"selectcase"==i.label?(s+="switch ","("!=n.label&&(s+="(",k=!0),P=!0,d="selectcase"):"endselect"==i.label?(k=!1,null!=w[i.lv+1]&&(s=w[i.lv+1]+"\n"+s,w[i.lv+1]=void 0),s+="}"):"caseelse"==i.label?(s+="default ",w[i.lv]=this.common.copyStr("    ",i.lv)+"break;",this.findTypeLocation(U,"<fuhao>",":"),O=O<(t=this.findTypeLocation(U,"<br>","\n"))?O:t,C=!1):"case"==i.label?(s+=i.label+" ",w[i.lv]=this.common.copyStr("    ",i.lv)+"break;",this.findTypeLocation(U,"<fuhao>",":"),O=O<(t=this.findTypeLocation(U,"<br>","\n"))?O:t):"vbcrlf"==i.label?s+='"\\n"':"createobject"==i.label?(0<U-1&&(L+=this.aspArr[U-2].label+".add,"),U+1<this.aspArr.length&&'"scripting.dictionary"'==this.aspArr[U+2].html.toLowerCase()&&(s+="array();",U+=3)):-1!=L.indexOf(","+i.label+",")?(-1!=i.label.indexOf(".")?s+="$"+i.label.substr(0,i.label.indexOf("."))+"[":(s+="$"+i.label,g=n.lv),","==this.aspArr[U+2].label&&(p=!0)):-1!=L.indexOf(","+i.label+".")?(s+="$"+i.label,g=n.lv):"do"==i.label?s+="for(;;) {":"exitdo"==i.label?s+="break":"dowhile"==i.label?(s+="while","("!=n.label&&(s+="("),x=!0):"loop"==i.label?s+="}":"class"==i.label?(s+="class ",-1==A.indexOf(","+n.label+",")&&(A+=n.label+","),-1==_.indexOf(","+n.label+",")&&(_+=n.label+","),F=!0):"endclass"==i.label?s+="}":"foreach"==i.label?(e=this.aspArr[U+1],s+="foreach($"+this.aspArr[U+3].label+" as $key=>$"+e.label+"){",U+=3):"for"==i.label?(s+=i.label,"("!=n.label&&(s+="("),f="for",m=n.label,c="++"):"for"==f&&"to"==i.label?(e=this.aspArr[U+1],"ubound"==n.label?s+=";$"+m+"<":s+=";$"+m+"<=",f="forto"):"next"==i.label?s+="}":"dim"==i.label?u=!0:"rs.open"==i.label?(s+="$result=rsopen(",I=!0):"rs.eof"==i.label?("<fun>"==l.type&&"not"==l.label&&(s=s.substr(0,s.length-1)),-1==L.indexOf(",rs,")&&(L+="rs,"),s+="$rs=$conn->fetch_array($result)"):-1!=i.label.indexOf(".")?s+="$"+i.label.replace(/\./g,"->"):-1==",call,set,byval,".indexOf(","+i.label+",")&&(-1!=A.indexOf(","+i.label+",")?(S==i.label&&"function"!=l.label&&"sub"!=l.label&&(s+="$"),"class"==l.label?s+=i.label+"{":"new"==l.label?s+=i.label+"()":(s+=i.label,"<(>"!=n.type&&S!=i.label&&(-1!=this.haveParamFunction.indexOf(","+i.label+",")?(s+="(",I=!0):s+="()"))):s+=i.label),"<br>"!=n.type&&"<note>"!=n.type||!C||(F?F=!1:-1==",endfunction,then,endif,next,else,endselect,endclass,".indexOf(","+i.label+",")&&0==x&&(s+=";")))),I&&("<br>"==n.type||"<fuhao>"==n.type&&":"==n.label)&&(I=!1,";"==s.substr(s.length-1)?s=s.substr(0,s.length-1)+");":s+=")"),"forto"!=f||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||"to"==i.label?"selectcase"!=d||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||"selectcase"==i.label?!x||"<br>"!=n.type&&"<note>"!=n.type&&"<asp>"!=n.type||(")"!=l.label&&(s+=")"),s+="{",a=x=!1):(d="",")"!=l.label&&1==k&&(s+=")"),s+="{",P=k=!1):(s+="$"+m+c,m=f="",")"!=l.label&&(s+=")"),s+="{"),"<br>"==i.type&&(u=!1,r+=s,s="");return r+s},this.findTypeLocation=function(t,e,r){for(var s=t;s<this.aspArr.length;s++){var i=this.aspArr[s];if(i.type==e&&i.label==r)return s}},this.getAddFenHao=function(t,e,r){return("<br>"==e.type||"<note>"==e.type||"<asp>"==e.type)&&"{"!=t.substr(t.length-1,1)||r&&"else"==e.label?";":""},this.aspBeautify=function(t){for(var e=0;e<this.aspArr.length;e++){var r=this.aspArr[e];if("class"==r.label)e<this.aspArr.length&&(s=this.aspArr[e+1],this.phpPublicObjectList+=s.label+",",this.phpPublicFunList+=s.label+",");else if("then"==r.label){var s={};if("<br>"!=(s=e<this.aspArr.length-1?this.aspArr[e+1]:s).type&&"<note>"!=s.type&&"<asp>"!=s.type)for(var i=e+1;i<this.aspArr.length;i++)--this.aspArr[i].lv}else if("sub"==r.label||"function"==r.label)e<this.aspArr.length-1&&(s=this.aspArr[e+1],this.phpPublicFunList+=s.label+",");else if("do"==r.label){if("<br>"==(s=this.aspArr[e+1]).type)for(i=e+1;i<this.aspArr.length;i++)(r=this.aspArr[i]).lv++}else"echo"==r.label?r.label=r.html="aspEcho":"die"==r.label?r.label=r.html="aspDie":"print"==r.label&&(r.label=r.html="aspPrint")}if(""!=this.phpPublicFunList)for(var l=","+this.phpPublicFunList+",",e=0;e<this.aspArr.length;e++)"<var>"==(r=this.aspArr[e]).type&&-1!=l.indexOf(","+r.label+",")&&(r.type="<fun>")},this.printASP=function(t){for(var e="",r=null,s=0;s<this.aspArr.length;s++){var i,l,n=this.aspArr[s];null!=n&&(i=n.upHtml+n.html+n.downHtml,"zip"==t?i="/*"==n.label?"":i.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&("<br>"==n.type?s+1<this.aspArr.length&&(l=this.aspArr[s+1],i+=xiyueta.copyStr("  ",l.lv-1)):i=i.trim(),null!=r)&&(-1!=(this.aspBuiltInFunction+"dowhile,selectcase,foreach,").indexOf(","+r.label+",")||-1!=",to,and,or,then,in,step,".indexOf(","+n.label+",")||"<fuhao>"==n.type&&","!=i||"<fuhao>"==r.type||"("!=r.label&&"("!=n.label&&"<fun>"==r.type&&-1!=this.haveParamFunction.indexOf(","+r.label+","))&&(i=" "+i),""!=i&&(e+=i),r=n)}return e},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.aspArr)},this.getDocument=function(t,e,r,s,i){if(null==t&&(t=""),null==s&&(s=!1),0==this.aspArr.length)return console.log("%c 需要先解析一段asp代码","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf(",")){for(var l=[],n=t.split(","),h=0;h<n.length;h++){var a=this.getDocument(n[h],e,r,s);l=l.concat(a)}return l=this.delDomListDuplicate(l)}if(""==(t=t.trim()))return"";null==r&&(r=this.aspArr.length-1);for(var o,l=[],u=null,f=-1,m="",h=e=null==e?0:e;h<=r;h++)o=u,(u=this.aspArr[h])&&(-1==f?"<fun>"!=u.type||u.label!=t&&"*"!=t||"<fun>"!=o.type||"function"!=o.label&&"sub"!=o.label||(f=h-1,m=o.label):"<fun>"==u.type&&u.label=="end"+m&&(l.push({index:l.length,x:f,y:h}),f=-1));return l},this.delDomListDuplicate=function(t){if(t.length<=1)return t;for(var e="",r=-1,s=[],i=0;i<t.length;i++){var l,n=t[i];null!=n&&n&&(l=n.x+"|"+n.y,-1==(","+e+",").indexOf(","+l+","))&&(e+=","+l,r++,n.index=r,s.push(n))}return s},this.handleDomList=function(t){return"object"==this.toType(t)?null!=t.domList?t.domList:null!=t._index?[{index:0,x:t._index,y:t._index}]:[t]:"string"==this.toType(t)?this.getDocument(t):t},this.each=function(t,e){if("function"!=typeof e)return!1;t=this.handleDomList(t);for(var r=[],s=0;s<t.length;s++){var i=t[s],l=e.call(i,s,i);if(i.value=l,r.push(i),"boolean"==typeof l&&0==l)break}return r},this.html=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"html",r)},this.htmlwrap=function(t,e){var r=2<=arguments.length?"set":"get";return this.handleTextHtml(t,e,"htmlwrap",r)},this.functionName=function(t,e){if(null==t)return[];if((t=this.handleDomList(t)).length<=0)return[];for(var r=0;r<t.length;r++)if(null!=t[r]){var s=t[r].x,s=(t[r].y,this.aspArr[s+1]);if(s)return s.label}},this.handleTextHtml=function(t,e,r,s){if(null!=t&&!((t=this.handleDomList(t)).length<=0)){var i=this.toType(e);if("function"==i){for(var l=this.each(t,e),n=0;n<l.length;n++)l[n]&&this.handleTextHtml(l[n],l[n].value,r,s);return!1}if("set"==s){if("undefined"==i)return;if(null==e)e="";else if("boolean"==i&&"text"!=r)0==e?e="":e+="";else if("array"==i&&"text"!=r){for(var h="",n=0;n<e.length;n++)h+=e[n];e=h}else"object"==i&&"text"!=r||"number"==i&&e+""=="NaN"&&"text"!=r?e="":e+="";"text"==r&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"))}for(h="",n=0;n<t.length;n++)if(null!=t[n])for(var a=t[n].x,o=t[n].y,u=a;u<=o;u++){var f=this.aspArr[u];if(f)if("text"==r)u==a?"get"==s&&(h+=f.downHtml):u<o?"set"==s?delete this.aspArr[u]:h+=f.upHtml+f.downHtml:u==o&&("get"==s?h+=f.upHtml:f.upHtml=e);else if(u==a)"get"==s?("htmlwrap"==r&&(h+=f.html),h+=f.downHtml):"htmlwrap"==r&&(f.html="",u==o)&&(f.upHtml+=e);else if(u<o)"set"==s?delete this.aspArr[u]:h+=f.upHtml+f.html+f.downHtml;else if(u==o)if("get"==s){if(h+=f.upHtml,"htmlwrap"==r&&(h+=f.html),"get"==s)return h}else f.upHtml=e,"htmlwrap"==r&&(f.html="")}return"get"==s?h:void 0}}},_asp=new _XIYUETAASP,xiyuetaASP=function(t,e,r){return new xiyuetaASP.fn.init(t,e,r)};xiyuetaASP.fn=xiyuetaASP.prototype={length:0,selector:"",domList:void 0,x:null,y:null,domListIndex:0},xiyuetaASP.extend=xiyuetaASP.fn.extend=function(){var t,e,r,s=arguments[0]||{},i=1,l=arguments.length;for(i===l&&(s=this,i--);i<l;i++)if(null!=(t=arguments[i]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&void 0!==r&&(s[e]=r);return s},(init=xiyuetaASP.fn.init=function(t,e,r){this.length=0,this.selector=t,this.domList=[],this.x=e,this.y=r,this.domListArray=[],0<_asp.aspArr.length&&("string"==typeof t?(this.domList=_asp.getDocument(t,e,r),this.length=this.domList.length):"object"==typeof t&&(this.domList=t,this.length=1,this.selector="")),null==this.selector&&(this.selector="")}).prototype=xiyuetaASP.fn,xiyuetaASP.fn.extend({parse:function(t){return _asp.aspParse(t),this},beautify:function(t){return _asp.aspBeautify(t),this},tophp:function(t){return this.beautify(),((t=null==t?!1:t)?'<?PHP include_once "ASP.php" ?>\n':"")+_asp.tophp()},print:function(t){return _asp.printASP(t)},debug:function(t){return _asp.debug(t)},each:function(t){return _asp.each(this.domList,t),this},text:function(t){return 1<=arguments.length?(_asp.html(this.domList,t),this):_asp.html(this.domList)},html:function(t){return 1<=arguments.length?(_asp.htmlwrap(this.domList,t),this):_asp.htmlwrap(this.domList)},htmlwrap:function(t){return 1<=arguments.length?(_asp.htmlwrap(this.domList,t),this):_asp.htmlwrap(this.domList)},remove:function(){return _asp.htmlwrap(this.domList,""),this},functionName:function(){return _asp.functionName(this.domList)}}),xiyuetaASP.load=function(t){return xiyuetaASP().parse(t),this},xiyuetaASP.html=function(t){return xiyuetaASP().print(t)},xiyuetaASP.tophp=function(t){return xiyuetaASP().tophp(t)},xiyuetaASP.debug=function(t){return xiyuetaASP().debug(t)},XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",r="",s=(t=t.trim()).indexOf("?");-1!=s&&(r=t.substr(s),t=t.substr(0,s));var i=!1;for(-1!=(s=t.indexOf("://"))&&(e=t.substr(0,s+3),t=t.substr(s+3),i=!0),0==i&&":"==t.substr(1,1)&&(i=!0);-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).replace(/\/\//g,"/")).indexOf("/../")){for(var l=[],n=0,h=t.split("/"),a=0;a<h.length;a++)".."==(o=h[a])?(0==n?n=a-1:--n,i?0<n&&delete l[n]:0<=n&&delete l[n]):(l.push(o),n=0);for(t="",a=0;a<l.length;a++){var o=l[a];null!=l[a]&&(""!=t&&(t+="/"),t+=l[a])}}return e+t+r},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){var r,s,i,l,n;return null==e||""==(e=(e+="").replace(/\\/g,"/").trim())||"./"==e?"":(-1!=(n=(thisUrl=-1!=(n=(thisUrl=t).indexOf("?"))?thisUrl.substr(0,n):thisUrl).indexOf("#"))&&(thisUrl=thisUrl.substr(0,n)),r=l=s="",l=-1!=(n=t.indexOf("://"))?(s=t.substr(0,n+3),-1==(n=(i=t.substr(n+3)).lastIndexOf("/"))&&(n=(i+="/").lastIndexOf("/")),r=s+i.substr(0,n+1),n=i.indexOf("/"),s+i.substr(0,n+1)):(-1==(n=t.lastIndexOf("/"))&&(n=(t+="/").lastIndexOf("/")),r=t.substr(0,n+1),n=t.indexOf("/"),t.substr(0,n+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?l+e:"?"==e.substr(0,1)?thisUrl+e:r+e),this.handleFileUrl(e))},XiyuetaCommon.prototype.getUrlDir=function(t,e){if("string"!=typeof t)return"";var r;-1<(t=t.replace(/\\/g,"/").trim()).indexOf("://")&&(r=t.indexOf("://",1),t=-1!=(t=t.substring(r+3,t.length)).indexOf("/")?t.substr(t.indexOf("/")+1):""),-1!=(t=-1!=(t="/"==t.substr(0,1)?t.substr(1):t).indexOf("?")?t.substr(0,t.indexOf("?")):t).indexOf("#")&&(t=t.substr(0,t.indexOf("#")));for(var s=1;s<9&&-1!=t.indexOf("//");s++)t=t.replace(/\/\//g,"/");return-1!=t.indexOf("/")?"fz"==e?(t=t.substr(0,t.lastIndexOf("/"))).replace(/\//g,"_"):t.substr(0,t.lastIndexOf("/")+1):""},XiyuetaCommon.prototype.getUrlFileName=function(t,e){var r,s,i;return"string"!=typeof t||(-1<(t=t.replace(/\\/g,"/").trim()).indexOf("://")&&(s=t.indexOf("://",1),t=-1!=(t=t.substring(s+3,t.length)).indexOf("/")?t.substr(t.indexOf("/")+1):""),i=s="",-1!=(t=-1!=(t=(t=t.split("/"))[t.length-1]).indexOf("?")?t.substr(0,t.indexOf("?")):t).indexOf(".")?(r=t.lastIndexOf("."),s=t.substr(0,r),i=t.substr(r+1).toLowerCase()):s=t,""==s)?"":("image"==e?""==i?t+=".jpg":-1=="|bmp|jpg|jpeg|gif|png|svg|woff2|woff|ttf|eot|cur|txt|css|ico|otf|".indexOf("|"+i+"|")&&(t=s+".jpg"):"css"==e?""==i?t+=".css":-1=="|css|".indexOf("|"+i+"|")&&(t=s+".css"):"js"==e?""==i?t+=".js":-1=="|js|".indexOf("|"+i+"|")&&(t=s+".js"):"html"==e?""==i?t+=".html":-1=="|html|htm|".indexOf("|"+i+"|")&&(t=s+".html"):(t=s,""!=i&&(t+="."+i)),t)},XiyuetaCommon.prototype.setFileNameA=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"pie")).replace(/\//g,"la")).replace(/:/g,"maohao")).replace(/\*/g,"xin")).replace(/\?/g,"wen")).replace(/"/g,"yinhao")).replace(/</g,"zou")).replace(/>/g,"you")).replace(/\|/g,"heng")).replace(/\n/g,"")},XiyuetaCommon.prototype.checkUrl=function(t){return!!/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i.test(t=null==t?"":t)},XiyuetaCommon.prototype.getDomain=function(t,e){var r,s,i,l;return"string"==typeof t&&(r=1<=arguments.length&&1==e,-1<t.indexOf("//"))?((s=t.indexOf("//",1))<0&&(s=0,r=!1),l=(i=t.substring(s+1,t.length)+"/").indexOf("/",1),-1!=(l=(i=i.substring(1,l)).indexOf(":"))&&(i=i.substr(0,l)),1==r?t.substr(0,s+2)+i:i):""},XiyuetaCommon.prototype.getUrlToFileName=function(t,e){var r=t,s=xiyueta.config().urlToNameList,i=(null!=e&&""!=e||(e="image"),t.indexOf("?")),l=(-1!=(i=(t=-1!=i?t.substr(0,i):t).indexOf("#"))&&(t=t.substr(0,i)),""),n="\r\n"+s+"|";if(""==(l=-1==(i=n.indexOf("\r\n"+t+"|"))&&-1==(i=n.indexOf("\r\n"+r+"|"))?l:n.substr(i).split("|")[1])){l=this.getUrlFileName(t,e),"image"==e&&(e="bmp"),""==l?""==(l="_"==(l=this.getUrlDir(t+"/","fz")).substr(l.length-1,1)?l.substr(0,l.length-1):l)&&(l=xiyueta.config().urlDefaultFileName+"."+e):-1!=(i=l.lastIndexOf("."))&&(e=l.substr(i+1)),""!=e&&-1==l.indexOf(".")&&(l+="."+e);for(var h=l,a=1;a<9&&-1!=s.indexOf("|"+l+"|");a++)l=h.substr(0,h.length-e.length-1)+"_"+a+"."+e}return l=this.setFileNameA(l)},XiyuetaCommon.prototype.getUrlParam=function(t,e){if(e+="",1<(r=(t+="").split("?")).length)for(var r=r[1].split("&"),s=0;s<r.length;s++){var i,l=r[s].split("=");if(l[0]==e)return 1<(i=l[1].split("#")).length?i[0]:l[1]}return""},XiyuetaCommon.prototype.getQueryString=function(t,e){e=new RegExp("(^|&|/?)"+e+"=([^&|/?]*)(&|/?|$)","i"),t=t.substr(1).match(e);return null!=t?t[2]:null},XiyuetaCommon.prototype.getFileExt=function(t){var e=t.lastIndexOf("?");return-1!=(e=(t=-1!=e?t.substr(0,e):t).lastIndexOf("."))?t.substr(e+1):""},_XIYUETA.prototype.cutLabel=function(t,e){var r="",s="";if(0<(t=this.handleDomList(t)).length){for(var i=0;i<this.htmlArr.length;i++){var l="",n=this.htmlArr[i];if(n)if("/style"==n.label?l=n.upHtml:"link"==n.label&&"stylesheet"==(this.attr(n,"rel")+"").toLowerCase().trim()&&(l=n.content),""!=l){var h=!1,a="",o=new _XIYUETACSS;o.cssParse(l),o.debug(),0<o.lv&&alert("CSS层有错误(提取CSS可能会有错误)="+o.lv);for(var u=0;u<o.cssArr.length;u++){var f,m=o.cssArr[u];m&&(f=m.label.toLowerCase(),0!=h||1!=m.lv||-1==f.indexOf(" screen ")&&-1==f.indexOf("(max-width:")&&-1==f.indexOf("(min-width:")||-1==f.indexOf("@media")?1==h&&1==m.lv&&"}"==m.label?(h=!1,""!=r&&(s+=a+r+"}\n"),r=""):(h||1==m.lv)&&this.checkCssInHtml(t,m.label)&&(r+=m.html+"\n"):(h=!0,s+=r,r="",a=m.label+"{\n"))}s+=r}}xiyuetaCSS().parse(s),xiyuetaCSS("(all)").delrepeat(),""!=(s=xiyuetaCSS().print("format"))&&(s="<style>"+s+"\n</style>\n");var c=xiyueta(t).htmlwrap();return xiyueta.load(c),xiyueta("style").remove(),s+this.printHTML("format")}return""},_XIYUETA.prototype.checkCssInHtml=function(t,e){t=this.handleDomList(t);var r=e,s=e.indexOf("{");return""!=(e=-1<s?e.substr(0,s):e)&&(-1!=(s=","+(e=this.getCleanStyleName(e))+",").indexOf(",*,")||-1!=s.indexOf(",* ")||-1!=s.indexOf(",html,")||-1!=s.indexOf(",html ")||-1!=s.indexOf(",body,")||-1!=s.indexOf(",body ")||(s=t[0].x,t=t[0].y,s=0<xiyueta(e,s,t).length,console.log("显示",r,"=",e," = ",s),s))},_XIYUETA.prototype.getCleanStyleName=function(t){for(var e="",r=t.split(","),s=0;s<r.length;s++){var i=r[s],i=this.extractCssStyleName(i,i.lastIndexOf(":"));i=this.extractCssStyleName(i,i.lastIndexOf(":")),i=this.extractCssStyleName(i,i.lastIndexOf(":")),i=this.extractCssStyleName(i,i.lastIndexOf(":")),""!=e&&(e+=","),e+=i=this.extractCssStyleName(i,i.lastIndexOf("["))}return e},_XIYUETA.prototype.extractCssStyleName=function(t,e){var r,s,i;return 0<e&&(i=t.substr(0,e),r=(e=t.substr(e+1)).indexOf(" "),s=e.indexOf(","),t=i,-1==r&&-1==s||(i=99,-1!=r&&r<i&&(i=r),t+=e.substr(i=-1!=s&&s<i?s:i))),t},xiyueta.fn.extend({cutlabel:function(t){return _xyt.cutLabel(this.domList,t)}});