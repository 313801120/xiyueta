/*! xiyueta v1.3.1 | Author xiyueta Adream | MIT License By http://xiyueta.com/  */
var _XIYUETACSS=function(t){"use strict";this.cssSource=t=null==t?"":t,this.cssArr=[],this.common=new XiyuetaCommon,this.lv=0,this.config={parentdir:"../",imagesdir:"images/"},this.cssParse=function(t){null!=t&&(this.cssSource=t,this.cssArr=[]);var e,i="",l="",s="",r="",n=!1,a=!1,h=!1,o=!1,u=!1,f=0;this.domList="";for(var m=0;m<=this.cssSource.length-1;m++)e=i,i=this.cssSource.substr(m,1),n?(s+=i,h?"/"==i&&"*"==e&&(n=h=!1,this.cssArr.push({lv:1,label:"/*",upHtml:r,downHtml:"",html:s}),r=s=""):a&&"*"==i&&"/"==e?h=!0:o?!u||";"!=i&&"\n"!=i?" "==i&&a?"@charset "==s.toLowerCase()?a=!(u=!0):"@font-face "==s.toLowerCase()&&(o=!1):"{"==i&&("@font-face{"==s.toLowerCase()?o=!1:(o=n=a=!1,this.cssArr.push({lv:1,label:l.toLowerCase().replace(/ /g,"").trim(),upHtml:r,downHtml:"",html:s}),f++,r=s="")):(o=n=a=u=!1,this.cssArr.push({lv:1,label:l.toLowerCase().replace(/ /g,"").trim(),upHtml:r,downHtml:"",html:s}),r=s=""):"{"==i&&a?a=!1:"}"==i&&(n=a=!1,this.cssArr.push({lv:f+1,label:l.toLowerCase().replace(/ /g,"").trim(),upHtml:r,downHtml:"",html:s}),r=s=""),a&&(" "!=i||" "!=e&&","!=e)&&(l+=i)):" "!=i&&";"!=i&&"\n"!=i?"}"==i&&1==f?(this.cssArr.push({lv:f,label:"}",upHtml:r,downHtml:"",html:"}"}),r=s="",f--):(r=s,a=n=!0,"@"==(l=s=i)&&(o=!0)):s+=i;""!=s&&this.cssArr.push({lv:f,label:"",upHtml:"",downHtml:"",html:s}),this.lv=f},this.handleLabelParam=function(t,e,i){if(null==e&&(e="(all)"),null==i&&null!=t[e])return t[e];var l,s="";-1!=e.indexOf("|")&&(e=(l=e.split("|"))[0],s=l[1],""==e&&(e="(all)"));for(var r=!1,n="",a="",h=!1,o="",u=!1,f=!0,m=0,c=0,d=!1,p="",g=t.html.indexOf("{")+1;g<=t.html.length-1;g++){var x=t.html.substr(g,1);if(h)if(u){if(0!=(d=1==d&&")"==x?!1:d)||x!=o&&"}"!=x&&g!=t.html.length-1)a+=x,"("==x&&(d=!0);else if(t[n=n.toLowerCase().trim()]=a,u=h=!1,o="",e==n||"(all)"==e)if(null==i){if("url"!=s)return a;""!=(a=this.cssSrcUrl(a))&&(""!=p&&(p+="\n"),p+=a)}else{if(""==i){var y=t.html.substr(0,c),v=t.html.substr(g+1);return t.html=y+v,t}var b=m,L=m+a.length;f&&(b++,L++);y=t.html.substr(0,b),v=t.html.substr(L);if("url"!=s){C=y+i+v;return t.html=C,t[n]=i,t}L=this.cssSrcUrl(a,i);if(""!=L){""!=p&&(p+="\n"),p+=L;var C=y+L+v;return t.html=C,g=(y+(t[n]=L)).length,t}}}else" "!=x&&(o=";",m=g,f=!(u=!0),a=x);else r?":"==x?(h=!(r=!1),o=a=""):" "!=x&&(n+=x):" "!=x&&(r=!0,n=x,c=g)}if(null!=i&&""!=i){for(var A=e+": "+i+";",_=t.html.length-1;0<=_;_--)if(" "!=(x=t.html.substr(_,1))&&"}"!=x){if(";"==x)break;if("{"==x)break;A="; "+A;break}t.html=t.html.replace("}",A+"}")}return p=""==p?void 0:p},this.getDocument=function(t,e,i){null==e&&(e=0),null==i&&(i=this.cssArr.length-1);var l=-1.1,s=-1.1,r=-1.1,n=-1.1,a="",h="",o="",u="",f="";if(t=(t=null==t?"":t).trim(),0==this.cssArr.length)return console.log("%c 需要先解析一段css文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var m=!1,c="",d=0;d<=t.length;d++){var p=t.substr(d,1);0!=m||"'"!=p&&'"'!=p&&"("!=p&&")"!=p?1==m?" "==p?p="-Space-":"'"!=p&&'"'!=p&&"("!=p&&")"!=p||(m=!1,"'"!=p&&'"'!=p||(p="")):" "==p&&(p=""):(m=!0,"'"!=p&&'"'!=p||(p="")),c+=p}t=c}var g,x,y,v,b,L=t.indexOf(":");-1!=L&&(x=g="",y=(p=t.substr(L+1)).indexOf("("),v=p.indexOf(")"),-1!=y&&-1!=v?(g=p.substr(0,y).toLowerCase(),v=(x=p.substr(y+1)).indexOf(")"),x=x.substr(0,v).replace(/-Space-/g," ").trim()):g=p.toLowerCase(),"first"==g?l=0:"last"==g?l=-1:"even"==g?s=1:"odd"==g?s=0:"eq"==g?(l=0,(l=""!=x?parseInt(x):l)+""=="NaN"&&(l=-.1,t="")):"gt"==g?""!=x&&(r=parseInt(x)):"lt"==g?""!=x&&(n=parseInt(x)):"contains"==g?a=x:console.log(t,"没有动作 "+g),""==(t=t.substr(0,L))&&-.1!=l&&(t="(all)")),-1!=(L=t.indexOf("["))&&(v=(p=t.substr(L+1)).indexOf("]"),-1==(p=p.substr(0,v)).indexOf("=")?(h=p,o="*"):(h=(b=p.split("="))[0],o=b[1].replace(/-Space-/g," "),b=h.substr(h.length-1),-1!="!^$*~|".indexOf(b)&&(h=h.substr(0,h.length-1),u=b)),-1!=h.indexOf("|")&&(h=(b=h.split("|"))[0],"NOUL"==b[1]&&(o=o.toLowerCase(),f=b[1])),""==(t=t.substr(0,L))&&(t="(all)")),t=t.replace(/ /g,"");for(c="",d=e;d<=i;d++){var C=this.cssArr[d];null!=C&&(t!=C.label&&"(all)"!=t||(c+=","+d))}if(""!=c&&-1.1!=l){var A=c.split(",");""!=(c=l<0?A[A.length+l]:A[l+1])&&(c=","+c)}else if(""!=c&&-1.1!=s){A=c.split(",");c="";for(d=1;d<=A.length-1;d++)d%2==s&&(c+=","+A[d])}else if(""!=c&&-1.1!=r){A=c.split(",");c="";for(d=r+2;d<=A.length-1;d++)c+=","+A[d]}else if(""!=c&&-1.1!=n){A=c.split(",");c="",n>A.length-1&&(n=A.length-1);for(d=1;d<=n;d++)c+=","+A[d]}else if(""!=c&&""!=a){A=c.split(",");c="";for(d=1;d<=A.length-1;d++){p=A[d];this.domList=","+p,-1!=this.text("").indexOf(a)&&(c+=","+A[d])}}else if(""!=h){A=c.split(",");c="";for(d=1;d<=A.length-1;d++){var _=A[d];this.domList=","+_;var O=!0,p=this.css(h);"NOUL"==f&&null!=p&&(p=p.toLowerCase()),"^"==u?null!=p&&p.substr(0,o.length)==o||(O=!1):"|"==u?null!=p&&(p+"-").substr(0,o.length+1)==o+"-"||(O=!1):"$"==u?null!=p&&p.substr(-1*o.length)==o||(O=!1):"~"==u?null!=p&&-1!=(" "+p+" ").indexOf(" "+o+" ")||(O=!1):"*"==u?null!=p&&-1!=p.indexOf(o)||(O=!1):"!"==u?p==o&&(O=!1):null!=p&&"*"==o?O=!0:p!=o&&(O=!1),O&&(c+=","+_)}}return c},this.text=function(t,e,i,l){for(var s=this.domList,r="",n=(s=null==this.domList?this.getDocument(t,i,l):s).split(","),a=1;a<=n.length-1;a++){var h,o,u=this.cssArr[n[a]];null!=u&&(h=u.html.indexOf("{"),o=u.html.indexOf("}"),null==e?-1!=h&&-1!=o&&(r+=u.html.substr(h+1,o-h-1)):u.html=u.html.substr(0,h+1)+e+"}")}return r},this.html=function(t,e,i,l){for(var s=this.domList,r=(s=null==this.domList?this.getDocument(t,i,l):s).split(","),n=1;n<=r.length-1;n++){var a=this.cssArr[r[n]];if(null!=a){if(null==e)return a.html;a.html=e}}},this.after=function(t,e,i,l){for(var s=this.domList,r=(s=null==this.domList?this.getDocument(t,i,l):s).split(","),n=1;n<=r.length-1;n++){var a=this.cssArr[r[n]];null!=a&&null!=e&&(a.downHtml+=e)}return this},this.before=function(t,e,i,l){for(var s=this.domList,r=(s=null==this.domList?this.getDocument(t,i,l):s).split(","),n=1;n<=r.length-1;n++){var a=this.cssArr[r[n]];null!=a&&null!=e&&(a.upHtml+=e)}return this},this.remove=function(t,e,i){for(var l=this.domList,s=(l=null==this.domList?this.getDocument(t,e,i):l).split(","),r=1;r<=s.length-1;r++){var n=this.cssArr[s[r]];null!=n&&(n.html="",n.label="<del>")}return this},this.css=function(t,e,i,l,s){for(var r=this.domList,n=(r=null==this.domList?this.getDocument(t,l,s):r).split(","),a=1;a<=n.length-1;a++){var h=this.cssArr[n[a]];if(null!=h){if(null==i)return this.handleLabelParam(h,e);this.handleLabelParam(h,e,i)}}},this.getBackground=function(t,e,i){for(var l,s=this.domList,r="",n=(s=null==this.domList?this.getDocument(t,e,i):s).split(","),a=1;a<=n.length-1;a++)null!=this.cssArr[n[a]]&&(this.domList=","+n[a],null!=(l=this.css("","background"))&&(l=this.cssSrcUrl(l),r+=this.handleClearBackground(l)));return r},this.setBackground=function(t,e,i,l){for(var s,r=this.domList,n=(r=null==this.domList?this.getDocument(t,i,l):r).split(","),a=1;a<=n.length-1;a++)null!=this.cssArr[n[a]]&&(this.domList=","+n[a],null!=(s=this.css("","background"))&&("server="==e.substr(0,7)?(s=this.handleClearBackground(s),e=this.common.fullHttpUrl(e.substr(7),s)):"dir="==e.substr(0,4)&&(s=this.handleClearBackground(s),e=e.substr(4)+this.common.getUrlFileName(s)),this.css("","background","url("+e+")")));return this},this.getsrc=function(t,e,i,l){for(var s=this.domList,r="",n=(s=null==this.domList?this.getDocument(t,i,l):s).split(","),a=1;a<=n.length-1;a++)if(null!=this.cssArr[n[a]]){this.domList=","+n[a];var h=this.text("").replace(/;/g,","),o=this.cssSrcUrl(h),o=this.handleClearBackground(o);if(null!=e)for(var u=o.split(","),f=0;f<=u.length-1;f++)""!=(o=u[f])&&("server="==e.substr(0,7).toLowerCase()?o=this.common.fullHttpUrl(e.substr(7),o):"dir="==e.substr(0,4).toLowerCase()?o=e.substr(4)+this.common.getUrlFileName(o):"filename"==e.substr(0,8).toLowerCase()&&(o=this.common.getUrlFileName(o)),""!=r&&(r+=","),r+=o);else""!=o&&(""!=r&&(r+=","),r+=o)}return r},this.setSrcUrl=function(t,e,i,l){for(var s=this.domList,r=(s=null==this.domList?this.getDocument(t,i,l):s).split(","),n=1;n<=r.length-1;n++)if(null!=this.cssArr[r[n]]){this.domList=","+r[n];for(var a="",h=this.text(""),o=h.split(";"),u=0;u<=o.length-1;u++){s=o[u];""!=a&&(a+=";"),a+=s=this.cssSrcUrl(s,e)}h!=a&&this.text("",a)}return this},this.handleClearBackground=function(t){var e=t.indexOf("(");if(-1==(t=-1!=(e=(t=-1!=e?t.substr(e+1):t).indexOf(")"))?t.substr(0,e):t).indexOf("'")&&-1==t.indexOf('"')&&-1==t.indexOf("("))return t;for(var i=!1,l="",s=0;s<=t.length;s++){var r=t.substr(s,1);0!=i||"'"!=r&&'"'!=r&&"("!=r&&")"!=r?1==i?"'"!=r&&'"'!=r&&"("!=r&&")"!=r||(i=!1,"'"!=r&&'"'!=r||(r="")):" "==r&&(r=""):(i=!0,"'"!=r&&'"'!=r||(r="")),l+=r}return l.trim()},this.cssSrcUrl=function(t,e){if(-1==t.indexOf(","))return this.handleCssSrcUrl(t,e);for(var i=t.split(","),l="",s=0;s<i.length;s++){var r=i[s];""!=(r=this.handleCssSrcUrl(r,e))&&(""!=l&&(l+=","),l+=r)}return l},this.handleCssSrcUrl=function(t,e){if(null==t)return"";if(null==e){if(-1==t.indexOf("(")||-1==t.indexOf(")"))return null==e||"dir="==e.substr(0,4)||"server="==e.substr(0,7)?"":t;if(-1==t.toLowerCase().indexOf("url"))return null==e||"dir="==e.substr(0,4)||"server="==e.substr(0,7)?"":t}for(var i="",l=!1,s=!1,r="",n=-1,a=0;a<=t.length-1;a++){var h=t.substr(a,1);if(l)if(s){if(r==h){var o=t.substr(n,a-n);if(null!=e)if("server="==e.substr(0,7)){if(-1!=o.indexOf("data:"))return t;o=t.substr(0,n)+this.common.fullHttpUrl(e.substr(7),o)+t.substr(a)}else if("dir="==e.substr(0,4)){if(-1!=o.indexOf("data:"))return t;o=t.substr(0,n)+e.substr(4)+this.common.getUrlFileName(o)+t.substr(a)}else-1==o.indexOf("data:")&&(o=t.substr(0,n)+e+t.substr(a));return o}}else""!=h&&('"'==h||"'"==h?(s=!0,r=h,-1==n&&(n=a+1)):" "!=h&&(s=!0,r=")",-1==n&&(n=a)));else if("("==h){if("url"==i.trim().toLowerCase().substr(-3,3))l=!0;else if(null==e)return""}else i+=h}return t},this.handleCssCharset=function(t){for(var e=0;e<=this.cssArr.length-1;e++){var i=this.cssArr[e];if(null!=i)if("@charset"==i.label)return null!=t?(i.html='@charset "'+t+'";',""):i.html.substr(9).replace(/"/g,"").replace(/'/g,"").replace(/;/g,"").trim().toLowerCase()}return""},this.setConfig=function(t){if(null==t)return this.config;if(null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir,null!=t.cssdir)){for(var e=t.cssdir.split("/"),i="",l=0;l<=e.length-2;l++)i+="../";this.config.parentdir=i}null!=t.parentdir&&(this.config.parentdir=t.parentdir)},this.printCss=function(t){for(var e="",i=0;i<=this.cssArr.length-1;i++){var l,s=this.cssArr[i];null!=s&&(l=s.upHtml+s.html+s.downHtml,"zip"==t?l="/*"==s.label?"":l.replace(/  /g," ").replace(/  /g," ").replace(/{ /g,"{").replace(/ {/g,"{").replace(/\n/g,"").trim():"format"==t&&(l=l.trim()+"\n"),""!=l&&(e+=l))}return e},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.cssArr)}},_xytcss=new _XIYUETACSS,xiyuetaCss=function(t,e,i){return new xiyuetaCss.fn.init(t,e,i)};xiyuetaCss.fn=xiyuetaCss.prototype={length:1,selector:"",docList:"",x:null,y:null},xiyuetaCss.extend=xiyuetaCss.fn.extend=function(){var t,e,i,l=arguments[0]||{},s=1,r=arguments.length;for(s===r&&(l=this,s--);s<r;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&l!==i&&void 0!==i&&(l[e]=i);return l};var init=xiyuetaCss.fn.init=function(t,e,i){if(this.length=0,this.selector=t,this.x=e,this.y=i,null==this.selector)return this.selector="",this;0<_xytcss.cssArr.length&&("string"==typeof t?(i=(e=_xytcss.getDocument(t,e,i)).split(","),this.length=i.length-1,this.domList=e):"#object"==typeof t&&(this.domList=","+t.x,this.selector="")),_xytcss.domList=this.domList};init.prototype=xiyuetaCss.fn,(xiyuetaCSS=$xytcss=$css=xiyuetaCss).fn.extend({parse:function(t){var e;return _xytcss.cssParse(t),0<_xytcss.cssArr.length&&"string"==typeof this.selector&&(t=(e=_xytcss.getDocument(this.selector,this.x,this.y)).split(","),this.length=t.length-1,_xytcss.domList=this.domList=e),this},text:function(t){return null!=t?(_xytcss.text(this.selector,t),this):_xytcss.text(this.selector)},html:function(t){return null!=t?(_xytcss.html(this.selector,t),this):_xytcss.html(this.selector)},css:function(t,e){return null!=e?(_xytcss.css(this.selector,t,e),this):_xytcss.css(this.selector,t)},remove:function(){return _xytcss.remove(this.selector,this.x,this.y),this},after:function(t){return _xytcss.after(this.selector,t,this.x,this.y),this},before:function(t){return _xytcss.before(this.selector,t,this.x,this.y),this},background:function(t){return null==t?_xytcss.getBackground(this.selector,this.x,this.y):(_xytcss.setBackground(this.selector,t,this.x,this.y),this)},getsrc:function(t){return _xytcss.getsrc(this.selector,t,this.x,this.y)},setsrc:function(t){return _xytcss.setSrcUrl(this.selector,t,this.x,this.y),this},charset:function(t){return _xytcss.handleCssCharset(t)},config:function(t){return _xytcss.setConfig(t)},print:function(t){return _xytcss.printCss(t)},debug:function(t){return _xytcss.debug(t)}}),xiyuetaCSS.fn.extend({eq:function(t){null==t||""==t?t=0:(t=parseInt(t))+""=="NaN"&&(t=-1.1);var e,i="";return-1.1==t?(this.selector="",this.length=0):(e=this.domList.split(","),0<=t?t++:t=e.length+t,i=e[t],this.length=1,(this.selector="")!=i&&(i=","+i)),_xytcss.domList=this.domList=i,this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){for(var t=this.domList.split(","),e="",i=1;i<=t.length-1;i++)i%2==1&&(e+=","+t[i]);return _xytcss.domList=this.domList=e,this},odd:function(){for(var t=this.domList.split(","),e="",i=1;i<=t.length-1;i++)i%2==0&&(e+=","+t[i]);return _xytcss.domList=this.domList=e,this},slice:function(t,e){return _xytcss.domList=this.domList=_xytcss.slice(this.domList,this.x,this.y,t,e),-1!=this.domList.indexOf(",")?(e=this.domList.split(","),this.length=e.length-1):this.length=0,this},lv:function(){return _xytcss.lv}});var _XIYUETA=function(t){"use strict";this.htmlSource=t=null==t?"":t,this.htmlArr=[],this.lv=0,this.common=new XiyuetaCommon,this.config={version:"1.3.2",httpurl:"",serverurl:"/api/downWeb/default.asp",jsdir:"js/",cssdir:"css/",imagesdir:"images/"},this.tplConfig={type:"xiyuetacms",item:4},this.parseHTML=function(t){null!=t&&(this.htmlSource=t,this.htmlArr=[]);for(var e="",i="",l="",s="",r=!1,n=!1,a=!1,h=!1,o=!1,u=0,f=-1,m=0;m<=this.htmlSource.length-1;m++){var c,d,p,e=this.htmlSource.substr(m,1);r?(l+=e,h?">"==e&&"--\x3e"==l.substr(-3,3)&&(a=r=h=!1,this.htmlArr.push({_index:++f,lv:u+1,label:"!--",upHtml:s,downHtml:"",html:l,tagpair:1}),s=l=""):n&&"\x3c!--"==l?h=!0:o?">"==e&&"%>"==l.substr(-2,2)&&(a=r=o=!1,this.htmlArr.push({_index:++f,lv:u+1,label:"<%",upHtml:s,downHtml:"",html:l,tagpair:1}),s=l=""):n&&"<%"==l?o=!0:-1!=" \n\t".indexOf(e)&&n?n=!1:">"==e&&(r=n=!1,c=2,"/"==i.substr(0,1)?a=!0:(u++,"/"!=i.substr(-1,1)&&-1=="|br|hr|img|link|meta|param|input|!doctype|rect|line|col|".indexOf("|"+i.toLowerCase()+"|")||(a=!0,c=1,i=i.replace(/\//g,"").trim())),p=i.toLowerCase(),this.htmlArr.push({_index:++f,lv:u,label:p,upHtml:s,downHtml:"",html:l,tagpair:c}),s=l="",a&&(u--,a=!1),"script"==p?(d=this.htmlSource.substr(m+1).toLowerCase().indexOf("<\/script>"),l=this.htmlSource.substr(m+1,d),m+=d):"style"==p?(d=this.htmlSource.substr(m+1).toLowerCase().indexOf("</style>"),l=this.htmlSource.substr(m+1,d),m+=d):"textarea"==p?(d=this.htmlSource.substr(m+1).toLowerCase().indexOf("</textarea>"),l=this.htmlSource.substr(m+1,d),m+=d):"pre"==p&&(d=this.htmlSource.substr(m+1).toLowerCase().indexOf("</pre>"),l=this.htmlSource.substr(m+1,d),m+=d)),n&&(i+=e)):"<"==e?(p=this.htmlSource.substr(m+1,1).toLowerCase(),-1!="abcdefghijklmnopqrstuvwxyz!/%?".indexOf(p)?(s=l,l=e,a=!(n=r=!0),i=""):l+=e):l+=e}""!=l&&this.htmlArr.push({_index:++f,lv:u,label:"",upHtml:"",downHtml:"",html:l}),this.lv=u},this.handleLabelParam=function(t,e,i){if(null==i){if(null!=t[e])return t[e]}else i=i.toString();for(var l=!1,s="",r="",n=!1,a="",h=!1,o=!0,u=0,f=0,m=!1,c=t.label.length+1;c<=t.html.length-1;c++){var d,p=t.html.substr(c,1);if(n)if(h)if(m)">"==p&&(m=!1),r+=p;else if(p==a||">"==p){var g,s=s.toLowerCase();if(t[s]=r,h=n=!1,a="",e==s)return null==i?r:(""==i?(x=t.html.substr(0,f-1),y=t.html.substr(c+1),t.html=x+y):(v=(g=u)+r.length,o&&(g++,v++),x=t.html.substr(0,g),y=t.html.substr(v),t.html=x+i+y),t[s]=i,t);else if(">"==p&&null!=i)return""!=i&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+i+'">'),t[e]=i,!0}else"<"==p&&(m=!0),r+=p;else'"'==p||"'"==p?(a=p,u=c,o=h=!0):" "!=p&&(a=" ",u=c,r=p,o=!(h=!0));else if(">"==p){if(null!=i)return""!=i&&(t.html=t.html.substr(0,t.html.length-1)+" "+e+'="'+i+'">'),t[e]=i,!0;if(e==(s=s.trim()))return null!=i&&(d=f+s.length,x=t.html.substr(0,d),y=t.html.substr(d),t.html=x+'="'+i+'"'+y),""}else if(l)if("="==p){if(-1!=(s=s.trim()).indexOf(" ")){var x,y,v=s.split(" ");if(e==(s=v[0]))return null!=i&&(x=t.html.substr(0,d),y=t.html.substr(d),t.html=x+'="'+i+'"'+y),""}n=!(l=!1),a=r=""}else s+=p;else" "!=p&&(l=!0,s=p,f=c)}},this.getDocument=function(t,e,i,l){if(null==t&&(t=""),null==l&&(l=!1),0==this.htmlArr.length)return console.log("%c 需要先解析一段html文本","font-size:14px;color:#FF3300"),"";if(-1!=t.indexOf(",")){for(var s="",r=t.split(","),n=0;n<=r.length-1;n++)s+=h=this.getDocument(r[n],e,i,l);for(var a="",r=s.split(","),n=0;n<=r.length-1;n++){var h=r[n];-1==(","+a+",").indexOf(","+h+",")&&(""!=a&&(a+=","),a+=h)}return a=""!=a?","+a:a}if(""==(t=t.trim()))return"";null==e&&(e=0),null==i&&(i=this.htmlArr.length-1);var o=-1.1,u=-1.1,f=-1.1,m=-1.1,c="",d=!1,p="",g="",x="",y="",v="",s="";if(-1!=t.indexOf("'")||-1!=t.indexOf('"')||-1!=t.indexOf("(")){for(var b=!1,s="",n=0;n<=t.length;n++){h=t.substr(n,1);0!=b||"'"!=h&&'"'!=h&&"("!=h&&")"!=h?1==b&&(" "==h?h="-Space-":"'"!=h&&'"'!=h&&"("!=h&&")"!=h||(b=!1,"'"!=h&&'"'!=h||(h=""))):(b=!0,"'"!=h&&'"'!=h||(h="")),s+=h}t=s}var L,C,A,_,O=t.indexOf(" ");if(-1!=O&&(p=t.substr(O+1).trim(),t=t.substr(0,O)),-1!=(O=t.indexOf(":"))&&(C=A="",L=(h=t.substr(O+1)).indexOf("("),_=h.indexOf(")"),-1!=L&&-1!=_?(A=h.substr(0,L).toLowerCase(),_=(C=h.substr(L+1)).indexOf(")"),("'"==(w=(C=C.substr(0,_).replace(/-Space-/g," ").trim()).trim()).substr(0,1)&&"'"==w.substr(-1,1)||'"'==w.substr(0,1)&&'"'==w.substr(-1,1))&&(C=w.substr(1,w.length-2))):A=h.toLowerCase(),"first"==A?o=0:"last"==A?o=-1:"even"==A?u=1:"odd"==A?u=0:"eq"==A?(o=0,(o=""!=C?parseInt(C):o)+""=="NaN"&&(o=-.1,t="")):"gt"==A?""!=C&&(f=parseInt(C)):"lt"==A?""!=C&&(m=parseInt(C)):"header"==A?d=!0:"contains"==A?c=C:console.log(t,"没有动作 "+A),""==(t=t.substr(0,O))&&-.1!=o&&(t="*")),-1!=(O=t.indexOf("["))&&(_=(h=t.substr(O+1)).indexOf("]"),-1==(h=h.substr(0,_)).indexOf("=")?(g=h,x="*"):(g=(_=h.split("="))[0],x=_[1].replace(/-Space-/g," "),_=g.substr(g.length-1),-1!="!^$*~|".indexOf(_)&&(g=g.substr(0,g.length-1),y=_)),-1!=g.indexOf("|")&&(g=(T=g.split("|"))[0],"NOUL"==T[1]&&(x=x.toLowerCase(),v=T[1])),""==(t=t.substr(0,O))&&(t="*")),"#"==t.substr(0,1)){if(0<o)return"";o=0}var w,T="";if(0<=(O=t.substr(1).lastIndexOf("."))&&(t=(w=t).substr(0,O+1),T=w.substr(O+2)),""!=(s=this.serchDocument(t,e,i,g,x,y,v,T))&&-1.1!=o){r=s.split(",");""!=(s=o<0?r[r.length+o]:r[o+1])&&(s=","+s)}else if(""!=s&&-1.1!=u){r=s.split(",");s="";for(n=1;n<=r.length-1;n++)n%2==u&&(s+=","+r[n])}else if(""!=s&&-1.1!=f){r=s.split(",");s="";for(n=f+2;n<=r.length-1;n++)s+=","+r[n]}else if(""!=s&&-1.1!=m){r=s.split(",");s="",m>r.length-1&&(m=r.length-1);for(n=1;n<=m;n++)s+=","+r[n]}else if(""!=s&&""!=c){r=s.split(",");s="";for(n=1;n<=r.length-1;n++)-1!=(h=r[n]).indexOf("|")&&-1!=this.text(","+h).indexOf(c)&&(s+=","+r[n])}else if(d)for(s="",r="h1,h2,h3,h4,h5,h6,,h7,h8,h9".split(","),n=0;n<=r.length-1;n++)s+=h=this.getDocument(t+" "+r[n],e,i,l);if(""!=p&&""!=s){r=s.split(",");s="";for(var I,n=1;n<=r.length-1;n++)-1!=(h=r[n]).indexOf("|")&&(I=h.split("|"),e=parseInt(I[0])+1,i=parseInt(I[1])-1,s+=this.getDocument(p,e,i,!0))}if(0==l){r=s.split(",");s="";for(n=1;n<=r.length-1;n++){h=r[n];-1==(","+s+",").indexOf(","+h+",")&&(s+=","+h)}}return s},this.serchDocument=function(t,e,i,l,s,r,n,a){null==l&&(l=""),null==s&&(s=""),null==r&&(r=""),null==n&&(n=""),null==a&&(a="");for(var h=!1,o="",u=0,f=0,m=!1,c=e;c<=i;c++){var d,p,g=this.htmlArr[c];null!=g&&(h&&this.checkEndSelector(g,t)&&u==g.lv?(m&&(o+="|"+c),m=h=!1,o+=this.serchDocument(t,f+1,c,l,s,r,n,a)):this.checkStartSelector(g,t,a)&&0==h&&(2==g.tagpair&&(h=!0,u=g.lv),f=c,d=!0,""!=l&&(p=this.handleLabelParam(g,l),"NOUL"==n&&null!=p&&(p=p.toLowerCase()),"^"==r?null!=p&&p.substr(0,s.length)==s||(d=!1):"|"==r?null!=p&&(p+"-").substr(0,s.length+1)==s+"-"||(d=!1):"$"==r?null!=p&&p.substr(-1*s.length)==s||(d=!1):"~"==r?null!=p&&-1!=(" "+p+" ").indexOf(" "+s+" ")||(d=!1):"*"==r?null!=p&&-1!=p.indexOf(s)||(d=!1):"!"==r?p==s&&(d=!1):null!=p&&"*"==s?d=!0:p!=s&&(d=!1)),d&&(o+=","+c,2==g.tagpair&&(m=!0))))}return o},this.checkStartSelector=function(t,e,i){if(""==t.label)return!1;var l=e+" ",s=t.label.substr(0,1),r=e.substr(0,1);if("/"==s)return!1;{if("*"==r)return""==i||null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a+" ").indexOf(" "+i+" ");if("#"==r){var n=e.substr(1,l.indexOf(" ")-1),s=this.handleLabelParam(t,"id");if(s==n)return""==i||null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a+" ").indexOf(" "+i+" ")}else if("."==r){var n=e.substr(1,l.indexOf(" ")-1).toLowerCase(),a=" "+this.handleLabelParam(t,"class")+" ";if(-1!=(a=a.toLowerCase()).indexOf(" "+n+" "))return""==i||null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a+" ").indexOf(" "+i+" ")}else if(t.label+" "==e.substr(0,t.label.length+1).toLowerCase()+" ")return""==i||null!=(a=this.handleLabelParam(t,"class"))&&-1!=(" "+a+" ").indexOf(" "+i+" ")}return!1},this.checkEndSelector=function(t,e){t.label.substr(0,1);var i=e.substr(0,1);return"*"==i||("#"==i||"."==i||t.label=="/"+e.substr(0,t.label.length-1).toLowerCase())},this.callToList=function(t,e){if("function"!=typeof e)return!1;for(var i=[],l=this.domList.split(","),s=1;s<=l.length-1;s++){var r={domList:","+l[s]},n=e.call(r,s-1,r);if("boolean"==typeof n&&0==n)break;r.value=n,i.push(r)}return i},this.find=function(t,e){if(null==t)return"";if(""==(t="object"==typeof t?","+t.x+"|"+t.y:t))return"";if("object"==typeof e){for(var i=e.domList.split(","),l=t.split(","),s="",r=1;r<=i.length-1;r++){var n=-1,a=-1;-1!=i[r].indexOf("|")?(h=i[r].split("|"),n=parseInt(h[0]),a=parseInt(h[1])):n=a=parseInt(m);for(var h,o,u,f=1;f<=l.length-1;f++)-1!=(m=l[f]).indexOf("|")&&(h=m.split("|"),o=parseInt(h[0]),u=parseInt(h[1]),o<=n&&n<=u&&(s+=","+i[r]))}return s}for(s="",l=t.split(","),f=1;f<=l.length-1;f++)-1!=(m=l[f]).indexOf("|")&&(i=m.split("|"),n=parseInt(i[0]),a=parseInt(i[1]),s+=this.getDocument(e,n,a));for(l=s.split(","),s="",f=1;f<=l.length-1;f++){var m=l[f];-1==(","+s+",").indexOf(","+m+",")&&(s+=","+m)}return s},this.text=function(t,e){if("function"==typeof e){for(var i=this.callToList(this.domList,e),l=0;l<=i.length-1;l++)(a=i[l])&&this.text(a.domList,a.value);return!1}if(null==t)return!1;"number"==typeof e&&(e+="");var s="get";if("string"==typeof e&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),s="set"),""==(t="object"==typeof t?","+t.x+"|"+t.y:t))return"";for(var r="",i=t.split(","),l=1;l<=i.length-1;l++){var n=i[l];if(-1!=n.indexOf("|"))for(var a,n=n.split("|"),h=parseInt(n[0]),o=parseInt(n[1]),u=h;u<=o;u++)(a=this.htmlArr[u])&&(u==h?"get"==s&&(r+=a.downHtml):u<o?"set"==s?delete this.htmlArr[u]:r+=a.upHtml+a.downHtml:u==o&&("get"==s?r+=a.upHtml:a.upHtml=e))}return"get"==s?r:void 0},this.html=function(t,e,i){if("function"==typeof e){for(var l=this.callToList(this.domList,e),s=0;s<=l.length-1;s++)(o=l[s])&&this.html(o.domList,o.value,i);return!1}if(null!=t){"number"==typeof e&&(e+=""),""!=i&&(i="|"+i+"|");var r="string"==typeof e?"set":"get";if(""!=(t="object"==typeof t?","+t.x+"|"+t.y:t)){var n="",a=(l=t.split(",")).length-1;"get"==r&&1<a&&(a=1);for(s=1;s<=a;s++){var h=l[s];if(-1!=h.indexOf("|"))for(var o,h=h.split("|"),u=parseInt(h[0]),f=parseInt(h[1]),m=u;m<=f;m++)(o=this.htmlArr[m])&&(m==u?"get"==r?(-1!=i.indexOf("all")&&(n+=o.html),n+=o.downHtml):-1!=i.indexOf("all")&&(o.html=""):m<f?"set"==r?delete this.htmlArr[m]:n+=o.upHtml+o.html+o.downHtml:m==f&&("get"==r?(n+=o.upHtml,-1!=i.indexOf("all")&&(n+=o.html)):(o.upHtml=e,-1!=i.indexOf("all")&&(o.html=""))))}return"get"==r?n:void 0}}},this.dom=function(t,e,i){1!=(i=null==i?-1:i)&&2!=i&&(i=-1),""!=e&&(e="|"+e+"|");for(var l="",s=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),r=1;r<=s.length-1&&!(1<r);r++){var n=s[r];if(-1!=n.indexOf("|"))for(var n=n.split("|"),a=parseInt(n[0]),h=parseInt(n[1]),o=a;o<=h;o++){var u=this.htmlArr[o];u&&(i!=u.tagpair&&-1!=i||(o==a||o==h?-1!=e.indexOf("all")&&(-1!=e.indexOf("label")?l+="<"+u.label+">":l+=u.html):o<h&&(-1!=e.indexOf("label")?l+="<"+u.label+">":l+=u.html)))}}return l},this.handleCssParam=function(t,e,i){if(null==i){var l="a{"+(s=null==(s=this.attr(t,"style"))?"":s)+"}";return $xytcss("a").parse(l).css(e)}var s;i=i.toString();var r=s=null==(s=this.attr(t,"style"))?"":s,l="a{"+s+"}",i=($xytcss("a").parse(l).css(e,i),(i=$xytcss().print()).substr(2,i.length-3).trim());r.trim()!=i&&(2<=i.split(";").length&&(i=i.replace(/ /g,"").replace(/:/g,": ").replace(/;/g,"; ").trim()),this.attr(t,"style",i))},this.css=function(t,e,i){if("function"==typeof i){for(var l=this.callToList(this.domList,i),s=0;s<=l.length-1;s++)(a=l[s])&&this.css(a.domList,e,a.value);return!1}if("object"==typeof e){for(var r in e)this.css(t,r,e[r]);return this}if(null!=t&&null!=e&&""!=(e=e.trim())){if("object"==typeof t)return null==i?this.handleCssParam(t,e):this.handleCssParam(t,e,i);if(""!=t){l=t.split(",");if(null==i){if(null==(h=l[1]))return;var n=h.split("|"),a=this.htmlArr[n[0]];return h=this.handleCssParam(a,e)}for(var h,s=1;s<=l.length-1;s++)a=-1!=(h=l[s]).indexOf("|")?(n=h.split("|"),this.htmlArr[n[0]]):this.htmlArr[h],this.handleCssParam(a,e,i)}}},this.attr=function(t,e,i){if("function"==typeof i){for(var l=this.callToList(this.domList,i),s=0;s<=l.length-1;s++)(a=l[s])&&this.attr(a.domList,e,a.value);return!1}if("object"==typeof e){for(var r in e)this.attr(t,r,e[r]);return this}if(null!=t&&null!=e&&("number"==typeof e&&(e+=""),""!=(e=e.trim()))){if("object"==typeof t)return null==i?this.handleLabelParam(t,e):this.handleLabelParam(t,e,i);if(""!=t){l=t.split(",");if(null==i){if(null==(h=l[1]))return;var n=h.split("|"),a=this.htmlArr[n[0]];return h=this.handleLabelParam(a,e)}for(var h,s=1;s<=l.length-1;s++)a=-1!=(h=l[s]).indexOf("|")?(n=h.split("|"),this.htmlArr[n[0]]):this.htmlArr[h],this.handleLabelParam(a,e,i)}}},this.removeAttr=function(e,t){return null!=e&&null!=t&&(""!=t.trim()&&(t.split(" ").forEach(function(t){""!=t&&_xyt.attr(e,t,"")}),!0))},this.val=function(t,e){if("function"==typeof e){for(var i=this.callToList(this.domList,e),l=0;l<=i.length-1;l++)(m=i[l])&&this.val(m.domList,m.value);return!1}if(null!=(t="object"==typeof t?","+t.x+"|"+t.y:t)&&""!=t){i=t.split(",");if(null==e){if(null==(n=i[1]))return"";var s=n.split("|");if("textarea"==(m=this.htmlArr[s[0]]).label)return m.x=s[0],m.y=s[1],this.html(m);if("select"!=m.label)return this.handleLabelParam(m,"value");if(""==(a=this.getDocument("option",m.x,m.y)))return;for(var r=a.split(","),l=1;l<=r.length-1;l++)-1!=(o=r[l]).indexOf("|")&&(u=o.split("|"),f=this.htmlArr[u[0]],null==this.handleLabelParam(f,"selected")&&null!=h||(h=this.handleLabelParam(f,"value")));return h}for(var n,l=1;l<=i.length-1;l++)if(-1!=(n=i[l]).indexOf("|")){var a,s=n.split("|");if("textarea"==(m=this.htmlArr[s[0]]).label)m.x=s[0],m.y=s[1],this.html(m,e);else if("select"==m.label){if(""!=(a=this.getDocument("option",m.x,m.y)))for(var h,o,u,f,r=a.split(","),l=1;l<=r.length-1;l++)-1!=(o=r[l]).indexOf("|")&&(u=o.split("|"),f=this.htmlArr[u[0]],this.handleLabelParam(f,"value")==e?this.handleLabelParam(f,"selected","selected"):this.handleLabelParam(f,"selected",null))}else this.handleLabelParam(m,"value",e)}else{var m=this.htmlArr[n];this.handleLabelParam(m,"value",e)}return""}},this.each=function(t,e){var i=[];if(null==t)return!1;for(var l=t.split(","),s=1;s<=l.length-1;s++){var r,n,a=l[s];-1!=a.indexOf("|")?(r=a.split("|"),(n=this.htmlArr[r[0]]).x=parseInt(r[0]),n.y=parseInt(r[1])):((n=this.htmlArr[a]).x=parseInt(a),n.y=parseInt(a)),i.push(n)}if("object"==typeof i)for(var s=0,h=i.length;s<h&&0!=e.call(i[s],s,i[s]);s++);},this.remove=function(t,e){if(null==(t="object"==typeof t?","+t.x+"|"+t.y:t))return!1;var i,l,s,r;if(null==e||-1!=(r=e.indexOf(":"))&&(s=l="",e=(o=e.substr(r+1)).indexOf("("),r=o.indexOf(")"),-1!=e&&-1!=r?(l=o.substr(0,e).toLowerCase(),r=(s=o.substr(e+1)).indexOf(")"),("'"==(r=(s=s.substr(0,r).replace(/-Space-/g," ").trim()).trim()).substr(0,1)&&"'"==r.substr(-1,1)||'"'==r.substr(0,1)&&'"'==r.substr(-1,1))&&(s=r.substr(1,r.length-2))):l=o.toLowerCase(),"contains"==l&&(i=s)),null!=i){for(var n=t.split(","),a="",h=1;h<=n.length-1;h++)-1!=(o=n[h]).indexOf("|")&&-1!=this.text(","+o).indexOf(i)&&(a+=","+n[h]);t=a}for(n=t.split(","),h=1;h<=n.length-1;h++){var o=n[h];if(-1!=o.indexOf("|"))for(var u,f=o.split("|"),m=parseInt(f[0]),c=parseInt(f[1]),d=m;d<=c;d++)(u=this.htmlArr[d])&&(d==m?(u.html="",u.label=""):delete this.htmlArr[d]);else(u=this.htmlArr[o])&&(u.html="",u.label="")}return!0},this.addClass=function(t,e){if("function"==typeof e){for(var i=this.callToList(this.domList,e),l=0;l<=i.length-1;l++){var s=i[l];s&&this.addClass(s.domList,s.value)}return!1}if("number"==typeof e)return!1;if(null==t||null==e)return!1;if(this.common.isArray(e))var r=e;else{if(""==(e=e.trim()))return!1;"object"==typeof t&&(t=","+t.x+"|"+t.y);r=e.split(" ")}if(""==t)return!1;for(i=t.split(","),l=1;l<=i.length-1;l++){for(var n=i[l],a=(n.split("|"),null!=(a=this.attr(","+n,"class"))?a.trim():""),h=0;h<=r.length-1;h++)""!=r[h]&&(""!=a&&(a+=" "),a+=r[h]);this.attr(","+n,"class",a)}},this.hasClass=function(t,e){if("number"==typeof e)return!1;if(null==t||null==e)return!1;if(""==(e=e.trim()))return!1;if(""==(t="object"==typeof t?","+t.x+"|"+t.y:t))return!1;for(var i=t.split(","),l=1;l<=i.length-1;l++){var s=i[l],s=(s.split("|"),null!=(s=this.attr(","+s,"class"))?s.trim():"");if(""!=s&&-1!=(" "+s+" ").indexOf(" "+e+" "))return!0}return!1},this.removeClass=function(t,e){if("function"==typeof e){for(var i=this.callToList(this.domList,e),l=0;l<=i.length-1;l++){var s=i[l];s&&this.removeClass(s.domList,s.value)}return!1}if(this.common.isArray(e))var r=e;else{if(null==t||null==e)return!1;if(""==(e=e.trim()))return!1;r=e.split(" ");"object"==typeof t&&(t=","+t.x+"|"+t.y)}if(""==t)return!1;for(i=t.split(","),l=1;l<=i.length-1;l++){var n=i[l];if(null!=(a=this.attr(","+n,"class"))){for(var a=" "+(a=a.trim())+" ",h=0;h<=r.length-1;h++)""!=r[h]&&(a=a.replace(" "+r[h]+" "," "));this.attr(","+n,"class",a.trim())}}},this.wrap=function(t,e,i){for(var l=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),s=1;s<=l.length-1;s++){var r,n=l[s];-1!=n.indexOf("|")?(r=n.split("|"),this.htmlArr[r[0]].upHtml+=e,this.htmlArr[r[1]].downHtml+=i):(this.htmlArr[n].upHtml+=e,this.htmlArr[n].downHtml+=i)}return this},this.unwrap=function(t){for(var e=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),i=1;i<=e.length-1;i++){var l,s=e[i],r=.1,n=0,a=0;-1!=s.indexOf("|")?(l=s.split("|"),r=this.htmlArr[l[0]].lv-1,n=parseInt(l[0]),a=parseInt(l[1])):(r=(o=this.htmlArr[s]).lv-1,n=a=parseInt(s));for(var h=n;0<=h;h--){var o=this.htmlArr[h];if("object"==typeof o&&this.htmlArr[h].lv==r){o.html="";break}}for(h=a;h<=this.htmlArr.length-1;h++){o=this.htmlArr[h];if("object"==typeof o&&this.htmlArr[h].lv==r){o.html="";break}}}return this},this.append=function(t,e){if("function"==typeof e){for(var i=this.callToList(this.domList,e),l=0;l<=i.length-1;l++){var s=i[l];s&&this.append(s.domList,s.value)}return!1}for(i=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),l=1;l<=i.length-1;l++){var r,n=i[l];-1!=n.indexOf("|")?(r=n.split("|"),this.htmlArr[r[1]].upHtml+=e):this.htmlArr[n].downHtml+=e}return this},this.prepend=function(t,e){if("function"==typeof e){for(var i=this.callToList(this.domList,e),l=0;l<=i.length-1;l++)(r=i[l])&&this.prepend(r.domList,r.value);return!1}for(i=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),l=1;l<=i.length-1;l++){var s,r,n=i[l];-1!=n.indexOf("|")?(s=n.split("|"),(r=this.htmlArr[s[0]]).downHtml=e+r.downHtml):this.htmlArr[n].downHtml=e+this.htmlArr[n].downHtml}return this},this.after=function(t,e){if("function"==typeof e){for(var i=this.callToList(t,e),l=0;l<=i.length-1;l++){var s=i[l];s&&this.after(s.domList,s.value)}return!1}for(i=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),l=1;l<=i.length-1;l++){var r,n=i[l];-1!=n.indexOf("|")?(r=n.split("|"),this.htmlArr[r[1]].downHtml=e+this.htmlArr[r[1]].downHtml):this.htmlArr[n].downHtml=e+this.htmlArr[n].downHtml}return this},this.before=function(t,e){if("function"==typeof e){for(var i=this.callToList(t,e),l=0;l<=i.length-1;l++){var s=i[l];s&&this.before(s.domList,s.value)}return!1}for(i=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),l=1;l<=i.length-1;l++){var r,n=i[l];-1!=n.indexOf("|")?(r=n.split("|"),this.htmlArr[r[0]].upHtml+=e):this.htmlArr[n].upHtml+=e}return this},this.next=function(t){for(var e=t.split(","),i=1;i<=e.length-1;i++)for(var l,s,r=e[i],n=-1,a=(s=-1!=r.indexOf("|")?(l=r.split("|"),this.htmlArr[l[0]]):this.htmlArr[r])._index+1;a<=this.htmlArr.length-1;a++){var h=this.htmlArr[a];if(h){if(h.lv<s.lv)break;if(-1!=n){if(s.lv==h.lv&&"/"==h.label.substr(0,1))return","+n+"|"+h._index}else if(s.lv==h.lv&&"/"!=h.label.substr(0,1)){if(1==h.tagpair)return","+h._index;n=h._index}}}return""},this.nextAll=function(t){for(var e="",i=t.split(","),l=1;l<=i.length-1;l++)for(var s,r,n=i[l],a=-1,h=(r=-1!=n.indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n])._index+1;h<=this.htmlArr.length-1;h++){var o=this.htmlArr[h];if(o){if(o.lv<r.lv)break;-1!=a?r.lv==o.lv&&"/"==o.label.substr(0,1)&&(e+=","+a+"|"+o._index,a=-1):r.lv==o.lv&&"/"!=o.label.substr(0,1)&&(1==o.tagpair?e+=","+o._index:a=o._index)}}return e},this.prev=function(t){for(var e=t.split(","),i=1;i<=e.length-1;i++)for(var l,s,r=e[i],n=-1,a=(s=-1!=r.indexOf("|")?(l=r.split("|"),this.htmlArr[l[0]]):this.htmlArr[r])._index-1;0<=a;a--){var h=this.htmlArr[a];if(h){if(h.lv<s.lv)break;if(-1!=n){if(s.lv==h.lv&&"/"!=h.label.substr(0,1))return","+h._index+"|"+n}else if(s.lv==h.lv&&"/"==h.label.substr(0,1)){if(1==h.tagpair)return","+h._index;n=h._index}}}return""},this.prevAll=function(t,e){var i=t.split(",");null==e&&(e="desc");for(var l="",s=1;s<=i.length-1;s++)for(var r,n,a=-1,h=(n=-1!=(o=i[s]).indexOf("|")?(r=o.split("|"),this.htmlArr[r[0]]):this.htmlArr[o])._index-1;0<=h;h--){var o,u=this.htmlArr[h];if(u){if(u.lv<n.lv)break;-1!=a?n.lv==u.lv&&"/"!=u.label.substr(0,1)&&(o=","+u._index+"|"+a,"desc"==e?l+=o:l=o+l,a=-1):n.lv==u.lv&&"/"==u.label.substr(0,1)&&(1==u.tagpair?(o=","+u._index,"desc"==e?l+=o:l=o+l):a=u._index)}}return l},this.parent=function(t){for(var e=t.split(","),i="",l=1;l<=e.length-1;l++){for(var s,r,n=e[l],a=-1,h=-1,o=(r=-1!=n.indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n])._index-1;0<=o;o--){var u=this.htmlArr[o];if(u&&r.lv-1==u.lv&&"/"!=u.label.substr(0,1)){a=u._index;break}}for(o=r._index+1;o<=this.htmlArr.length-1;o++){u=this.htmlArr[o];if(u&&r.lv-1==u.lv&&"/"==u.label.substr(0,1)){h=u._index;break}}-1!=a&&-1==(","+i+",").indexOf(","+a+"|"+h+",")&&(i+=","+a+"|"+h)}return i},this.parents=function(t){for(var e=t.split(","),i="",l=1;l<=e.length-1;l++){for(var s,r,n=e[l],a=-1,h=-1,o=(r=-1!=n.indexOf("|")?(s=n.split("|"),this.htmlArr[s[0]]):this.htmlArr[n])._index-1;0<=o;o--){var u=this.htmlArr[o];if(u&&r.lv-1==u.lv&&"/"!=u.label.substr(0,1)){a=u._index;break}}for(o=r._index+1;o<=this.htmlArr.length-1;o++){u=this.htmlArr[o];if(u&&r.lv-1==u.lv&&"/"==u.label.substr(0,1)){h=u._index;break}}-1==a||-1==(","+i+",").indexOf(","+(n=","+a+"|"+h)+",")&&(i+=n+this.parents(n))}return i},this.eq=function(t,e){null==e||""==e?e=0:(e=parseInt(e))+""=="NaN"&&(e=-1.1);var i="";if(-1.1!=e){t=t.split(",");if(0<=e?e++:e=t.length+e,e>t.length)return"";""!=(i=t[e])&&(i=","+i)}return i},this.slice=function(t,e,i){if(null==e&&null==i)return t;var l=t.split(",");if(isNaN(e)?e=0:(e=parseInt(e))<0&&(e=l.length- -1*e),null==i?i=l.length:isNaN(i)?i=-1:(i=parseInt(i))<0&&(i=l.length-1- -1*i),e+""=="NaN"||i+""=="NaN")return t;for(var s="",r=1;r<=l.length-1;r++)e<=r&&r<=i&&(s+=","+l[r]);return s},this.show=function(t){for(var e=t.split(","),i=1;i<=e.length-1;i++){var l,s=e[i];-1!=s.indexOf("|")?(l=s.split("|"),this.css(","+l[0],"display","")):this.css(","+s,"display","")}return this},this.hide=function(t){for(var e=t.split(","),i=1;i<=e.length-1;i++){var l,s=e[i];-1!=s.indexOf("|")?(l=s.split("|"),this.css(","+l[0],"display","none")):this.css(","+s,"display","none")}return this},this.printHTML=function(t){for(var e="",i=0,l=0;l<=this.htmlArr.length-1;l++){var s,r,n,a,h=this.htmlArr[l];h&&(h.id=l,"format"==t?(s=h.upHtml.trim(),r=h.downHtml.trim(),n=h.html.trim(),"html"==h.label?i=-1:"head"!=h.label&&"body"!=h.label||(s+="\n"),""!=n&&(a=!0,2==h.tagpair?"/"==h.label.substr(0,1)&&(a=this.upCheckThisLabel(h)):-1!="|br|hr|rect|line|col|".indexOf("|"+h.label+"|")&&(a=!1),a&&(n="\n"+this.common.copyStr("    ",h.lv-1+i)+n)),e+=s+n+r):e+="zip"==t?h.upHtml.trim()+h.html.trim()+h.downHtml.trim():h.upHtml+h.html+h.downHtml)}return e="format"==t?e.trim():e},this.upCheckThisLabel=function(t){if("/head"==t.label||"/body"==t.label)return!0;for(var e=t.id-1;0<=e;e--){var i=this.htmlArr[e];if(i){if(i.lv==t.lv)return!1;if(2==i.tagpair||"img"==i.label)return!0;if(-1!=(i.upHtml+i.downHtml).indexOf("\n"))return!0}}return!1},this.debug=function(t){((t=null==t?!1:t)?xiyueta:console).log(this.htmlArr)},this.info=function(){console.log("%c xiyueta%c v"+_xyt.config.version+" website: www.xiyueta.com ","font-size:22px;color:#00bbee","color:#000")}},_xyt=new _XIYUETA,xiyueta=function(t,e,i){return new xiyueta.fn.init(t,e,i)};function XiyuetaCommon(){this.copyStr=function(t,e){for(var i="",l=1;l<=e;l++)i+=t;return i},this.bystesLength=function(t){for(var e=0,i=0;i<t.length;i++)255<t.charCodeAt(i)?e+=2:e++;return e},this.getFileSize=function(t){return t<1048576?(t/1024).toFixed(2)+"KB":1048576==t?"1MB":1048576<t&&t<1073741824?(t/1048576).toFixed(2)+"MB":1048576<t&&1073741824==t?"1GB":1073741824<t&&t<1099511627776?(t/1073741824).toFixed(2)+"GB":"文件超过1TB"},this.isArray=function(t){return"object"==typeof t&&t.constructor==Array}}xiyueta.fn=xiyueta.prototype={length:0,selector:"",domList:void 0,x:null,y:null,domListIndex:0},xiyueta.extend=xiyueta.fn.extend=function(){var t,e,i,l=arguments[0]||{},s=1,r=arguments.length;for(s===r&&(l=this,s--);s<r;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&l!==i&&void 0!==i&&(l[e]=i);return l},(init=xiyueta.fn.init=function(t,e,i){this.length=0,this.selector=t,this.domList=void 0,this.x=e,this.y=i,this.domListArray=[],0<_xyt.htmlArr.length&&("string"==typeof t?(i=(e=_xyt.getDocument(t,e,i)).split(","),this.length=i.length-1,this.domList=e):"object"==typeof t&&(this.domList=","+t.x,t.x!=t.y&&(this.domList+="|"+t.y),this.length=1,this.selector="")),_xyt.domList=this.domList,null==this.selector&&(this.selector="")}).prototype=xiyueta.fn,($=$xyt=xiyueta).log=function(t,e){if(null==e&&(e="<br>"),"object"==typeof t)for(var i in t){var l;-1==(t[i]+"").indexOf("function")&&(l=(l=t[i]+"").replace(/</g,"&lt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;"),void 0===(l="object"==typeof t[i]?xiyueta.log(t[i]," , "):l)?document.write(i+e):document.write(i+":  "+l+e))}else t+="",document.write(t.replace(/</g,"&lt;").replace(/\n/g,"<br>").replace(/ /g,"&nbsp;")+e)},xiyueta.fn.extend({parse:function(t,e){var i;return _xyt.parseHTML(t),1!=(e=null==e&&0!=_xyt.lv?!0:e)||0<(i=this.repair(!1)).err&&""!=i.errList&&1==i.state&&(_xyt.parseHTML(this.print()),this.repairHTML=!0),0<_xyt.htmlArr.length&&"string"==typeof this.selector&&(i=(e=_xyt.getDocument(this.selector,this.x,this.y)).split(","),this.length=i.length-1,_xyt.domList=this.domList=e),this},find:function(t){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.find(this.domList,t);t=_xyt.domList.split(",");return this.length=t.length-1,this.selector="",this},text:function(t){return null==t?_xyt.text(this.domList):(_xyt.text(this.domList,t),this)},html:function(t,e){return null==t?_xyt.html(this.domList):(_xyt.html(this.domList,t,e),this)},attr:function(t,e){if(null!=t)return null!=e||"object"==typeof t?(_xyt.attr(this.domList,t,e),this):""!=t.trim()?_xyt.attr(this.domList,t):void 0},removeAttr:function(t){return _xyt.removeAttr(this.domList,t),this},val:function(t){return null==t?_xyt.val(this.domList):(_xyt.val(this.domList,t),this)},remove:function(t){return _xyt.remove(this.domList,t),this},each:function(t){return _xyt.each(this.domList,t),this},css:function(t,e){return null==e&&"object"!=typeof t?_xyt.css(this.domList,t):(_xyt.css(this.domList,t,e),this)},print:function(t){return _xyt.printHTML(t)},debug:function(t){return _xyt.debug(t),this}}),xiyueta.fn.extend({eq:function(t){return this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.eq(this.domList,t),this.selector="",this.length=0,""!=this.domList&&(this.length=1),this},first:function(){return this.eq(0),this},last:function(){return this.eq(-1),this},even:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=this.domList.split(","),e="";this.length=0;for(var i=1;i<=t.length-1;i++)i%2==1&&(e+=","+t[i],this.length++);return _xyt.domList=this.domList=e,this},odd:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=this.domList.split(","),e="";this.length=0;for(var i=1;i<=t.length-1;i++)i%2==0&&(e+=","+t[i],this.length++);return _xyt.domList=this.domList=e,this},slice:function(t,e){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.slice(this.domList,t,e);e=this.domList.split(",");return this.length=e.length-1,this},end:function(){var t;return this.domListArray.length<=0?(_xyt.domList=this.domList="",this.length=0,this.selector=""):(t=this.domListArray[this.domListArray.length-1],_xyt.domList=this.domList=t.domList,this.length=t.length,this.selector=t.selector,this.domListArray.pop()),this},addClass:function(t){return _xyt.addClass(this.domList,t),this},hasClass:function(t){return _xyt.hasClass(this.domList,t)},removeClass:function(t){return _xyt.removeClass(this.domList,t),this},wrap:function(t,e){if("function"==typeof t){for(var i=_xyt.callToList(this.domList,t),l=0;l<=i.length-1;l++)(u=i[l])&&this.wrap(u.value,u.domList);return this}var s=new _XIYUETA,r=0;s.parseHTML(t),s.repairHTML(!1);var n=s.printHTML();t!=n&&s.parseHTML(n);for(l=0;l<=s.htmlArr.length-1;l++)(u=s.htmlArr[l]).lv>r&&2==u.tagpair&&(r=u.lv);for(var a="",h="",o=!1,l=0;l<=s.htmlArr.length-1;l++){var u,f=(u=s.htmlArr[l]).upHtml;"/"==u.label.substr(0,1)&&u.lv==r&&(o=!0,a+=f,f=""),0==o?a+=f+u.html:h+=f+u.html}return null==e&&(e=this.domList),_xyt.wrap(e,a,h),this},unwrap:function(){return _xyt.unwrap(this.domList),this},append:function(t){return _xyt.append(this.domList,t),this},prepend:function(t){return _xyt.prepend(this.domList,t),this},after:function(t){return _xyt.after(this.domList,t),this},before:function(t){return _xyt.before(this.domList,t),this},show:function(){return _xyt.show(this.domList),this},hide:function(){return _xyt.hide(this.domList),this},next:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.next(this.domList);var t=_xyt.domList.split(",");return this.length=t.length-1,this},nextAll:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.nextAll(this.domList);var t=_xyt.domList.split(",");return this.length=t.length-1,this},prev:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.prev(this.domList);var t=_xyt.domList.split(",");return this.length=t.length-1,this},prevAll:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.prevAll(this.domList);var t=_xyt.domList.split(",");return this.length=t.length-1,this},siblings:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.prevAll(this.domList,"asc")+_xyt.nextAll(this.domList);var t=_xyt.domList.split(",");return this.length=t.length-1,this},parent:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector}),_xyt.domList=this.domList=_xyt.parent(this.domList);var t=_xyt.domList.split(",");return this.length=t.length-1,this},parents:function(){this.domListArray.push({domList:this.domList,length:this.length,selector:this.selector});var t=_xyt.parents(this.domList).split(","),e="";this.length=0;for(var i=1;i<=t.length-1;i++)-1==(","+e+",").indexOf(","+t[i]+",")&&(e+=","+t[i],this.length++);return _xyt.domList=this.domList=e,this},htmlwrap:function(t){return null==t?_xyt.html(this.domList,void 0,"all"):(_xyt.html(this.domList,t,"all"),this)},dom:function(t){return _xyt.dom(this.domList,"",t)},domwrap:function(t){return _xyt.dom(this.domList,"all",t)},domlabel:function(t){return _xyt.dom(this.domList,"label|",t)},domlabelwrap:function(t){return _xyt.dom(this.domList,"all|label",t)},lv:function(){return _xyt.lv}}),_XIYUETA.prototype.swap=function(t,e){if(null==t||null==e)return!1;e=this.getDocument(e);if(""==t||""==e)return!1;t=t.split(",")[1];if(-1==t.indexOf("|"))var i=this.htmlArr[t];else{for(var l=t.split("|"),i=this.htmlArr[l[0]],s="",r=parseInt(l[0])+1;r<=l[1];r++)null!=(a=this.htmlArr[r])&&(s+=a.upHtml+a.html,delete this.htmlArr[r]);i.html+=s}if(-1==(e=e.split(",")[1]).indexOf("|"))var n=this.htmlArr[e];else{for(var a,l=e.split("|"),n=this.htmlArr[l[0]],s="",r=parseInt(l[0])+1;r<=l[1];r++)null!=(a=this.htmlArr[r])&&(s+=a.upHtml+a.html,delete this.htmlArr[r]);n.html+=s}e=i.html;return i.html=n.html,n.html=e,!0},_XIYUETA.prototype.getItem=function(t,e){null==e&&(e="");for(var i=[],l=(t="object"==typeof t?","+t.x+"|"+t.y:t).split(","),s=1;s<=l.length-1;s++)if(-1!=(o=l[s]).indexOf("|")){var r=o.split("|"),n=this.htmlArr[r[0]];if(""!=e)void 0!==(o=this.handleLabelParam(n,e))&&i.push(o);else{for(var a=n.html,h=parseInt(r[0])+1;h<=r[1];h++)null!=(n=this.htmlArr[h])&&(a+=n.upHtml+n.html);""!=a&&i.push(a)}}else{var o,n=this.htmlArr[o];""!=e?void 0!==(o=this.handleLabelParam(n,e))&&i.push(o):i.push(n.html)}return i},_XIYUETA.prototype.setConfig=function(t){if(null==t)return this.config;null!=t.httpurl&&(this.config.httpurl=t.httpurl),null!=t.serverurl&&(this.config.serverurl=t.serverurl),null!=t.jsdir&&(this.config.jsdir=t.jsdir),null!=t.cssdir&&(this.config.cssdir=t.cssdir),null!=t.imagesdir&&(this.config.imagesdir=t.imagesdir)},_XIYUETA.prototype.charset=function(t){for(var e=0;e<=this.htmlArr.length-1;e++){var i=this.htmlArr[e];if(null!=i)if("meta"==i.label)if(-1!=i.html.toLowerCase().indexOf("charset=")){var l=this.handleLabelParam(i,"charset");if(null!=(l=null!=l?l.toLowerCase().trim():l))return null!=t&&this.handleLabelParam(i,"charset",t),l;if(-1!=(l=null!=(l=this.handleLabelParam(i,"content"))?l.toLowerCase().trim():l).indexOf("utf-8"))return null!=t?(this.handleLabelParam(i,"content","text/html; charset="+t),""):"utf-8";if(-1!=l.indexOf("gb2312"))return null!=t?(this.handleLabelParam(i,"content","text/html; charset="+t),""):"gb2312"}}},_XIYUETA.prototype.getHandleSrc=function(t,e,i,l){for(var s="",r=!0,n=0;n<=this.htmlArr.length-1;n++){var a,h,o,u=this.htmlArr[n];null!=u&&-1!=("|"+t+"|").indexOf("|"+u.label+"|")&&(null==(a=this.handleLabelParam(u,e))&&(a=""),"link"==u.label&&("dns-prefetch"!=(h=(h=null==(h=this.handleLabelParam(u,"rel"))?"":h).trim().toLowerCase())&&"alternate"!=h||(a="")),-1!=("|"+i+"|").indexOf("clean")?(r=!0,""!=a&&-1==a.indexOf("apps.bdimg.com/")&&(o=a=this.common.fullHttpUrl(l,a),-1!=("|"+i+"|").indexOf("web")&&""!=(a=this.common.getUrlFileName(a,u.label))&&("img"==u.label?a=this.config.imagesdir+a:"script"==u.label?a=this.config.jsdir+a:"link"==u.label?-1!=(h=(h=null==(h=this.handleLabelParam(u,"rel"))?"":h).trim().toLowerCase()).indexOf("shortcut icon")?a=this.config.imagesdir+a:-1!=h.indexOf("stylesheet")?a=this.config.cssdir+a:(a="",r=!1):(r=!1,a="")),r&&""!=a&&(-1!=("|"+i+"|").indexOf("down")?(""!=s&&(s+="[,]"),s+=o+"[|]"+a):(""!=s&&(s+="[,]"),s+=a)),this.handleLabelParam(u,e,a))):""!=a&&(""!=s&&(s+="[,]"),s+=a))}return s},_XIYUETA.prototype.replace=function(t,e,i,l){for(var s,r=this.getDocument(t),n=r.split(","),a=1;a<=n.length-1;a++)s=-1!=(r=n[a]).indexOf("|")?(s=r.split("|"),this.htmlArr[s[0]]):this.htmlArr[r],""!=e&&(r=this.handleLabelParam(s,e))==i&&this.handleLabelParam(s,e,l)},_XIYUETA.prototype.repairHTML=function(t,e){var i;null==t&&(t=!1),null==e&&(e=0);var l=0,s=!1,r="",n=0,a=",";if(1<=this.htmlArr.length&&"no"==(h=this.htmlArr[0]).isFindDom)return!1;for(var h,o=0;o<=this.htmlArr.length-1;o++)(h=this.htmlArr[o])&&(h.nIndex=o,2==h.tagpair&&("/"==h.label.substr(0,1)?(f=h.label.substr(1),-1!=(","+a+",").indexOf(","+f+",")?a=a.replace(","+f+",",","):a+=h.label+","):a+=h.label+","));for(var u=a,o=0;o<=this.htmlArr.length-1;o++)if((h=this.htmlArr[o])&&2==h.tagpair&&"/"==h.label.substr(0,1)){var f=h.label.substr(1),s=!0;if(null!=(c=this.upFindSameLvObj(o,h))&&(h.label=="/"+c.label?(s=!1,this.setNoFindDom(c.nIndex,h.nIndex),1==e&&console.log(" 找(Lv1) "+h.label+" "+c.label+"("+h.nIndex+"-"+c.nIndex+")")):0==this.lv||1==c.lv&&1==h.lv&&-1==a.indexOf(","+h.label+",")?1==s&&(r="",t&&(r="\x3c!--xiyueta提示: 原标签(LV) "+h.label+" 替换成 /"+c.label+"--\x3e"),h.html="</"+c.label+">"+r,l+=2,n+=2,s=!1,this.setNoFindDom(c.nIndex,h.nIndex),1!=e&&2!=e||console.log(" 找(Lv2) LV整体层级正确或两标签都为第一层  "+h.label+" 替换成 /"+c.label+" ("+h.nIndex+"-"+c.nIndex+")")):1==e&&console.log(" 找(Lv else) 没找到，交给下面找同名 "+h.label+" ("+h.nIndex+")")),1==s)if(null==(i=this.upFindSameNameObj(o,h)))h.html=t?"\x3c!---xiyueta提示: 有多余结束标签 "+h.label+" --\x3e":"",n++,l++,this.setNoFindDom(h.nIndex,h.nIndex),this.reairHtmlLv(h,1),1!=e&&2!=e||console.log(" 找(Name 出错) 有多余结束标签 "+h.label+" ("+h.nIndex+")"),s=!1,a=a.replace(","+h.label+",",",");else{r="",t&&(i.html+="\x3c!---xiyueta提示: 有问题标签开始位置--\x3e",h.html="\x3c!---xiyueta提示: 有问题标签结束位置--\x3e"+h.html),1!=e&&2!=e||console.log(" 找(Name2 有问题) "+h.label+" 与 "+i.label+"("+h.nIndex+"-"+i.nIndex+") 之间有问题 ");var m="";this.setNoFindDom(i.nIndex,h.nIndex);var c=i.lv-h.lv;this.reairHtmlLv(h,c);for(var d=i.nIndex+1;d<=h.nIndex;d++){var g=this.htmlArr[d];if("/"!=g.label.substr(0,1)&&2==g.tagpair){var x=!1;for(p=g.nIndex+1;p<=h.nIndex;p++){var y=this.htmlArr[p];if(2==y.tagpair&&"/"==y.label.substr(0,1)&&y.lv==g.lv){x=!0;break}}0==x&&(m+="</"+g.label+">",t&&(m+="\x3c!--xiyueta提示: 追加 /"+g.label+" --\x3e"),1!=e&&2!=e||console.log(" 找(Name3)  追加结束标签 /"+g.label+" ("+g.nIndex+")"),n++,l++,a=a.replace(","+g.label+",",","))}}h.upHtml+=m}}var v=a.split(",");if(v.length>l){m="";for(o=0;o<=v.length-1;o++)""!=v[o]&&"/"!=v[o].substr(0,1)&&(r="",t&&(r="\x3c!--xiyueta提示: 追加 /"+v[o]+" --\x3e"),m="</"+v[o]+">"+r+m,n++,l++,1!=e&&2!=e||console.log(" 最后  追加结束标签 /"+v[o]));this.htmlArr[this.htmlArr.length-1].downHtml+=m}return{lv:this.lv,err:n,repair:l,state:n==l,errList:u=","==u?"":u}},_XIYUETA.prototype.setNoFindDom=function(t,e){for(var i=t;i<=e;i++){var l=this.htmlArr[i];l&&(l.isFindDom="no")}return null},_XIYUETA.prototype.upFindSameLvObj=function(t,e){for(var i=t-1;0<=i;i--){var l=this.htmlArr[i];if(l&&"no"!=l.isFindDom&&e.lv==l.lv)return l}return null},_XIYUETA.prototype.upFindSameNameObj=function(t,e){for(var i=t-1;0<=i;i--){var l=this.htmlArr[i];if(l&&"no"!=l.isFindDom&&e.label=="/"+l.label)return l}return null},_XIYUETA.prototype.reairHtmlLv=function(t,e){for(var i=t.nIndex;i<=this.htmlArr.length-1;i++)(t=this.htmlArr[i])&&(t.lv+=e)},xiyueta.fullurl=function(t,e){return _xyt.common.fullHttpUrl(t,e)},xiyueta.getUrlFileName=function(t,e){return _xyt.common.getUrlFileName(t,e)},xiyueta.load=function(t){return xiyueta().parse(t),this},xiyueta.html=function(t){return _xyt.printHTML(t)},xiyueta.fn.extend({swap:function(t){return _xyt.swap(this.domList,t),this},item:function(t){return _xyt.getItem(this.domList,t)},config:function(t){t=_xyt.setConfig(t);return null==t?this:t},charset:function(t){return null==t?_xyt.charset():(_xyt.charset(t),this)},handle:function(t,e,i){return _xyt.getHandleSrc(this.selector,t,e,i)},replace:function(t,e,i){return _xyt.replace(this.selector,t,e,i)},clear:function(){return this},repair:function(t,e){return _xyt.repairHTML(t,e)}}),_XIYUETA.prototype.scan=function(t){t="|"+(t=null==t?"":t)+"|";var e=0,i=[],l=!1,s="",r="",n=[],a=this.charset();s+="网页编码="+(a=null==a?"":a)+"\n",s+="网页大小="+this.common.getFileSize(this.common.bystesLength(this.htmlSource))+"\n";for(var h=0;h<=this.htmlArr.length-1;h++)(m=this.htmlArr[h])&&"/"!=m.label.substr(0,1)&&""!=m.label&&(-1==("|"+r+"|").indexOf("|"+m.label+"|")?(""!=r&&(r+="|"),r+=m.label,n[m.label]=1):n[m.label]++);for(var o=r.split("|"),u="",h=0;h<=o.length-1;h++){var f=o[h];u+=f+"("+n[f]+") "}var m=this.repairHTML();s+="网页LV="+this.lv+"\n",s+="网页错误标签数="+m.err+"\n",s+="网页错误标签为="+m.errList+"\n",s+="网页错误标签是否可修复="+m.state+"\n",s+="网页类型标签数="+o.length+"种 "+u+"\n",this.config.downcss=0;for(var c=xiyueta("link[rel|NOUL=stylesheet]").item("href"),d=xiyueta("script").item("src"),h=0;h<=this.htmlArr.length-1;h++)null!=(m=this.htmlArr[h])&&("body"==m.label?(e=m.lv,l=!0):0==l&&-1!="|div|span|table|ul|".indexOf("|"+m.label+"|")?(i.push(m.html),l=!0):l&&m.lv-e==1&&2==m.tagpair&&"/"!=m.label.substr(0,1)&&"!--"!=m.label&&"script"!=m.label.substr(0,6)&&i.push(m.html),"link"==m.label&&"stylesheet"==m.rel&&(p=this.common.fullHttpUrl(this.config.httpurl,m.href),-1!=t.indexOf("|downcss|")&&null==m.content&&(this.getUrlStr(m,p),this.config.downcss++,alert("下载CSS"+p))));if(s+="共有CSS文件 "+c.length+" 条\n",s+="共有JS文件 "+d.length+" 条\n",s+="一层标签共 "+i.length+" 条\n",s+="\n",""!=c){s+="CSS列表:\n";for(h=0;h<=c.length-1;h++)s+=(p=this.common.fullHttpUrl(this.config.httpurl,c[h]))+"\n"}if(""!=d){s+="\n\nJS列表:\n";for(var p,h=0;h<=d.length-1;h++)s+=(p=this.common.fullHttpUrl(this.config.httpurl,d[h]))+"\n"}if(""!=i){s+="\n\n一层标签列表:\n";for(h=0;h<=i.length-1;h++)s+=i[h]+"\n"}return s},xiyueta.fn.extend({scan:function(t){return _xyt.scan(t)}}),_XIYUETA.prototype.cutLabel=function(t,e){for(var i="",l=0;l<=this.htmlArr.length-1;l++)null!=(m=this.htmlArr[l])&&("/style"==m.label?i+=m.upHtml:"link"==m.label&&"stylesheet"==m.rel&&(i+=m.content));var s="*,body,",r=-1;if(""!=(c=this.getDocument(t))){var n=c=c.replace(/,/,""),a=c;-1!=c.indexOf("|")&&(n=(o=c.split("|"))[0],a=o[1]);for(var h,l=n;l<=parseInt(a)-1;l++)null!=(m=this.htmlArr[l])&&"/"!=m.label.substr(0,1)&&(-1==r&&(m.label,r=m.lv),r+1==m.lv&&m.label,r+2==m.lv&&m.label,r+3==m.lv&&m.label,s+=m.label+",",null!=(h=this.handleLabelParam(m,"id"))&&(s+="#"+h.toLowerCase()+","),null!=(h=this.handleLabelParam(m,"class"))&&(s+="."+h.toLowerCase().replace(/ /g,",.")+","));for(var o=s.split(","),s="",l=0;l<=o.length-1;l++)-1==(","+s+",").indexOf(","+o[l]+",")&&(""!=s&&(s+=","),s+=o[l]);var u="",f=new _XIYUETACSS;f.cssParse(i);for(var m,l=0;l<=f.cssArr.length-1;l++)if(null!=(m=f.cssArr[l]))for(var c=","+m.label+",",d=(m.label,0);d<=o.length-1;d++)-1==c.indexOf(","+o[d]+",")&&-1==c.indexOf(","+o[d]+" ")||-1==("\n"+u+"\n").indexOf("\n"+m.html+"\n")&&(u+=m.html+"\n");xiyuetaCSS().parse(u),""!=(u=xiyuetaCSS().print("zip"))&&(u="<style>"+u+"\n</style>\n");n=xiyueta(t).html(null,"all");this.parseHTML(n);n=u+this.printHTML("format")}return n},_XIYUETA.prototype.getUrlStr=function(e,i){var l=this;jQuery.ajax({url:this.config.serverurl+"?act=getUrlStr&n="+Math.random(),type:"POST",data:{httpurl:i},error:function(t,e,i){},success:function(t){xiyuetaCSS().parse(t),xiyuetaCSS().allcss("|url","server="+i),e.content=xiyuetaCSS().print(),l.config.downcss--,0==l.config.downcss?alert(" 下载全部CSS完成，可以点击下一步了 "):alert(" 下载CSS完成,还乘"+l.config.downcss)}})},xiyueta.fn.extend({cutlabel:function(t){return _xyt.cutLabel(this.selector,t)}}),XiyuetaCommon.prototype.handleFileUrl=function(t){var e="",i=t.indexOf("://");for(-1!=i&&(e=t.substr(0,i+3),t=t.substr(i+3));-1!=t.indexOf("//");)t=t.replace(/\/\//g,"/");if(-1!=(t=-1!=t.indexOf("/./")?t.replace(/\/.\//g,"/"):t).indexOf("/../")){for(var l=[],s=0,r=t.split("/"),n=0;n<=r.length-1;n++)".."==(a=r[n])?(0==s?s=n-1:--s,0<=s&&delete l[s]):(l.push(a),s=0);for(t="",n=0;n<=l.length-1;n++){var a=l[n];null!=l[n]&&(""!=t&&(t+="/"),t+=l[n])}}return e+t},XiyuetaCommon.prototype.fullHttpUrl=function(t,e){if(null==e)return"";if(""==(e=e.replace(/\\/g,"/"))||"./"==e)return"";var i="",l="",s="",r=t.indexOf("://");return-1!=r&&(i=t.substr(0,r+3),r=(t=t.substr(r+3)).lastIndexOf("/"),s=i+t.substr(0,r+1),r=t.indexOf("/"),l=i+t.substr(0,r+1)),"//"==e.substr(0,2)?e="http:"+e:-1==e.indexOf("://")&&(e="/"==e.substr(0,1)?l+e:s+e),this.handleFileUrl(e)},XiyuetaCommon.prototype.getUrlFileName=function(t,e){if(null==e&&(e=""),""==t||null==t)return"";var i=(t=t.replace(/\\/g,"/").trim()).split("/"),l=i[i.length-1],s="",t="";return-1!=(l=-1!=l.indexOf("?")?l.substr(0,l.indexOf("?")):l).indexOf(".")&&(i=l.lastIndexOf("."),s=l.substr(0,i),t=l.substr(i+1).toLowerCase()),"image"==e?""==t?l+=".jpg":-1=="|bmp|jpg|jpeg|gif|png|".indexOf("|"+t+"|")&&(l=s+".jpg"):"css"==e?""==t?l+=".css":-1=="|css|".indexOf("|"+t+"|")&&(l=s+".css"):"js"==e?""==t?l+=".js":-1=="|js|".indexOf("|"+t+"|")&&(l=s+".js"):l=s+"."+t,l},XiyuetaCommon.prototype.setFileNameA=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"pie")).replace(/\//g,"la")).replace(/:/g,"maohao")).replace(/\*/g,"xin")).replace(/\?/g,"wen")).replace(/"/g,"yinhao")).replace(/</g,"zou")).replace(/>/g,"you")).replace(/\|/g,"heng")).replace(/\./g,"juhao")).replace(/,/g,"douhao")).replace(/&nbsp;/g," ")).replace(/&quot;/g,"shuang")).replace(/\n/g,"")},XiyuetaCommon.prototype.checkUrl=function(t){return!!/^\b(((https?|ftp):\/\/)?[-a-z0-9]+(\.[-a-z0-9]+)*\.(?:com|edu|gov|int|mil|net|org|biz|info|name|museum|asia|coop|aero|[a-z][a-z]|((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|\d))\b(\/[-a-z0-9_:\@&?=+,.!\/~%\$]*)?)$/i.test(t=null==t?"":t)},XiyuetaCommon.prototype.getDomain=function(t){if("string"!=typeof t)return"";if(-1<t.indexOf("//")){var e=t.indexOf("//",1),e=t.substring(e+1,t.length),t=e.indexOf("/",1);return e=e.substring(1,t)}return""},_XIYUETA.prototype.setTplConfig=function(t){if(null==t)return this.tplConfig;"object"==typeof t&&(null!=t.type&&(this.tplConfig.type=t.type),null!=t.item&&(this.tplConfig.item=t.item),"dedecms"==this.tplConfig.type?(this.tplConfig.webTitle="{dede:global.cfg_webname/}",this.tplConfig.webKeywords="{dede:global.cfg_keywords/}",this.tplConfig.webDescription="{dede:global.cfg_description/}",this.tplConfig.navFor="{dede:channel type='top' row='10'}\n",this.tplConfig.navTitle="[field:typename/]",this.tplConfig.navUrl="[field:typeurl/]",this.tplConfig.navEnd="{/dede:channel}",this.tplConfig.itemFor="自动",this.tplConfig.itemTitle="[field:title/]",this.tplConfig.itemUrl="[field:arcurl/]",this.tplConfig.itemImage="[field:image/]",this.tplConfig.itemAbout="[field:title/]",this.tplConfig.itemBody="[field:title/]",this.tplConfig.itemTime="[field:pubdate function=\"MyDate('Y-m-d H:i',@me)\"/]",this.tplConfig.itemTime1="[field:pubdate function=\"MyDate('Y-m-d',@me)\"/]",this.tplConfig.itemEnd="{/dede:arclist}"):(this.tplConfig.webTitle="<%=webTitle%>",this.tplConfig.webKeywords="<%=webKeywords%>",this.tplConfig.webDescription="<%=webDescription%>",this.tplConfig.navFor='<%rs.open "select * from " & db_PREFIX & "WebColumn where parentId=-1 and isThrough=1 order by sortRank asc" ,conn,1,1\nwhile not rs.eof\n%>\n',this.tplConfig.navTitle='<%=rs("columnName")%>',this.tplConfig.navUrl='<%=getNavUrl(rs("id"),rs("columnType"))%>',this.tplConfig.navEnd="<%rs.movenext:wend:rs.close%>",this.tplConfig.itemFor="自动",this.tplConfig.itemTitle='<%=rs("title")%>',this.tplConfig.itemUrl='detail.asp?id=<%=rs("id")%>',this.tplConfig.itemImage='<%=rs("smallimage")%>',this.tplConfig.itemAbout='<%=rs("aboutContent")%>',this.tplConfig.itemBody='<%=cutStr(rs("bodyContent"),260,"...")%>',this.tplConfig.itemTime='<%=rs("addDateTime")%>',this.tplConfig.itemTime1='<%=format_Time(rs("addDateTime"),2)%>',this.tplConfig.itemEnd="<%rs.movenext:next:rs.close%>"))},_XIYUETA.prototype.webtpl=function(t,e){null==t&&(t=""),this.setTplConfig(e),xiyueta("title").html(this.tplConfig.webTitle),xiyueta("meta[name|NOUL=keywords]").attr("content",this.tplConfig.webKeywords),xiyueta("meta[name|NOUL=description]").attr("content",this.tplConfig.webDescription);for(var i=!1,l=[],s=-1,r=0;r<=this.htmlArr.length-1;r++)null!=(c=this.htmlArr[r])&&("body"==c.label?(s=c.lv,i=!0):0==i&&-1!="|div|span|table|ul|table|".indexOf("|"+c.label+"|")?(c.x=r,l.push(c),i=!0,s=0):i&&c.lv-s==1&&2==c.tagpair&&"/"!=c.label.substr(0,1)&&"!--"!=c.label&&"script"!=c.label.substr(0,6)&&(c.x=r,l.push(c)));console.log("oneLevelArr一层",l),this.tplArr=[];for(var n=l.length-1,r=0;r<=n;r++){var a=l[r];null!=a&&(t=null!=a.id?a.label+"[id="+a.id+"]":null!=a.class?a.label+"[class='"+a.class+"']":a.label,h=a.x,o=this.getHtmlArrY(a,a.x),xiyueta(t,h,o).item().length,this.getSubList(h,o))}console.log("this.tplArr处理",this.tplArr);for(r=0;r<=this.tplArr.length-1;r++){var h=(c=this.tplArr[r]).x,o=c.y,u=c.label,f=u.lastIndexOf(" "),m=u.substr(0,f).trim(),f=u.substr(f+1).trim();-1!=xiyueta("*",h,o).text().indexOf("首页")?(console.log("导航 x:"+h+",y:"+o+" "+f+" "+c.count),xiyueta(m,h,o).nav(f)):(console.log("新闻 x:"+h+",y:"+o+" "+f+" "+c.count),xiyueta(m,h,o).news(f))}if("xiyuetacms"==this.tplConfig.type&&-1!=this.htmlSource.indexOf("版权所有")){alert("有版权所有");for(r=0;r<=this.htmlArr.length-1;r++){var c=this.htmlArr[r];if(void 0!==c&&-1!=c.upHtml.indexOf("版权所有"))for(var d=r-1;0<d;d--){var p=this.htmlArr[d];null!=p&&2==p.tagpair&&"/"!=p.label.substr(0,1)&&(xiyueta(p.label,d,r).html("<%=copyright%>"),d=0)}}}},_XIYUETA.prototype.getHtmlArrY=function(t,e){for(var i=e+1;i<=this.htmlArr.length-1;i++)if(this.htmlArr[i].lv==t.lv)return i;return null},_XIYUETA.prototype.getSubList=function(t,e,i){for(var l="",s=t+1;s<=e;s++){var r,n,a=this.htmlArr[s];null!=a&&(i=null==i?a.lv:i)==a.lv&&"/"!=a.label.substr(0,1)&&(r=this.getHtmlArrY(a,s),-1==("|"+l+"|").indexOf("|"+a.label+"|")&&"<"!==a.label.substr(0,1)&&"{"!==a.label.substr(0,1)&&(l+=a.label+"|",(n=this.getLabelCount(t,e,a.label,a.lv))>=this.tplConfig.item&&this.tplArr.push({label:a.label,x:s,y:e,count:n})),2==a.tagpair&&this.getSubList(s,r))}return""},_XIYUETA.prototype.getLabelCount=function(t,e,i,l){for(var s,r=0,n=t+1;n<=e;n++){var a,h=this.htmlArr[n];null!=h&&(l=null==l?h.lv:l)==h.lv&&i==h.label&&(a=this.getHtmlArrY(h,n),a=xiyueta(h.label,n,a).dom("lable"),null==s?(s=a,r++):s==a&&r++)}return r},_XIYUETA.prototype.nav=function(t,e,i,l){""!=(t=null==t?"":t)&&(t+=" "),aConfig="a"==l&&""!=t?t.trim():t+l.trim(),null==this.tplConfig.webTitle&&xiyueta().tplconfig({}),"a"==l?(xiyueta(aConfig,e,i).attr("href","#"),xiyueta(aConfig,e,i).attr("title",""),xiyueta(aConfig,e,i).attr("alt",""),xiyueta(aConfig,e,i).html("")):(xiyueta(aConfig+" a",e,i).attr("href","#"),xiyueta(aConfig+" a",e,i).attr("title",""),xiyueta(aConfig+" a",e,i).attr("alt",""),xiyueta(aConfig+" a",e,i).html(""));var s=-1,r=-1,n="",a="",h=-1,o=-1,u=0;xiyueta(aConfig,e,i).each(function(t,e){""==n?(n=e.html+e.innerHTML,h=1,s=t):n==e.html+e.innerHTML?h++:""!=a&&a==e.html+e.innerHTML?o++:(a=e.html+e.innerHTML,o=1,r=t),u++});var f,m,c,d=xiyueta(aConfig+":eq("+s+")",e,i).dom("doc|label|");"a"==l&&""==d?(xiyueta(aConfig+":eq("+s+")",e,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+s+")",e,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+s+")",e,i).html(this.tplConfig.navTitle)):"<a></a>"==d?(xiyueta(aConfig+":eq("+s+") a",e,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+s+") a",e,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+s+") a",e,i).html(this.tplConfig.navTitle)):console.log("未找到",d),-1!=r&&("a"==l&&""==d?(xiyueta(aConfig+":eq("+r+")",e,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+r+")",e,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+r+")",e,i).html(this.tplConfig.navTitle)):"<a></a>"==d&&(xiyueta(aConfig+":eq("+r+") a",e,i).attr("href",this.tplConfig.navUrl),xiyueta(aConfig+":eq("+r+") a",e,i).attr("title",this.tplConfig.navTitle),xiyueta(aConfig+":eq("+r+") a",e,i).html(this.tplConfig.navTitle)),a=xiyueta(aConfig+":eq("+r+")",e,i).html(null,"all"),"xiyuetacms"==this.tplConfig.type&&(f=xiyueta(aConfig+":eq("+s+")",e,i).html())==(m=xiyueta(aConfig+":eq("+r+")",e,i).html())&&(f=xiyueta(aConfig+":eq("+s+")",e,i).attr("class"))!=(m=xiyueta(aConfig+":eq("+r+")",e,i).attr("class"))&&(c=f,d=m,o<h&&(c=m,d=f),xiyueta(aConfig+":eq("+s+")",e,i).attr("class",'<%=IIF(isFocusNav(rs),"'+c+'","'+d+'")%>')));n=xiyueta(aConfig+":eq("+s+")",e,i).html(null,"all");h<o&&(g=n,n=a,a=g);for(var p=0;p<=u;p++)xiyueta(t+l+":eq(1)",e,i).remove();var g=this.tplConfig.navFor;-1==o?g+=n:"dedecms"==this.tplConfig.type?(""!=a&&(a=a.replace(/"/g,"'").replace(/\[field:/g,"~").replace(/\/]/g,"~"),g=g.replace("}",' currentstyle="'+a+'"}')),g+=n+"\n"):-1!=n.indexOf("isFocusNav(rs)")?g+=n:-1!=a.indexOf("isFocusNav(rs)")?g+=a:g+="<%if isFocusNav(rs) then%>\n"+a+"\n<%else%>\n"+n+"\n<%end if%>\n",g+=this.tplConfig.navEnd,xiyueta(t+l+":eq(0)",e,i).html(g,"all")},_XIYUETA.prototype.news=function(t,e,i,l){""!=(t=null==t?"":t)&&(t+=" "),aConfig="a"==l&&""!=t?t.trim():t+l.trim();var s=xiyueta(aConfig+":eq(0)",e,i).dom("doc|label|");if(null==this.tplConfig.webTitle&&xiyueta().tplconfig({}),"<a></a>"==s)xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) a",e,i).html(this.tplConfig.itemTitle);else if("<a><img><h1></h1></a>"==s)xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",e,i).attr("src",this.tplConfig.itemImage),xiyueta(aConfig+":eq(0) h1",e,i).html(this.tplConfig.itemTitle);else if("<a><label><img></label><h1></h1><p></p><span></span></a>"==s)xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",e,i).attr("src",this.tplConfig.itemImage),xiyueta(aConfig+":eq(0) h1",e,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) p",e,i).html(this.tplConfig.itemAbout);else if("<a><img><span></span></a>"==s)xiyueta(aConfig+":eq(0) img",e,i).attr("src",this.tplConfig.itemImage),xiyueta(aConfig+":eq(0) span",e,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle);else if("<a></a><span></span>"==s)xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) a",e,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) span",e,i).html(this.handleItemTime(aConfig,e,i,this.tplConfig.itemTitle));else if("<div><a><div><img></div><div><p></p></div></a></div>"==s)xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",e,i).attr("src",this.tplConfig.itemImage),""!=xiyueta(aConfig+":eq(0) img",e,i).attr("alt")&&xiyueta(aConfig+":eq(0) img",e,i).attr("alt",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) p",e,i).html(this.tplConfig.itemTitle);else if("<div><a><i></i><h3></h3><span><span></span></span></a></div>"==s){xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) h3",e,i).html(this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) span:eq(1)",e,i).html(this.tplConfig.itemBody);for(var r=xiyueta(void 0,e,i).item("style"),n=0;n<=r.length-1;n++){xiyuetaCSS().parse("aa{"+r[n]+"}"),xiyuetaCSS().config({parentdir:""});var a,h=xiyuetaCSS().allcss("|url");xiyuetaCSS().allcss("|url",this.tplConfig.itemImage),""!=h&&(a=xiyuetaCSS().print().trim(),xiyueta().replace("style",r[n],a.substr(3,a.length-4)))}}else"<a><img><p></p></a>"==s?(xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",e,i).attr("src",this.tplConfig.itemImage),""!=xiyueta(aConfig+":eq(0) img",e,i).attr("alt")&&xiyueta(aConfig+":eq(0) img",e,i).attr("alt",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) p",e,i).html(this.tplConfig.itemTitle)):"<a><div><img></div><div><div><div></div></div></div></a>"==s?(xiyueta(aConfig+":eq(0) a",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) img",e,i).attr("src",this.tplConfig.itemImage),""!=xiyueta(aConfig+":eq(0) img",e,i).attr("alt")&&xiyueta(aConfig+":eq(0) img",e,i).attr("alt",this.tplConfig.itemTitle),xiyueta(aConfig+":eq(0) div:eq(3)",e,i).html(this.tplConfig.itemTitle)):""==s?(xiyueta(aConfig+":eq(0)",e,i).html(this.tplConfig.itemTitle),"a"==l&&(xiyueta(aConfig+":eq(0)",e,i).attr("href",this.tplConfig.itemUrl),""!=xiyueta(aConfig+":eq(0) a",e,i).attr("title")&&xiyueta(aConfig+":eq(0) a",e,i).attr("title",this.tplConfig.itemTitle))):console.log("labelType(标签类型项没有处理)="+s);var s=xiyueta(t+l+":eq(0)",e,i).html(null,"all"),o=xiyueta(t+l,e,i).item().length;0==o&&(o=10);for(n=0;n<=o;n++)xiyueta(t+l+":eq(1)",e,i).remove();h="dedecms"==this.tplConfig.type?"{dede:arclist titlelen='60' row='"+o+"'}":'<%rs.open "select * from " & db_PREFIX & "ArticleDetail where parentId in("& getNameToAllId("产品中心") &") order by sortRank desc" ,conn,1,1\nfor i=1 to '+o+"\nif rs.eof then exit for\n%>\n",h+=s,h+=this.tplConfig.itemEnd,xiyueta(t+l+":eq(0)",e,i).html(h,"all")},_XIYUETA.prototype.handleItemTime=function(t,e,i,l){var s=xiyueta(t+":eq(0) span",e,i).text().trim(),r="",n="",a=!1,h=-1;""!=s&&("["==s.substr(0,1)&&(r="[",s=s.substr(1)),"]"==s.substr(-1,1)&&(n="]",s=s.substr(0,s.length-1)));new RegExp(/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/).test(s)&&(a=!0,h=2),a&&(l=this.tplConfig.itemTime,l=r+(l=0<h?this.tplConfig.itemTime1:l)+n),xiyueta(t+":eq(0)  span",e,i).html(l)},xiyueta.fn.extend({tplconfig:function(t){return _xyt.setTplConfig(t)},nav:function(t){return _xyt.nav(this.selector,this.x,this.y,t)},news:function(t){return _xyt.news(this.selector,this.x,this.y,t)},webtpl:function(t){return _xyt.webtpl(this.selector,t)}});

module.exports = $
